<!DOCTYPE html> <html xmlns="https://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebSite"> <head> <meta charset="utf-8"/> <meta name="description" content="Do you use fixed or dynamic versions for your dependencies? I wasn&apos;t sure which approach is the right one until I found a formula for myself." /> <meta name="keywords" content="dependency fixed version, dependency hell, dependency packages, fixed version dependency, software dependencies" /> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/> <meta name="google-site-verification" content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8" /> <meta name="author" content="Yegor Bugayenko"> <meta name="article:published_time" content="2019-01-29 00:00:00 +0000"> <meta name="yandex-verification" content="7d2a0afee14d72bc" /> <meta name="og:site_name" content="Yegor Bugayenko"/> <meta name="og:type" content="article" /> <meta name="og:locale" content="en_US" /> <meta name="twitter:account_id" content="4503599630178231" /> <meta name="twitter:creator" content="@yegor256"/> <meta name="twitter:site" content="@yegor256"/> <meta name="twitter:title" property="og:title" content="My Recipe Against Dependency Hell"/> <meta name="twitter:description" property="og:description" content="Do you use fixed or dynamic versions for your dependencies? I wasn&apos;t sure which approach is the right one until I found a formula for myself."/> <meta name="twitter:url" property="og:url" content="https://www.yegor256.com/2019/01/29/dependency-hell.html"/> <meta name="telegram:channel" content="AAAAAEJFMRzsRTRxM3ec6A"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="yegor256" /> <link rel="icon" href="/favicon.ico?3bddfeb3dde" type="image/x-icon"/> <link rel="shortcut icon" href="/favicon.ico?3bddfeb3dde"/> <link rel="apple-touch-icon" href="/favicon.ico?3bddfeb3dde"/> <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="https://www.yegor256.com/rss.xml"/> <link rel="stylesheet" href="/css/layout.css?3bddfeb3dde"/> <link rel="stylesheet" href="/css/icons.css?3bddfeb3dde"/> <link rel="canonical" href="https://www.yegor256.com/2019/01/29/dependency-hell.html" /> <title>My Recipe Against Dependency Hell</title> <meta name='og:image' content='https://www.yegor256.com/images/2019/01/sin-noticias-de-dios.jpg'/><meta name='twitter:image' content='https://www.yegor256.com/images/2019/01/sin-noticias-de-dios.jpg'/><meta name='og:image:width' content='2006'/> <meta name='twitter:image:width' content='2006'/><meta name='og:image:height' content='848'/> <meta name='twitter:image:height' content='848'/><meta name='twitter:card' content='summary_large_image'/><meta name='twitter:image:alt' content='Sin noticias de Dios (2001) by Agustín Díaz Yanes'/> </head> <body><div class="wrapper"> <aside class="header-toggle unprintable" id="header-toggle" title="Show the menu" onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside> <header class="header" id="header"><div class="face"> <a href="/about-me.html#form" class="sub" title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html" style="position:relative;"> <img src="/images/face-256x256.jpg" class="photo" alt="Yegor Bugayenko"/> </a></div><nav><ul class="menu social notranslate"> <li><a href="https://twitter.com/intent/follow?screen_name=yegor256" rel="nofollow" title="Follow me on Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li> <li><a href="/rss.xml" rel="nofollow" title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://github.com/yegor256" rel="nofollow" title="My GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="http://stackoverflow.com/users/187141/yegor256" rel="nofollow" title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.facebook.com/yegor256" rel="nofollow" title="Follow me on Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://instagram.com/yegor256" rel="nofollow" title="Follow me on Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.linkedin.com/in/yegor256" rel="nofollow" title="My LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.youtube.com/c/yegor256?sub_confirmation=1" rel="nofollow" title="My Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li> <li><a href="https://soundcloud.com/yegor256" rel="nofollow" title="My podcast"><i class="icon icon-podcast notranslate" aria-hidden="true"></i></a></li> <li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721" rel="nofollow" title="My iTunes podcast"><i class="icon icon-itunes notranslate" aria-hidden="true"></i></a></li> <li><a href="https://t.me/yegor256news" rel="nofollow" title="My Telegram public channel"><i class="icon icon-telegram notranslate" aria-hidden="true"></i></a></li> <li><a href="mailto:blog@yegor256.com" rel="nofollow" title="Email me any time"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"> <li><a href="/" title="Home page">Home</a></li> <li ><a href="/best.html" title="Best articles to read">12&#160;Best</a></li> <li ><a href="/contents.html" title="The contents of the entire blog">All&#160;474</a></li> <li ><a href="/teaching.html" title="My courses and lectures">Teaching</a></li> <li ><a href="/talks.html" title="Future and past conference talks">Talks</a></li> <li ><a href="/books.html" title="The books I wrote">Books</a></li> <li ><a href="/research.html" title="My research directions and progress">Research</a></li> <li ><a href="/pets.html" title="My loved pet projects">Pets</a></li> <li ><a href="https://www.iccq.ru" title="International Conference on Code Quality">ICCQ</a></li> <li ><a href="https://www.kaicode.org" title="Open Source Festival">KaiCode</a></li> <li ><a href="/testimonials.html" title="What some people say about me">Testimonials</a></li> <li ><a href="/shift-m.html" title="Audio podcast about project management">Shift-M</a></li> <li ><a href="/paintings.html" title="My paintings for sale">Art</a></li></ul></nav><div class="search"> <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction"> <meta itemprop="target" content="https://www.google.com/search?q={q}"/> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input itemprop="query-input" type="text" id="search-query" class="field field-text" required="required" onfocus="$('.google').css('visibility', 'visible');" name="q" placeholder="Search..." autocomplete="off"/> <input type="image" src="/images/google-search-icon.svg" class="google" title="Search via Google" alt="Search via Google"/> </form></div><div class="hot"><ul> <li> If you have an open source repository designed right, there is a chance to win up to $4,096 at <a href="https://www.kaicode.org">KaiCode'25</a>, our 8th annual open source festival. <a href="https://docs.google.com/forms/d/1nUlL2xvL1OOy3LoVF-g7MfB-9yeG68XB2wXW4MAoWrY">Submit</a> your project now, it's free! </li> <li> Are you a Java developer? Ready to move to Moscow (Russia) and join my team for a full-time employment in Fortune-100 company? We are working with <a href="https://www.eolang.org">EO</a>, a new programming language. <a href="mailto:job@yegor256.com">Email me</a>, we'll discuss. </li></ul></div></header></div><section itemscope="" itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><p class="printable"> <img src="https://api.qrserver.com/v1/create-qr-code/?data=https://www.yegor256.com/2019/01/29/dependency-hell.html&amp;format=svg" style="width:125px;height:125px;" alt="QR code"/></p><p class="printable"> <code itemprop="url">https://www.yegor256.com/190129.html</code></p><h1 itemprop="name headline mainEntityOfPage">My Recipe Against Dependency Hell</h1><ul class="subline"> <li> <time itemprop="datePublished" datetime="2019-01-29T00:00:00+00:00"> 29 January 2019 </time> </li> <li class="desktop-only" itemprop="locationCreated">Moscow, Russia</li> <li class="printable" itemscope="" itemprop="author" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </li> <li class="unprintable"> <i class="icon icon-comments"></i> <a href="https://www.yegor256.com/2019/01/29/dependency-hell.html#disqus_thread" itemprop="discussionUrl">comments</a> </li></ul><ul class="unprintable subline"> <li title="The page is translated by ChatGPT from English to a few languages"> Translated by <i class="icon icon-chatgpt notranslate" aria-hidden="true"></i> to </li> <li title="Click to see this page translated to Chinese"> <a href='https://www.yegor256.com/zh/2019/01/29/dependency-hell.html'>中文</a> </li> <li title="Click to see this page translated to Russian"> <a href='https://www.yegor256.com/ru/2019/01/29/dependency-hell.html'>русский</a> </li></ul><p class="unprintable"><a href='/tag/devops.html' class='tag notranslate'>devops</a></p><nav class="buttons notranslate desktop-only"> <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.yegor256.com/2019/01/29/dependency-hell.html" title="Share on Facebook" class="button" rel="nofollow"> <span class="count count-facebook">0</span> <i class="icon icon-facebook notranslate" aria-hidden="true"></i> </a> <a href="https://twitter.com/share?url=https://www.yegor256.com/2019/01/29/dependency-hell.html&amp;text=My+Recipe+Against+Dependency+Hell" title="Share on Twitter" class="button" rel="nofollow"> <span class="count count-twitter">0</span> <i class="icon icon-twitter notranslate" aria-hidden="true"></i> </a> <a href="https://www.linkedin.com/cws/share?url=https://www.yegor256.com/2019/01/29/dependency-hell.html" title="Share on LinkedIn" class="button" rel="nofollow"> <span class="count count-linkedin">0</span> <i class="icon icon-linkedin notranslate" aria-hidden="true"></i> </a> <a href="https://reddit.com/submit?url=https://www.yegor256.com/2019/01/29/dependency-hell.html%3F2019-04&amp;title=My+Recipe+Against+Dependency+Hell" title="Share on Reddit" class="button" rel="nofollow"> <span class="count count-reddit">0</span> <i class="icon icon-reddit notranslate" aria-hidden="true"></i> </a> <a href="https://news.ycombinator.com/submitlink?u=https://www.yegor256.com/2019/01/29/dependency-hell.html%3F2019-04&amp;t=My+Recipe+Against+Dependency+Hell" title="Share on Hacker News" class="button" rel="nofollow"> <span class="count count-hackernews">0</span> <i class="icon icon-hackernews notranslate" aria-hidden="true"></i> </a> <a href="#" title="Cite it via BibTeX" class="button" onclick="$('#bibtex').toggle(); return false;"> <i class="icon icon-tex notranslate" aria-hidden="true"></i> </a> </nav> </header> <article class="main" itemprop="articleBody"><div ><div id="bibtex" style="display: none"><p>Please, cite this blog post via <a href="https://www.bibtex.org/">BibTeX</a> as such:</p><pre style="color:#053c5e;">@misc&#123;bugayenko2019blog0129,
  author = &#123;Bugayenko, Yegor&#125;,
  title = &#123;&#123;My Recipe Against Dependency Hell&#125;&#125;,
  howpublished = &#123;\url&#123;https://www.yegor256.com/190129.html&#125;&#125;,
  year = &#123;2019&#125;,
  month = &#123;jan&#125;,
  note = &#123;[Online; accessed 25-04-2025]&#125;
&#125;</pre></div><p>Do you specify exact versions of your dependencies? I mean, when your software package depends on another one, do you write down, in your <code class="language-plaintext highlighter-rouge">pom.xml</code>, <code class="language-plaintext highlighter-rouge">Gruntfile</code>, <code class="language-plaintext highlighter-rouge">Gemfile</code>, or what have you, its version as <code class="language-plaintext highlighter-rouge">1.13.5</code> or just <code class="language-plaintext highlighter-rouge">1.+</code>? I always <a href="https://twitter.com/yegor256/status/1059856548112068608">thought</a> that it was better to use exact version numbers, to avoid the so called <a href="https://en.wikipedia.org/wiki/Dependency_hell">dependency hell</a>, and <a href="https://blog.danlew.net/2015/09/09/dont-use-dynamic-versions-for-your-dependencies/">I was not alone</a>. However, very soon I <a href="https://twitter.com/yegor256/status/1060538705260265474">realized</a> that dynamic versions, like <code class="language-plaintext highlighter-rouge">1.+</code>, give more flexibility. Just a few weeks ago I realized that neither approach is right and found myself a hybrid formula. No surprise, I again saw that <a href="https://brock.io/post/repeatable_android_builds/">I wasn’t alone</a>.</p><figure class="jb_picture"><img itemprop="image" alt="Sin noticias de Dios (2001) by Agustín Díaz Yanes" src="/images/2019/01/sin-noticias-de-dios.jpg" longdesc="#9005641b" /><figcaption id="9005641b">Sin noticias de Dios (2001) by Agustín Díaz Yanes</figcaption></figure><p>First, let me explain what’s wrong with fixed dependencies.</p><p>Say I create a library X, which depends on, for example, a logging facility, which is a third-party library, not mine. Thus my library X has a <em>dependency</em>. The logging library has a version number, such as <code class="language-plaintext highlighter-rouge">1.13.5</code>. I put this text into the <code class="language-plaintext highlighter-rouge">pom.xml</code> file of X:</p><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>com.example<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>log-me<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>1.13.5<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div></div><p>Many advocates of fixed dependencies argue that it’s very important to stick to the version <code class="language-plaintext highlighter-rouge">1.13.5</code>, instead of using a more flexible dynamic one: <code class="language-plaintext highlighter-rouge">1.13)</code> (i.e. any version, provided it is <code class="language-plaintext highlighter-rouge">1.13</code> or newer). Why? Because future versions may introduce something that will break the build of X. They may change interfaces, rename classes or methods, or delete something that I’m using. You never know what the authors of this <code class="language-plaintext highlighter-rouge">log-me</code> library might do. That’s why it’s better to hard-wire ourselves to <code class="language-plaintext highlighter-rouge">1.13.5</code> and call it a day.</p><p>This is true.</p><p>But.</p><p>What if the library X is used by another library Y, which also depends on <code class="language-plaintext highlighter-rouge">log-me</code> but needs version <code class="language-plaintext highlighter-rouge">1.14.1</code>. Boom! There will be a conflict in library Y: Maven, the package manager, won’t be able to decide which version to use. It will be necessary to resolve the conflict somehow. In the case of Maven it’s resolvable, in the case of, for example, <a href="https://github.com/ruby/rake">Rake</a>, it’s not (to my knowledge).</p><aside class="quote">If you trust the authors of the library, use dynamic versioning; if you don’t, use a fixed version. </aside><p>To resolve this problem, library Y will have to explicitly say which version has to be used. But it can’t be sure that <code class="language-plaintext highlighter-rouge">1.14.1</code> will work correctly with library X. To confirm that it does, it would have to be tested by the authors of library X. So the best the creators of library Y can do is to try it and hope for the best. With other build tools, like Rake, the authors will have no choice, but to ask the authors of library X to upgrade to <code class="language-plaintext highlighter-rouge">1.14.1</code> and release a new version. Then, library Y will be able to use library X.</p><p>This problem would not exist if library X depended on <code class="language-plaintext highlighter-rouge">1.13</code> instead. But, as I mentioned above, in that case its authors would be planting a time bomb—eventually one of the future versions will definitely break the build.</p><p>So what is the solution?</p><p>Here is my formula: If you trust the authors of the library, use dynamic versioning; if you don’t, use a fixed version.</p><p>What I mean is, do you trust that they are professional enough to think about backward compatibility and to follow the principles of <a href="https://semver.org/">semantic versioning</a>? If they are careful enough to not delete or modify something that may affect future versions without also changing the major number of the version, then you can trust them. How do you know who to trust? I don’t trust anyone, except my own libraries and a very small number of other libraries which I have reviewed in GitHub and checked the quality of their repositories.</p><p>Of course, you can’t fully trust anyone, but this is the formula I have for myself now. You can see how it works in this <a href="https://github.com/zold-io/zold/blob/master/zold.gemspec">Gemfile</a>, for example. Pay attention to the version numbers. Those that start with <code class="language-plaintext highlighter-rouge">~&gt;</code> or <code class="language-plaintext highlighter-rouge">&gt;=</code> are dynamic, while others are fixed. It’s a hybrid approach, but it works for me.</p><p>Maybe it will help you too.</p></div></article></div><script>var disqus_shortname = 'yegor256';</script> <script id="dsq-count-scr" src="//yegor256.disqus.com/count.js" async="async"></script><div class="disqus" role="complementary" aria-hidden="true"><p class="disqus_hint" > Please, use <a href="https://help.disqus.com/commenting/what-html-tags-are-allowed-within-comments">syntax highlighting</a> in your comments, to make them more readable.</p><div id="disqus_thread" class="disqus-thread"> <a>&nbsp;</a></div><script> var disqus_config = function () { this.page.url = document.location.href.split('?')[0].split('#')[0]; this.page.identifier = this.page.url; }; (function() { var d = document, s = d.createElement('script'); s.src = '//yegor256.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript><div><p class="red"> JavaScript is disabled in your browser, that's why you can't see comments under this post.</p></div></noscript></div><div class="wrapper"> <footer class="footer"><p> &copy; <span itemscope="" itemprop="copyrightHolder" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </span>, 2014&ndash;<span itemprop="copyrightYear">2025</span></p></footer></div></section><div class="wrapper unprintable" style="text-align:center;margin-top:2em;"> <a href="https://www.sixnines.io/h/3ba1652f"> <img src="//www.sixnines.io/b/3ba1652f?style=flat" alt="sixnines availability badge" /></a> &nbsp; <a href="https://github.com/yegor256/blog/stargazers"> <img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square" alt="GitHub stars" /></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script> <script src="/js/all.js?3bddfeb3dde"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-1963507-32', 'auto'); ga('send', 'pageview'); </script> <script> Cd=document;Cr="&"+Math.random();Cp="&s=1"; Cd.cookie="b=b";if(Cd.cookie)Cp+="&c=1"; Cp+="&t="+(new Date()).getTimezoneOffset(); if(self!=top)Cp+="&f=1"; </script> <script> if(navigator.javaEnabled())Cp+="&j=1"; </script> <script> if(typeof(screen)!='undefined')Cp+="&w="+screen.width+"&h="+ screen.height+"&d="+(screen.colorDepth?screen.colorDepth:screen.pixelDepth); </script> <script> Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+ "&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+ "' border='0' wi"+"dth='1' he"+"ight='1'/>"); </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] } </script> </body> </html>
