<!DOCTYPE html> <html xmlns="https://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebSite"> <head> <meta charset="utf-8"/> <meta name="description" content="What should code reviewers do when they suspect that errors exist but can&apos;t be spotted by visual inspection of the code?" /> <meta name="keywords" content="code review best practices, code review paid, code review vs testing, how to code review, testing in code review" /> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/> <meta name="google-site-verification" content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8" /> <meta name="author" content="Yegor Bugayenko"> <meta name="article:published_time" content="2019-12-03 00:00:00 +0000"> <meta name="og:site_name" content="Yegor Bugayenko"/> <meta name="og:type" content="article" /> <meta name="og:locale" content="en_US" /> <meta name="twitter:account_id" content="4503599630178231" /> <meta name="twitter:creator" content="@yegor256"/> <meta name="twitter:site" content="@yegor256"/> <meta name="twitter:title" property="og:title" content="Does Code Review Involve Testing?"/> <meta name="twitter:description" property="og:description" content="What should code reviewers do when they suspect that errors exist but can&apos;t be spotted by visual inspection of the code?"/> <meta name="twitter:url" property="og:url" content="https://www.yegor256.com/2019/12/03/testing-in-code-review.html"/> <meta name="telegram:channel" content="AAAAAEJFMRzsRTRxM3ec6A"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="yegor256" /> <link rel="shortcut icon" href="/favicon.ico?ac6e2e4b1eb"/> <link rel="apple-touch-icon" href="/favicon.ico?ac6e2e4b1eb"/> <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="https://www.yegor256.com/rss.xml"/> <link rel="stylesheet" href="/css/layout.css?ac6e2e4b1eb"/> <link rel="stylesheet" href="/css/icons.css?ac6e2e4b1eb"/> <link rel="canonical" href="https://www.yegor256.com/2019/12/03/testing-in-code-review.html" /> <title>Does Code Review Involve Testing?</title> <meta name='og:image' content='https://www.yegor256.com/images/2019/12/why-women-kill.jpg'/><meta name='twitter:image' content='https://www.yegor256.com/images/2019/12/why-women-kill.jpg'/><meta name='og:image:width' content='1628'/> <meta name='twitter:image:width' content='1628'/><meta name='og:image:height' content='696'/> <meta name='twitter:image:height' content='696'/><meta name='twitter:card' content='summary_large_image'/><meta name='twitter:image:alt' content='Why Women Kill (2019) by Marc Cherry'/> </head> <body><div class="wrapper"> <aside class="header-toggle unprintable" id="header-toggle" title="Show the menu" onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside> <header class="header" id="header"><div class="face"> <a href="/about-me.html#form" class="sub" title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html" style="position:relative;"> <img src="/images/face-256x256.jpg" class="photo" alt="Yegor Bugayenko"/> </a></div><nav><ul class="menu social notranslate"> <li><a href="https://twitter.com/intent/follow?screen_name=yegor256" rel="nofollow" title="Follow me on Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li> <li><a href="/rss.xml" rel="nofollow" title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://github.com/yegor256" rel="nofollow" title="My GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="http://stackoverflow.com/users/187141/yegor256" rel="nofollow" title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.facebook.com/yegor256" rel="nofollow" title="Follow me on Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://instagram.com/yegor256" rel="nofollow" title="Follow me on Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.linkedin.com/in/yegor256" rel="nofollow" title="My LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.youtube.com/c/yegor256?sub_confirmation=1" rel="nofollow" title="My Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li> <li><a href="https://soundcloud.com/yegor256" rel="nofollow" title="My podcast"><i class="icon icon-podcast notranslate" aria-hidden="true"></i></a></li> <li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721" rel="nofollow" title="My iTunes podcast"><i class="icon icon-itunes notranslate" aria-hidden="true"></i></a></li> <li><a href="https://t.me/yegor256news" rel="nofollow" title="My Telegram public channel"><i class="icon icon-telegram notranslate" aria-hidden="true"></i></a></li> <li><a href="mailto:blog@yegor256.com" rel="nofollow" title="Email me any time"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"> <li><a href="/" title="Home page">Home</a></li> <li ><a href="/best.html" title="Best articles to read">12&#160;Best</a></li> <li ><a href="/contents.html" title="The contents of the entire blog">All&#160;471</a></li> <li ><a href="/teaching.html" title="My courses and lectures">Teaching</a></li> <li ><a href="/talks.html" title="Future and past conference talks">Talks</a></li> <li ><a href="/books.html" title="The books I wrote">Books</a></li> <li ><a href="/research.html" title="My research directions and progress">Research</a></li> <li ><a href="/pets.html" title="My loved pet projects">Pets</a></li> <li ><a href="https://www.iccq.ru" title="International Conference on Code Quality">ICCQ</a></li> <li ><a href="https://www.kaicode.org" title="Open Source Festival">KaiCode</a></li> <li ><a href="/testimonials.html" title="What some people say about me">Testimonials</a></li> <li ><a href="/shift-m.html" title="Audio podcast about project management">Shift-M</a></li> <li ><a href="/paintings.html" title="My paintings for sale">Art</a></li></ul></nav><div class="search"> <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction"> <meta itemprop="target" content="https://www.google.com/search?q={q}"/> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input itemprop="query-input" type="text" id="search-query" class="field field-text" required="required" onfocus="$('.google').css('visibility', 'visible');" name="q" placeholder="Search..." autocomplete="off"/> <input type="image" src="/images/google-search-icon.svg" class="google" title="Search via Google" alt="Search via Google"/> </form></div><div class="hot"><ul></ul></div></header></div><section itemscope="" itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><p class="printable"> <img src="https://api.qrserver.com/v1/create-qr-code/?data=https://www.yegor256.com/2019/12/03/testing-in-code-review.html&amp;format=svg" style="width:125px;height:125px;" alt="QR code"/></p><p class="printable"> <code itemprop="url">https://www.yegor256.com/2019/12/03/testing-in-code-review.html</code></p><h1 itemprop="name headline mainEntityOfPage">Does Code Review Involve Testing?</h1><ul class="subline"> <li> <time itemprop="datePublished" datetime="2019-12-03T00:00:00+00:00"> 3 December 2019 </time> </li> <li class="desktop-only" itemprop="locationCreated">Moscow, Russia</li> <li class="printable" itemscope="" itemprop="author" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </li> <li class="unprintable"> <i class="icon icon-comments"></i> <a href="https://www.yegor256.com/2019/12/03/testing-in-code-review.html#disqus_thread" itemprop="discussionUrl">comments</a> </li></ul><ul class="subline"> <li title="The page is translated by ChatGPT from English to a few languages"> Translated by <i class="icon icon-chatgpt notranslate" aria-hidden="true"></i> to </li> <li title="Click to see this page translated to Chinese"> <a href='https://www.yegor256.com/zh/2019/12/03/testing-in-code-review.html'>中文</a> </li> <li title="Click to see this page translated to Russian"> <a href='https://www.yegor256.com/ru/2019/12/03/testing-in-code-review.html'>русский</a> </li></ul><p class="unprintable"><a href='/tag/management.html' class='tag notranslate'><img src='/images/icons/mushroom.svg' alt='Management'/>management</a></p><nav class="buttons notranslate desktop-only"> <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.yegor256.com/2019/12/03/testing-in-code-review.html" title="Share on Facebook" class="button" rel="nofollow"> <span class="count count-facebook">0</span> <i class="icon icon-facebook notranslate" aria-hidden="true"></i> </a> <a href="https://twitter.com/share?url=https://www.yegor256.com/2019/12/03/testing-in-code-review.html&amp;text=Does+Code+Review+Involve+Testing%3F" title="Share on Twitter" class="button" rel="nofollow"> <span class="count count-twitter">0</span> <i class="icon icon-twitter notranslate" aria-hidden="true"></i> </a> <a href="https://www.linkedin.com/cws/share?url=https://www.yegor256.com/2019/12/03/testing-in-code-review.html" title="Share on LinkedIn" class="button" rel="nofollow"> <span class="count count-linkedin">0</span> <i class="icon icon-linkedin notranslate" aria-hidden="true"></i> </a> <a href="https://reddit.com/submit?url=https://www.yegor256.com/2019/12/03/testing-in-code-review.html%3F2019-48&amp;title=Does+Code+Review+Involve+Testing%3F" title="Share on Reddit" class="button" rel="nofollow"> <span class="count count-reddit">0</span> <i class="icon icon-reddit notranslate" aria-hidden="true"></i> </a> <a href="https://news.ycombinator.com/submitlink?u=https://www.yegor256.com/2019/12/03/testing-in-code-review.html%3F2019-48&amp;t=Does+Code+Review+Involve+Testing%3F" title="Share on Hacker News" class="button" rel="nofollow"> <span class="count count-hackernews">0</span> <i class="icon icon-hackernews notranslate" aria-hidden="true"></i> </a> <a href="#" title="Cite it via BibTeX" class="button" onclick="$('#bibtex').toggle(); return false;"> <i class="icon icon-tex notranslate" aria-hidden="true"></i> </a> </nav> </header> <article class="main" itemprop="articleBody"><div ><div id="bibtex" style="display: none"><p>Please, cite this blog post via <a href="https://www.bibtex.org/">BibTeX</a> as such:</p><pre style="color:#053c5e;">@misc&#123;bugayenko2019blog1203,
  author = &#123;Bugayenko, Yegor&#125;,
  title = &#123;&#123;Does Code Review Involve Testing?&#125;&#125;,
  howpublished = &#123;\url&#123;https://www.yegor256.com/191203.html&#125;&#125;,
  year = &#123;2019&#125;,
  month = &#123;dec&#125;,
  note = &#123;[Online; accessed 17-01-2025]&#125;
&#125;</pre></div><p>When you review a pull/merge request from someone, do you check out the branch and run the build? I usually don’t, but <a href="https://exceptionnotfound.net/should-code-review-include-manual-testing-depends-2/">some people do</a>. Their obvious reason is: running a build, or even testing the product manually, helps find more important errors. Just looking at the source code may not reveal all visual defects recently introduced to the HTML/CSS, for example. It’s better to check out the branch, start Apache, open the site in Chrome, and see what’s broken. Then, make a screenshot, attach it to the pull request, and return it back to the author. But I disagree with this, and here is why.</p><figure class="jb_picture"><img itemprop="image" alt="Why Women Kill (2019) by Marc Cherry" src="/images/2019/12/why-women-kill.jpg" longdesc="#c9ce840f" /><figcaption id="c9ce840f">Why Women Kill (2019) by Marc Cherry</figcaption></figure><p>The discussion is not new, check <a href="https://softwareengineering.stackexchange.com/questions/344618/does-code-review-typically-involve-uat-qa-testing">this</a> and <a href="https://softwareengineering.stackexchange.com/questions/95363/should-code-reviewers-test-as-part-of-the-review">this</a> on SO. However, it seems that all the answers there miss the key point.</p><p>As we all know, there are two <em>conflicting roles</em> in any software project: constructors and destructors, also known as programmers and testers. Programmers add new features and fix bugs. Their result is the amount of functionality created: the more, the better. While testers are breaking the product and reporting bugs, doing anything they can to prove that it’s not yet ready to be shipped to the customer. At some point of time the team (or the management) decides that the fight is over and the product can be delivered.</p><p>Thanks to this essential conflict <em>quality</em> is achieved.</p><p>Programmers finish their part of the fight when the code passes the <em>merge pipeline</em>: the changes are made at their laptops, unit tests pass locally, static analysis doesn’t complain, the build is clean, and the branch is merged to the trunk. This is where programmers stop and get their bonuses.</p><p>Testers finish their part of the fight when they manage to find a new defect in the product deployed to the staging or production environment: the bug is found, reported, and accepted by the project. This is where testers stop and get their bonuses.</p><p>This is obvious. If it’s not, you may want to read <a href="/2014/08/22/art-of-software-testing.html"><em>The Art of Software Testing</em></a> by Glenford Myers or <a href="/code-ahead.html"><em>Code Ahead</em></a> by Yegor Bugayenko. You may also want to watch <a href="https://www.youtube.com/watch?v=jZitXMQaXvE">this video</a>.</p><p>Now, where is the place for a code reviewer in this conflict?</p><aside class="quote">The objective of a merge pipeline is to protect the code repository from programmers. </aside><p>I believe code review is part of the merge pipeline, together with unit tests, static analyzers, linters, coverage control tools, mutation testers, and everything else the project may want to put in there, in order to make the life of programmers more difficult and the quality of the source code higher. The objective of a merge pipeline is to protect the code repository from programmers.</p><p>Code reviewers are no different than linters or static analyzers: They are blocking the branches with bad code from getting into the trunk. When they block, they give their reasons. Their job is done (similar to linters) when they manage to find a problem in the branch and <em>explain</em> it. A linter, when it rejects a pull request, says exactly where the problem is, which line, and how it can be fixed. This is what a good code reviewer must do: find a problematic line, explain the problem, and suggest a solution.</p><p>This is what code reviewers must be paid for: completed reviews.</p><p>What is a completed review? Does “Everything is OK” sound like a completed review? For a linter—yes; for a code reviewer—no. This one is much better: “I found three problems, explained them, and they were either debated or fixed.” This is how the job description of a code reviewer may sound: Find the three most critical problems, explain them, and make sure they are either fixed or correctly argued.</p><p>How reviewers find these three problems—that’s up to them. They may do visual inspections of the code or run the build. However, they will still be paid when they manage to find problems and make sure the author of the code understands them and either fixes them or explains why they are not fixable (or not problems). A visual inspection of the code is fast, while checking the branch out and running the build is a much more time-consuming operation. Moreover, a bug found after running the build locally is very difficult to explain in the code review format. The discussion with the author of the branch will take longer, which means more time to complete the code review, which means lower effectiveness of the code reviewer.</p><aside class="quote">An effective, responsible and greedy code reviewer doesn’t explain to the author of the code what is wrong. </aside><p>My point is that smart code reviewers don’t do that, because it’s not efficient. Pay attention, not because they don’t care, but because they know a better way to contribute to the project. Let’s face it, when the branch in front of us is passing all automated checks like linters and unit tests, and yet still has some bugs which we can reproduce only by executing the code, something is not right with our automated tests. An effective, responsible and greedy code reviewer will not explain to the author of the code what is wrong. Instead, a new bug will be created, to blame the merge pipeline for being too weak. And, of course, this new bug will be rewarded.</p><p>Thus, as a code reviewer, you can work with the branch locally, test it and report your findings to the author. But this will be against your personal interests and not beneficial for the project. Instead, you should complain to the project about the low quality of the automated tests and put the review on hold. When the complaint is resolved, the tests get stronger, you get back to the review, which will be rejected by the merge pipeline, not by you.</p><p>In this case, everybody wins: the pipeline gets stronger, you earn an extra bonus for the reported bug, and the review is rejected with a very specific <em>reproducible</em> reason.</p><p>P.S. The idea of this blog post was suggested by <a href="https://twitter.com/rsoesemann">Robert Sösemann</a>.</p><blockquote class="twitter-tweet"><p lang="en" dir="ltr">You review a pull request and suspect that it doesn&#39;t work, even though the CI status is green. What do you do?</p>&mdash; Yegor Bugayenko (@yegor256) <a href="https://twitter.com/yegor256/status/1231476701806284800?ref_src=twsrc%5Etfw">February 23, 2020</a></blockquote> <script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div></article></div><script>var disqus_shortname = 'yegor256';</script> <script id="dsq-count-scr" src="//yegor256.disqus.com/count.js" async="async"></script><div class="disqus" role="complementary" aria-hidden="true"><p class="disqus_hint" > Please, use <a href="https://help.disqus.com/commenting/what-html-tags-are-allowed-within-comments">syntax highlighting</a> in your comments, to make them more readable.</p><div id="disqus_thread" class="disqus-thread"> <a>&nbsp;</a></div><script> var disqus_config = function () { this.page.url = document.location.href.split('?')[0].split('#')[0]; this.page.identifier = this.page.url; }; (function() { var d = document, s = d.createElement('script'); s.src = '//yegor256.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript><div><p class="red"> JavaScript is disabled in your browser, that's why you can't see comments under this post.</p></div></noscript></div><div class="wrapper"> <footer class="footer"><p> &copy; <span itemscope="" itemprop="copyrightHolder" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </span>, 2014&ndash;<span itemprop="copyrightYear">2025</span></p></footer></div></section><div class="wrapper unprintable" style="text-align:center;margin-top:2em;"> <a href="https://www.sixnines.io/h/3ba1652f"> <img src="//www.sixnines.io/b/3ba1652f?style=flat" alt="sixnines availability badge" /></a> &nbsp; <a href="https://github.com/yegor256/blog/stargazers"> <img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square" alt="GitHub stars" /></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script> <script src="/js/all.js?ac6e2e4b1eb"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-1963507-32', 'auto'); ga('send', 'pageview'); </script> <script> Cd=document;Cr="&"+Math.random();Cp="&s=1"; Cd.cookie="b=b";if(Cd.cookie)Cp+="&c=1"; Cp+="&t="+(new Date()).getTimezoneOffset(); if(self!=top)Cp+="&f=1"; </script> <script> if(navigator.javaEnabled())Cp+="&j=1"; </script> <script> if(typeof(screen)!='undefined')Cp+="&w="+screen.width+"&h="+ screen.height+"&d="+(screen.colorDepth?screen.colorDepth:screen.pixelDepth); </script> <script> Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+ "&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+ "' border='0' wi"+"dth='1' he"+"ight='1'/>"); </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] } </script> </body> </html>
