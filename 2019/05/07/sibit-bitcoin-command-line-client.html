<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebSite"> <head> <meta charset="utf-8"/> <meta name="description" content="Bitcoin, despite all the mystery around Blockchain, is not so technically complex; here is a quick summary of how it works and how you can use it from the command line." /> <meta name="keywords" content="bitcoin, bitcoin programmable, blockchain how works, how bitcoin works" /> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/> <meta name="google-site-verification" content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8" /> <meta name="author" content="Yegor Bugayenko"> <meta name="article:published_time" content="2019-05-07 00:00:00 +0000"> <meta name="og:site_name" content="Yegor Bugayenko"/> <meta name="og:type" content="article" /> <meta name="og:locale" content="en_US" /> <meta name="twitter:account_id" content="4503599630178231" /> <meta name="twitter:creator" content="@yegor256"/> <meta name="twitter:site" content="@yegor256"/> <meta name="twitter:title" property="og:title" content="Sibit Demonstrates How Bitcoin Works"/> <meta name="twitter:description" property="og:description" content="Bitcoin, despite all the mystery around Blockchain, is not so technically complex; here is a quick summary of how it works and how you can use it from the command line."/> <meta name="twitter:url" property="og:url" content="https://www.yegor256.com/2019/05/07/sibit-bitcoin-command-line-client.html"/> <meta name="telegram:channel" content="AAAAAEJFMRzsRTRxM3ec6A"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="yegor256" /> <link rel="shortcut icon" href="/favicon.ico?b0f3971423a"/> <link rel="apple-touch-icon" href="/favicon.ico?b0f3971423a"/> <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="https://www.yegor256.com/rss.xml"/> <link rel="stylesheet" href="/css/layout.css?b0f3971423a"/> <link rel="stylesheet" href="/css/icons.css?b0f3971423a"/> <link rel="canonical" href="https://www.yegor256.com/2019/05/07/sibit-bitcoin-command-line-client.html" /> <title>Sibit Demonstrates How Bitcoin Works</title> <meta name='og:image' content='https://www.yegor256.com/images/2019/05/the-invention-of-lying.jpg'/><meta name='twitter:image' content='https://www.yegor256.com/images/2019/05/the-invention-of-lying.jpg'/><meta name='og:image:width' content='858'/> <meta name='twitter:image:width' content='858'/><meta name='og:image:height' content='536'/> <meta name='twitter:image:height' content='536'/><meta name='twitter:card' content='summary_large_image'/><meta name='twitter:image:alt' content='The Invention of Lying (2009) by Ricky Gervais et al.'/> </head> <body><div class="wrapper"> <aside class="header-toggle unprintable" id="header-toggle" title="Show the menu" onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside> <header class="header" id="header"><div class="face"> <a href="/about-me.html#form" class="sub" title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html" style="position:relative;"> <img src="/images/face-256x256.jpg" class="photo" alt="Yegor Bugayenko"/> </a></div><nav><ul class="menu social notranslate"> <li><a href="https://twitter.com/intent/follow?screen_name=yegor256" rel="nofollow" title="Follow me on Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li> <li><a href="/rss.xml" rel="nofollow" title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://github.com/yegor256" rel="nofollow" title="My GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="http://stackoverflow.com/users/187141/yegor256" rel="nofollow" title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.facebook.com/yegor256" rel="nofollow" title="Follow me on Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://instagram.com/yegor256" rel="nofollow" title="Follow me on Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.linkedin.com/in/yegor256" rel="nofollow" title="My LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.youtube.com/c/yegor256?sub_confirmation=1" rel="nofollow" title="My Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.pinterest.com/yegor256/" rel="nofollow" title="My Pinterest boards"><i class="icon icon-pinterest notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://angel.co/yegor256" rel="nofollow" title="My AngelList profile"><i class="icon icon-angellist notranslate" aria-hidden="true"></i></a></li> <li><a href="https://soundcloud.com/yegor256" rel="nofollow" title="My podcast"><i class="icon icon-podcast notranslate" aria-hidden="true"></i></a></li> <li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721" rel="nofollow" title="My iTunes podcast"><i class="icon icon-itunes notranslate" aria-hidden="true"></i></a></li> <li><a href="https://t.me/yegor256news" rel="nofollow" title="My Telegram public channel"><i class="icon icon-telegram notranslate" aria-hidden="true"></i></a></li> <li><a href="mailto:blog@yegor256.com" rel="nofollow" title="Email me any time"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"> <li><a href="/" title="Home page">Home</a></li> <li ><a href="/best.html" title="Best articles to read">12&#160;Best</a></li> <li ><a href="/contents.html" title="The contents of the entire blog">All&#160;390</a></li> <li ><a href="/teaching.html" title="My courses and lectures">Teaching</a></li> <li ><a href="/talks.html" title="Future and past conference talks">Talks</a></li> <li ><a href="/books.html" title="The books I wrote">Books</a></li> <li ><a href="/research.html" title="My research directions and progress">Research</a></li> <li ><a href="/pets.html" title="My loved pet projects">Pets</a></li> <li ><a href="/testimonials.html" title="What some people say about me">Testimonials</a></li> <li ><a href="/shift-m.html" title="Audio podcast about project management">Shift-M</a></li> <li ><a href="/paintings.html" title="My paintings for sale">Art</a></li> <li><a href="https://ru.yegor256.com/" title="Немного на русском языке о политике в России, Украине и мире">Политика</a></li></ul></nav><div class="search"> <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction"> <meta itemprop="target" content="https://www.google.com/search?q={q}"/> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input itemprop="query-input" type="text" id="search-query" class="field field-text" required="required" onfocus="$('.google').css('visibility', 'visible');" name="q" placeholder="Search..." autocomplete="off"/> <input type="image" src="/images/google-search-icon.svg" class="google" title="Search via Google" alt="Search via Google"/> </form></div><div class="hot"><ul></ul></div></header></div><section itemscope="" itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><p class="printable"> <img src="https://api.qrserver.com/v1/create-qr-code/?data=https://www.yegor256.com/2019/05/07/sibit-bitcoin-command-line-client.html&amp;format=svg" style="width:125px;height:125px;" alt="QR code"/></p><p class="printable"> <code itemprop="url">https://www.yegor256.com/2019/05/07/sibit-bitcoin-command-line-client.html</code></p><h1 itemprop="name headline mainEntityOfPage">Sibit Demonstrates How Bitcoin Works</h1><ul class="subline"> <li> <time itemprop="datePublished" datetime="2019-05-07T00:00:00+00:00"> 7 May 2019 </time> </li> <li class="desktop-only" itemprop="locationCreated">Moscow, Russia</li> <li class="printable" itemscope="" itemprop="author" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </li> <li class="unprintable"> <i class="icon icon-comments"></i> <a href="https://www.yegor256.com/2019/05/07/sibit-bitcoin-command-line-client.html#disqus_thread" itemprop="discussionUrl">comments</a> </li></ul><ul class="subline"> <li title="The page is translated by ChatGPT from English to a few languages"> Translated by <i class="icon icon-chatgpt notranslate" aria-hidden="true"></i> to </li> <li title="Click to see this page translated to Chinese"> <a href='https://www.yegor256.com/zh/2019/05/07/sibit-bitcoin-command-line-client.html'>中文</a> </li> <li title="Click to see this page translated to Russian"> <a href='https://www.yegor256.com/ru/2019/05/07/sibit-bitcoin-command-line-client.html'>русский</a> </li></ul><p class="unprintable"><a href='/tag/crypto.html' class='tag notranslate'>crypto</a></p><nav class="buttons notranslate desktop-only"> <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.yegor256.com/2019/05/07/sibit-bitcoin-command-line-client.html" title="Share on Facebook" class="button" rel="nofollow"> <span class="count count-facebook">0</span> <i class="icon icon-facebook notranslate" aria-hidden="true"></i> </a> <a href="https://twitter.com/share?url=https://www.yegor256.com/2019/05/07/sibit-bitcoin-command-line-client.html&amp;text=Sibit+Demonstrates+How+Bitcoin+Works" title="Share on Twitter" class="button" rel="nofollow"> <span class="count count-twitter">0</span> <i class="icon icon-twitter notranslate" aria-hidden="true"></i> </a> <a href="https://www.linkedin.com/cws/share?url=https://www.yegor256.com/2019/05/07/sibit-bitcoin-command-line-client.html" title="Share on LinkedIn" class="button" rel="nofollow"> <span class="count count-linkedin">0</span> <i class="icon icon-linkedin notranslate" aria-hidden="true"></i> </a> <a href="https://reddit.com/submit?url=https://www.yegor256.com/2019/05/07/sibit-bitcoin-command-line-client.html%3F2019-18&amp;title=Sibit+Demonstrates+How+Bitcoin+Works" title="Share on Reddit" class="button" rel="nofollow"> <span class="count count-reddit">0</span> <i class="icon icon-reddit notranslate" aria-hidden="true"></i> </a> <a href="https://news.ycombinator.com/submitlink?u=https://www.yegor256.com/2019/05/07/sibit-bitcoin-command-line-client.html%3F2019-18&amp;t=Sibit+Demonstrates+How+Bitcoin+Works" title="Share on Hacker News" class="button" rel="nofollow"> <span class="count count-hackernews">0</span> <i class="icon icon-hackernews notranslate" aria-hidden="true"></i> </a> </nav> </header> <article class="main" itemprop="articleBody"><div > <figure class="badge"><a href="https://github.com/yegor256/sibit"><img src="https://raw.githubusercontent.com/yegor256/sibit/master/logo.svg?sanitize=true" style="width:64px;max-width:100%;" alt="badge" /></a></figure><p><a href="https://www.bitcoin.org">Bitcoin</a> was a big technical mystery for me. All the articles I’d read about it sounded extremely complex and absolutely indigestible. Until I got stuck with a task: I had to integrate <a href="https://www.zold.io">Zold</a>, our experimental non-Blockchain cryptocurrency, with Bitcoin. I had to study the architecture of Bitcoin and I found this short and simple <a href="https://www.youtube.com/watch?v=IV9pRBq5A4g">video</a> (I highly recommend you watch it). I managed to implement the integration and understand how Blockchain works. Here is my short summary. I hope it will be helpful.</p><figure class="jb_picture"><img itemprop="image" alt="The Invention of Lying (2009) by Ricky Gervais et al." src="/images/2019/05/the-invention-of-lying.jpg" longdesc="#c8bec95b" /><figcaption id="c8bec95b">The Invention of Lying (2009) by Ricky Gervais et al.</figcaption></figure><p>First, there is a <a href="https://en.bitcoin.it/wiki/Private_key">private key</a>, which is a short piece of text, for example:</p><div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>c93a36feb31712c390a78b37337cb85d45d3b2f9f6e55108bde32477cbabac5f
</code></pre></div></div><p>How did I generate it? It’s random. You can generate one too. Install <a href="https://github.com/yegor256/sibit">Sibit</a>, my Ruby gem, and run the following (it’s a command line tool):</p><div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sibit generate
c93a36feb31712c390a78b37337cb85d45d3b2f9f6e55108bde32477cbabac5f
</code></pre></div></div><p>Every time you call <code class="language-plaintext highlighter-rouge">sibit generate</code> you will get a new private key. It is just a random piece of text (well, a large hex number). Then, you create an <a href="https://en.bitcoin.it/wiki/Address">address</a> from your private key. Each private key has exactly one address. Here is how you create it:</p><div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sibit create c93a36feb31712c390a78b37337cb85d45d3b2f9f6e55108bde32477cbabac5f
1K3JgsdRbbUDUgTGo4gvUXUzRZjBse1TYe
</code></pre></div></div><p>You give it to someone who wants to send you a payment. A transaction in Bitcoin is not what you’re used to thinking about when you imagine a bank transaction. A Bitcoin <a href="https://en.bitcoin.it/wiki/Transaction">transaction</a> has a number of <em>input</em> and <em>output</em> addresses. Say, three inputs of 10 BTC each and two outputs of 25 BTC and 5 BTC. The sum of all inputs must be equal to the sum of all outputs.</p><p>Thus, in one transaction you can move a lot of digital money between addresses. You can take a hundred input addresses and send them to another hundred output addresses. This is what surprised me a bit when I discovered it. The transactions could be pretty large in size. And the sizes matter. They are calculated in bytes. A transaction with one input and one output will consume <a href="https://bitcoin.stackexchange.com/questions/1195/">about</a> 220 bytes. Keep this number in mind, we will get back to it soon.</p><p>As you can imagine already, in order to calculate how much money you have <em>on</em> your address you just go through all the transactions in the entire database (there are <a href="https://www.blockchain.com/en/charts/n-transactions-total">over 400 million</a> already) and see how many transactions had your address as their outputs (your inputs). Then you deduct any transactions that were your outputs and someone else’s inputs. You get the balance. There are many public and free web services which can do this work for you. You don’t need to search the entire database yourself, just use <a href="https://www.blockchain.com/api/blockchain_api">Blockchain API</a> (for example) and they will provide you with the information about any Bitcoin address. Try this address, for example:</p><div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sibit balance 1MUhYhaBqzgpwL1focqJNhTymdXbyky9UY
20000000
</code></pre></div></div><p>It is in <a href="https://en.bitcoin.it/wiki/Satoshi_%28unit%29">satoshi</a>, which is 0.2 BTC. Click <a href="https://www.blockchain.com/btc/address/1MUhYhaBqzgpwL1focqJNhTymdXbyky9UY">here</a> and you will see the inputs and outputs of this address. There is only one transaction that mentioned this address. That transaction had a single input and two outputs. One of its outputs was mine. I got 0.2 bitcoins and they are still here, since there are no transactions which <em>move</em> them somewhere else.</p><p>Thus, simply put, the Blockchain database is a large list of transactions with inputs and outputs in each of them. Once a new transaction gets into this database, the balance of a few addresses change. The database only grows and no previous transactions can be deleted or modified. Thus, once your transaction gets in, the money is moved from address to address.</p><p>To create a transaction you need to know all the input addresses, their private keys, and all the output addresses. You need multiple inputs if you want to send an amount that is larger than you have in a single address. There is something known as a <a href="https://www.bitcoin.com/bitcoin-wallet-directory">wallet</a> in Bitcoin, which is a piece of software, like <a href="https://electrum.org/">Electrum</a>, which keeps track of all your addresses and knows how to create a transaction, combining a number of addresses and using them as inputs. That’s all.</p><p>So, you know the inputs, you specify the outputs and you are expected to leave a small amount unspent. Let’s say your inputs have 10,000 satoshi and you specify an output for 8,000. You leave the residual 2,000 unspent. They are called <a href="https://en.bitcoin.it/wiki/Miner_fees">miner fees</a>. You send your transaction to all Bitcoin nodes, they place it in their memory pool, and attempt to combine a few thousand transactions in a <a href="https://en.bitcoin.it/wiki/Block">block</a>. They all attempt together and only one of them manages to do it, <a href="https://bitcoin.stackexchange.com/questions/8823">approximately</a> once every ten minutes. Once a winner manages to <a href="https://en.bitcoin.it/wiki/Mining">solve</a> a block, it wins that 2,000 you left untouched in your transaction. Every transaction in the block pays that winner some small fee.</p><p>Is it possible to pay nothing? <a href="https://bitcointalk.org/index.php?topic=245552">Yes</a>. However, the smaller the fee you leave in your transaction, the lower the chances that your transaction will go into the next block. Each miner wants to make the maximum out of each block and puts the most “generous” transactions in the block, when trying to <a href="https://en.bitcoin.it/wiki/Mining">mine</a> it.</p><p>The fee depends on the size of the transaction in bytes. Since any transaction may include many inputs and outputs, its size is the only thing that matters. For example, the fee I paid in <a href="https://www.blockchain.com/btc/tx/eede4bb2ad4e3c21a09cf238a282b08daab66937c726dce8fe07ab55793c4c51">this transaction</a> was 8,971 satoshi, which is approximately 40 satoshi per byte, since my transaction included 225 bytes.</p><p>To send your transaction to all Bitcoin nodes you have two options. The first one is to start your own <a href="https://en.bitcoin.it/wiki/Full_node">full node</a>, which will communicate with <a href="https://en.wikipedia.org/wiki/Bitcoin_network">other nodes</a> through the Bitcoin <a href="https://en.bitcoin.it/wiki/Protocol_documentation">protocol</a>. The second option is to use one of the HTTP relays, where you just post your transaction in a POST HTTP request and the relay sends it to all Bitcoin nodes; <a href="https://www.blockchain.com/btc/pushtx">this is</a> one of them.</p><p><a href="https://github.com/yegor256/sibit">Sibit</a> automates this process. You just say:</p><div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sibit pay 200000 L \
  1K3J...se1TYe:c93a36feb3...e55108bde32477cbabac5f \
  153dF1xKyVX5X8brBDroaqKkPmcB8kLtDB \
  1K3JgsdRbbUDUgTGo4gvUXUzRZjBse1TYe
</code></pre></div></div><p>Here, the first argument is the amount you are sending. The second one is the fee you want to leave untouched. I made it easier for you, to help you avoid calculations. Just say <code class="language-plaintext highlighter-rouge">S</code>, <code class="language-plaintext highlighter-rouge">M</code>, <code class="language-plaintext highlighter-rouge">L</code> or <code class="language-plaintext highlighter-rouge">XL</code> and the fee will be calculated more or less correctly. The third argument is a list of addresses and their private keys, separated by a colon. The fourth argument is the target address (<a href="https://github.com/yegor256/sibit">Sibit</a> makes it possible to send to only one address). The last argument is the address where the <a href="https://en.bitcoin.it/wiki/Change">change</a> will be sent.</p><p>If you have 50,000 satoshi in your inputs and you want to send 15,000 satoshi to a friend, you have to find a place where the other 35,000 will be sent—well, minus the miner fee. You just provide your own address and the change will arrive there.</p><p>This is pretty much all you need to know about Bitcoin and Blockchain, in order to use it. What did I miss?</p><blockquote class="twitter-tweet"><p lang="en" dir="ltr">Do you understand how <a href="https://twitter.com/hashtag/Blockchain?src=hash&amp;ref_src=twsrc%5Etfw">#Blockchain</a> works?</p>&mdash; Yegor Bugayenko (@yegor256) <a href="https://twitter.com/yegor256/status/1193419019870715904?ref_src=twsrc%5Etfw">November 10, 2019</a></blockquote> <script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div></article></div><div class="wrapper" aria-hidden="true"> <related-posts /></div><div class="disqus" role="complementary" aria-hidden="true"><p class="disqus_hint" > Please, use <a href="https://help.disqus.com/commenting/what-html-tags-are-allowed-within-comments">syntax highlighting</a> in your comments, to make them more readable.</p><div id="disqus_thread" class="disqus-thread"> <a>&nbsp;</a></div><script> var disqus_config = function () { this.page.url = document.location.href.split('?')[0].split('#')[0].replace('https://', 'http://'); this.page.identifier = this.page.url; }; (function() { var d = document, s = d.createElement('script'); s.src = '//yegor256.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript><div><p class="red"> JavaScript is disabled in your browser, that's why you can't see comments under this post.</p></div></noscript></div><div class="wrapper"> <footer class="footer"><p> &copy; <span itemscope="" itemprop="copyrightHolder" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </span> 2014&ndash;<span itemprop="copyrightYear">2023</span></p></footer></div></section><div class="wrapper unprintable" style="text-align:center;margin-top:2em;"> <a href="https://www.sixnines.io/h/3ba1652f"> <img src="//www.sixnines.io/b/3ba1652f?style=flat" alt="sixnines availability badge" /></a> &nbsp; <a href="https://github.com/yegor256/blog/stargazers"> <img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square" alt="GitHub stars" /></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script> <script src="/js/all.js?b0f3971423a"></script> <script>var disqus_shortname = 'yegor256';</script> <script id="dsq-count-scr" src="//yegor256.disqus.com/count.js" async="async"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-1963507-32', 'auto'); ga('send', 'pageview'); </script> <script> Cd=document;Cr="&"+Math.random();Cp="&s=1"; Cd.cookie="b=b";if(Cd.cookie)Cp+="&c=1"; Cp+="&t="+(new Date()).getTimezoneOffset(); if(self!=top)Cp+="&f=1"; </script> <script> if(navigator.javaEnabled())Cp+="&j=1"; </script> <script> if(typeof(screen)!='undefined')Cp+="&w="+screen.width+"&h="+ screen.height+"&d="+(screen.colorDepth?screen.colorDepth:screen.pixelDepth); </script> <script> Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+ "&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+ "' border='0' wi"+"dth='1' he"+"ight='1'/>"); </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] } </script> </body> </html>
