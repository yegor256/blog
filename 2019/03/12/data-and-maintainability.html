<!DOCTYPE html> <html xmlns="https://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebSite"> <head> <meta charset="utf-8"/> <meta name="description" content="In object-oriented programming, the more visible and accessible object attributes are, the lower the maintainability of the code around it." /> <meta name="keywords" content="object-oriented, object-oriented maintainability, object-oriented readability, object-oriented spaghetti code, spaghetti code" /> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/> <meta name="google-site-verification" content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8" /> <meta name="author" content="Yegor Bugayenko"> <meta name="article:published_time" content="2019-03-12 00:00:00 +0000"> <meta name="yandex-verification" content="7d2a0afee14d72bc" /> <meta name="og:site_name" content="Yegor Bugayenko"/> <meta name="og:type" content="article" /> <meta name="og:locale" content="en_US" /> <meta name="twitter:account_id" content="4503599630178231" /> <meta name="twitter:creator" content="@yegor256"/> <meta name="twitter:site" content="@yegor256"/> <meta name="twitter:title" property="og:title" content="How Data Visibility Hurts Maintainability"/> <meta name="twitter:description" property="og:description" content="In object-oriented programming, the more visible and accessible object attributes are, the lower the maintainability of the code around it."/> <meta name="twitter:url" property="og:url" content="https://www.yegor256.com/2019/03/12/data-and-maintainability.html"/> <meta name="telegram:channel" content="AAAAAEJFMRzsRTRxM3ec6A"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="yegor256" /> <link rel="icon" href="/favicon.ico?8aa6c60" type="image/x-icon"/> <link rel="shortcut icon" href="/favicon.ico?8aa6c60"/> <link rel="apple-touch-icon" href="/favicon.ico?8aa6c60"/> <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="https://www.yegor256.com/rss.xml"/> <link rel="stylesheet" href="/css/layout.css?8aa6c60"/> <link rel="stylesheet" href="/css/icons.css?8aa6c60"/> <link rel="canonical" href="https://www.yegor256.com/2019/03/12/data-and-maintainability.html" /> <title>How Data Visibility Hurts Maintainability</title> <meta name='og:image' content='https://www.yegor256.com/images/2019/03/taboo.jpg'/><meta name='twitter:image' content='https://www.yegor256.com/images/2019/03/taboo.jpg'/><meta name='og:image:width' content='1906'/> <meta name='twitter:image:width' content='1906'/><meta name='og:image:height' content='1073'/> <meta name='twitter:image:height' content='1073'/><meta name='twitter:card' content='summary_large_image'/><meta name='twitter:image:alt' content='Taboo (2017) by Tom Hardy, et al.'/> </head> <body><div class="wrapper"> <aside class="header-toggle unprintable" id="header-toggle" title="Show the menu" onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside> <header class="header" id="header"><div class="face"> <a href="/about-me.html#form" class="sub" title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html" style="position:relative;"> <img src="/images/face-256x256.jpg" class="photo" alt="Yegor Bugayenko"/> </a></div><nav><ul class="menu social notranslate"> <li><a href="https://twitter.com/intent/follow?screen_name=yegor256" rel="nofollow" title="Follow me on Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li> <li><a href="/rss.xml" rel="nofollow" title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://github.com/yegor256" rel="nofollow" title="My GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="http://stackoverflow.com/users/187141/yegor256" rel="nofollow" title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.facebook.com/yegor256" rel="nofollow" title="Follow me on Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://instagram.com/yegor256" rel="nofollow" title="Follow me on Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.linkedin.com/in/yegor256" rel="nofollow" title="My LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.youtube.com/c/yegor256?sub_confirmation=1" rel="nofollow" title="My Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li> <li><a href="https://soundcloud.com/yegor256" rel="nofollow" title="My podcast"><i class="icon icon-podcast notranslate" aria-hidden="true"></i></a></li> <li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721" rel="nofollow" title="My iTunes podcast"><i class="icon icon-itunes notranslate" aria-hidden="true"></i></a></li> <li><a href="https://t.me/yegor256news" rel="nofollow" title="My Telegram public channel"><i class="icon icon-telegram notranslate" aria-hidden="true"></i></a></li> <li><a href="mailto:blog@yegor256.com" rel="nofollow" title="Email me any time"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"> <li><a href="/" title="Home page">Home</a></li> <li ><a href="/best.html" title="Best articles to read">12&#160;Best</a></li> <li ><a href="/contents.html" title="The contents of the entire blog">All&#160;475</a></li> <li ><a href="/teaching.html" title="My courses and lectures">Teaching</a></li> <li ><a href="/talks.html" title="Future and past conference talks">Talks</a></li> <li ><a href="/books.html" title="The books I wrote">Books</a></li> <li ><a href="/research.html" title="My research directions and progress">Research</a></li> <li ><a href="/pets.html" title="My loved pet projects">Pets</a></li> <li ><a href="https://www.iccq.ru" title="International Conference on Code Quality">ICCQ</a></li> <li ><a href="https://www.kaicode.org" title="Open Source Festival">KaiCode</a></li> <li ><a href="/testimonials.html" title="What some people say about me">Testimonials</a></li> <li ><a href="/shift-m.html" title="Audio podcast about project management">Shift-M</a></li> <li ><a href="/paintings.html" title="My paintings for sale">Art</a></li></ul></nav><div class="search"> <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction"> <meta itemprop="target" content="https://www.google.com/search?q={q}"/> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input itemprop="query-input" type="text" id="search-query" class="field field-text" required="required" onfocus="$('.google').css('visibility', 'visible');" name="q" placeholder="Search..." autocomplete="off"/> <input type="image" src="/images/google-search-icon.svg" class="google" title="Search via Google" alt="Search via Google"/> </form></div><div class="hot"><ul> <li> If you have an open source repository designed right, there is a chance to win up to $4,096 at <a href="https://www.kaicode.org">KaiCode'25</a>, our 8th annual open source festival. <a href="https://docs.google.com/forms/d/1nUlL2xvL1OOy3LoVF-g7MfB-9yeG68XB2wXW4MAoWrY">Submit</a> your project now, it's free! </li> <li> Are you a Java developer? Ready to move to Moscow (Russia) and join my team for a full-time employment in Fortune-100 company? We are working with <a href="https://www.eolang.org">EO</a>, a new programming language. <a href="mailto:job@yegor256.com">Email me</a>, we'll discuss. </li></ul></div></header></div><section itemscope="" itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><p class="printable"> <img src="https://api.qrserver.com/v1/create-qr-code/?data=https://www.yegor256.com/2019/03/12/data-and-maintainability.html&amp;format=svg" style="width:125px;height:125px;" alt="QR code"/></p><p class="printable"> <code itemprop="url">https://www.yegor256.com/190312.html</code></p><h1 itemprop="name headline mainEntityOfPage">How Data Visibility Hurts Maintainability</h1><ul class="subline"> <li> <time itemprop="datePublished" datetime="2019-03-12T00:00:00+00:00"> 12 March 2019 </time> </li> <li class="desktop-only" itemprop="locationCreated">Moscow, Russia</li> <li class="printable" itemscope="" itemprop="author" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </li> <li class="unprintable"> <i class="icon icon-comments"></i> <a href="https://www.yegor256.com/2019/03/12/data-and-maintainability.html#disqus_thread" itemprop="discussionUrl">comments</a> </li></ul><ul class="unprintable subline"> <li title="The page is translated by ChatGPT from English to a few languages"> Translated by <i class="icon icon-chatgpt notranslate" aria-hidden="true"></i> to </li> <li title="Click to see this page translated to Chinese"> <a href='https://www.yegor256.com/zh/2019/03/12/data-and-maintainability.html'>中文</a> </li> <li title="Click to see this page translated to Russian"> <a href='https://www.yegor256.com/ru/2019/03/12/data-and-maintainability.html'>русский</a> </li></ul><p class="unprintable"><a href='/tag/oop.html' class='tag notranslate'><img src='/images/icons/cactus.svg' alt='OOP'/>oop</a></p><nav class="buttons notranslate desktop-only"> <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.yegor256.com/2019/03/12/data-and-maintainability.html" title="Share on Facebook" class="button" rel="nofollow"> <span class="count count-facebook">0</span> <i class="icon icon-facebook notranslate" aria-hidden="true"></i> </a> <a href="https://twitter.com/share?url=https://www.yegor256.com/2019/03/12/data-and-maintainability.html&amp;text=How+Data+Visibility+Hurts+Maintainability" title="Share on Twitter" class="button" rel="nofollow"> <span class="count count-twitter">0</span> <i class="icon icon-twitter notranslate" aria-hidden="true"></i> </a> <a href="https://www.linkedin.com/cws/share?url=https://www.yegor256.com/2019/03/12/data-and-maintainability.html" title="Share on LinkedIn" class="button" rel="nofollow"> <span class="count count-linkedin">0</span> <i class="icon icon-linkedin notranslate" aria-hidden="true"></i> </a> <a href="https://reddit.com/submit?url=https://www.yegor256.com/2019/03/12/data-and-maintainability.html%3F2019-10&amp;title=How+Data+Visibility+Hurts+Maintainability" title="Share on Reddit" class="button" rel="nofollow"> <span class="count count-reddit">0</span> <i class="icon icon-reddit notranslate" aria-hidden="true"></i> </a> <a href="https://news.ycombinator.com/submitlink?u=https://www.yegor256.com/2019/03/12/data-and-maintainability.html%3F2019-10&amp;t=How+Data+Visibility+Hurts+Maintainability" title="Share on Hacker News" class="button" rel="nofollow"> <span class="count count-hackernews">0</span> <i class="icon icon-hackernews notranslate" aria-hidden="true"></i> </a> <a href="#" title="Cite it via BibTeX" class="button" onclick="$('#bibtex').toggle(); return false;"> <i class="icon icon-tex notranslate" aria-hidden="true"></i> </a> </nav> </header> <article class="main" itemprop="articleBody"><div ><div id="bibtex" style="display: none"><p>Please, cite this blog post via <a href="https://www.bibtex.org/">BibTeX</a> as such:</p><pre style="color:#053c5e;">@misc&#123;bugayenko2019blog0312,
  author = &#123;Bugayenko, Yegor&#125;,
  title = &#123;&#123;How Data Visibility Hurts Maintainability&#125;&#125;,
  howpublished = &#123;\url&#123;https://www.yegor256.com/190312.html&#125;&#125;,
  year = &#123;2019&#125;,
  month = &#123;mar&#125;,
  note = &#123;[Online; accessed 18-05-2025]&#125;
&#125;</pre></div><p>I’ve been writing <a href="/tags/oop.html">so much</a> about object-oriented programming and its <a href="/2016/02/03/design-patterns-and-anti-patterns.html">pitfalls</a>, claiming that most of the design patterns and “good practices” which we are accustomed to are actually <a href="/2014/09/10/anti-patterns-in-oop.html">wrong and hurtful</a>, that I totally forgot to explain the bigger picture problem. Someone <a href="https://www.yegor256.com/2016/11/21/naked-data.html#comment-3879044054">asked</a> me some time ago in the <a href="/2016/11/21/naked-data.html">blog post</a> about “naked” data: What is the problem we are solving and why exactly does maintainability suffer if we don’t <em>encapsulate</em> our data enough? Here is the answer.</p><figure class="jb_picture"><img itemprop="image" alt="Taboo (2017) by Tom Hardy, et al." src="/images/2019/03/taboo.jpg" longdesc="#ef452fbf" /><figcaption id="ef452fbf">Taboo (2017) by Tom Hardy, et al.</figcaption></figure><p>I re-read the first few pages of <a href="/elegant-objects.html"><em>Elegant Objects, Volume 1</em></a>, my book entirely dedicated to the problem of modern object-oriented programming <a href="/2016/08/15/what-is-wrong-object-oriented-programming.html">flaws</a>, and found out that maintainability is directly mentioned there: “The main goal I’m trying to achieve with this writing is to increase the <em>maintainability</em> of your code,” and then it also explains that maintainability is “the time required for me to understand your code.” You <a href="https://softwareengineering.stackexchange.com/questions/141005">can argue with that</a>, but the question remains: how does the lack of “true” object-orientation and proper encapsulation hurt readability?</p><p>I don’t know the exact answer, but here is my own version, derived from my years of coding and suffering: <em>smaller scope</em> is the key success factor of better maintainability, and lack of encapsulation leads to a larger scope. You know what <a href="https://en.wikipedia.org/wiki/Scope_%28computer_science%29">scope of visibility</a> is, right? Let’s take this C code as an example:</p><div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">print</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"%d * 2 = %d"</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">2</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"%d * 3 = %d"</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">3</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><p>There are two variables <code class="language-plaintext highlighter-rouge">i</code>, visible in two different <code class="language-plaintext highlighter-rouge">for</code> loops, two different scopes of visibility. The <em>size</em> of each scope is three lines of code. How about this code, doing exactly the same:</p><div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">print</span><span class="p">()</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">while</span> <span class="p">(</span><span class="o">++</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"%d * 2 = %d"</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">2</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="n">i</span> <span class="o">-=</span> <span class="mi">10</span><span class="p">;</span>
  <span class="k">while</span> <span class="p">(</span><span class="o">++</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"%d * 3 = %d"</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">3</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><p>Now, the scope of visibility of <code class="language-plaintext highlighter-rouge">i</code> is ten lines of code. The code works as well as in the first snippet, but its maintainability is lower, because in order to understand what’s going on and how to modify it, I need more time. I need to read a 10-line block of code, instead of two 3-line blocks. I need to understand the entire method <code class="language-plaintext highlighter-rouge">print()</code> before I can start making any modifications. I need to understand the lifetime algorithm of that poor <code class="language-plaintext highlighter-rouge">i</code> and why, for example, it gets decremented by 10 instead of being reassigned to zero—this is the surprise previous programmers left for me. Maybe they were not aware of the existence of <code class="language-plaintext highlighter-rouge">for</code> loops?</p><p>It’s obvious that the first snippet is better than the second one. The question is how do we <em>make</em> programmers write code the way the first snippet is written and make the scope of each variable and function smaller? We can teach them, write books for them, convince them, train them, or maybe even punish them for larger scope and less readable code, but if the programming language itself doesn’t prevent these large scopes from happening, nothing will really help. It’s better to <a href="/2016/11/29/eolang.html">invent</a> a programming language or an entire programming paradigm to make it harder, or impossible, to grow the scope.</p><p>For example, the largest scope you can imagine in C/C++, Python, Ruby and many other modern languages is the <a href="/2018/07/03/global-variables.html">global</a> one, for example here:</p><div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">void</span> <span class="nf">print</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">while</span> <span class="p">(</span><span class="o">++</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"%d * 2 = %d"</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">2</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><p>Now the variable <code class="language-plaintext highlighter-rouge">i</code> is visible not only inside the function <code class="language-plaintext highlighter-rouge">print()</code> but in <del>many</del> all other places of the application we develop. The scope of visibility of <code class="language-plaintext highlighter-rouge">i</code> is the size of the entire code base. Needless to say that makes the code of function <code class="language-plaintext highlighter-rouge">print()</code> <a href="/2018/07/03/global-variables.html">very unreadable</a>. I simply can’t know what value to expect in <code class="language-plaintext highlighter-rouge">i</code> when the execution of <code class="language-plaintext highlighter-rouge">print()</code> starts—I have to go through the entire code base to find it out. If it’s a small app, maybe I will manage, but if it’s a large piece of software, I will have big troubles. So, how about we create a programming language, which will not allow global variables? This will solve the problem. Programmers will have no technical ability to define them and their scopes will inevitably be smaller.</p><aside class="quote">I believe that objects were invented to force programmers to keep their scopes of visibility smaller. </aside><p>I believe that objects <a href="/2017/12/12/alan-kay-was-wrong.html">were invented</a> exactly to do that: to <em>force</em> programmers to keep their scopes of visibility smaller. Well, actually, functions and sub-routines were invented for that too, but with a less strong emphasis on the “force” part, since they could co-exist with code parts that were not decomposed yet. To the contrary, objects were supposed to be first-class citizens of an object world, communicating with objects only.</p><p>They were.</p><p>But then C++ showed up and ruined everything.</p><p>Let’s try to introduce an object to our C snippet, the way <del>most</del> some C++ programmers would do it:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Idx</span> <span class="p">{</span>
<span class="nl">public:</span>
  <span class="kt">int</span> <span class="n">get</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">v</span><span class="p">;</span> <span class="p">}</span>
  <span class="kt">void</span> <span class="nf">add</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">)</span> <span class="p">{</span> <span class="n">v</span> <span class="o">+=</span> <span class="n">a</span><span class="p">;</span> <span class="p">}</span>
<span class="k">private</span><span class="o">:</span>
  <span class="kt">int</span> <span class="n">v</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div><p>And then:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">print</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">Idx</span> <span class="n">i</span><span class="p">();</span>
  <span class="k">while</span> <span class="p">(</span><span class="n">i</span><span class="p">.</span><span class="n">get</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"%d * 2 = %d"</span><span class="p">,</span> <span class="n">i</span><span class="p">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">i</span><span class="p">.</span><span class="n">get</span><span class="p">()</span> <span class="o">*</span> <span class="mi">2</span><span class="p">);</span>
    <span class="n">i</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="n">i</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">);</span>
  <span class="k">while</span> <span class="p">(</span><span class="n">i</span><span class="p">.</span><span class="n">get</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"%d * 3 = %d"</span><span class="p">,</span> <span class="n">i</span><span class="p">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">i</span><span class="p">.</span><span class="n">get</span><span class="p">()</span> <span class="o">*</span> <span class="mi">3</span><span class="p">);</span>
    <span class="n">i</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><p>What changed? Not much. Instead of a plain “scalar” variable <code class="language-plaintext highlighter-rouge">i</code> we have an “object,” which stores an integer value inside and provides a few methods to access it and modify it. Did it help us minimize the scope? Not at all. Moreover, the length of <code class="language-plaintext highlighter-rouge">print()</code> is now even a few lines longer. But now we have an object and can call our code object-oriented!</p><p>This is how most of the “objects” are used nowadays, mostly thanks to C++: they are just data holders, while the real users of the data are still outside of them. The object <code class="language-plaintext highlighter-rouge">Idx</code> doesn’t know anything about the real purpose of the data it holds. It doesn’t know that its <code class="language-plaintext highlighter-rouge">v</code> is used as a step counter and that it gets multiplied by something before printing some text. <code class="language-plaintext highlighter-rouge">Idx</code> is a data holder, while the real logic is outside of it.</p><p>The maintainability problem is not solved, the scope is not smaller, the complexity of the code is not reduced. Moreover, it is increased, because now, in order to understand how <code class="language-plaintext highlighter-rouge">print()</code> works, I have to know what is inside the <code class="language-plaintext highlighter-rouge">Idx</code>. The object paradigm in this particular example made a promise to take part of the problem and let me never worry about it, but in reality it only made the problem larger, by giving me back two problems: <code class="language-plaintext highlighter-rouge">print()</code> and <code class="language-plaintext highlighter-rouge">Idx</code>.</p><figure class="badge"><a href="https://amzn.to/2uMlANB"><img src="/images/2019/03/bjarne-stroustrup-book.jpg" style="width:96px;max-width:100%;" alt="badge" /></a></figure><p>Why is this thanks to C++? Because C++ added object-orientation on top of C procedural programming ideas, never even thinking about prohibiting some of them, to <em>force</em> programmers to write objects the way they are supposed to be written: as black boxes that encapsulate everything they need and never allow anyone from the outside to even <em>know</em> what’s inside! C++ didn’t even make an attempt to switch the paradigm from procedures and variables to objects and methods. <a href="https://en.wikipedia.org/wiki/Bjarne_Stroustrup">Bjarne Stroustrup</a>, the creator of C++, just gave programmers methods and classes and said: “Use them, they are more convenient than variables, … or maybe not, sometimes, … I don’t know” (I’m not sure it’s his quote, but I believe that it’s very close to what he had in mind). Read <a href="https://amzn.to/2uMlANB">his book</a>, and you will see how many pages are dedicated to the philosophy of object orientation and how many to the technicalities of operators and statements.</p><p>A proper object-oriented solution would look different and would involve true encapsulation, where data never “escapes” the borders of its owner. First, here is how I would design <code class="language-plaintext highlighter-rouge">Idx</code>… well, I would rename it first and call it <code class="language-plaintext highlighter-rouge">Line</code>:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Line</span> <span class="p">{</span>
<span class="nl">public:</span>
  <span class="n">Line</span><span class="p">(</span><span class="kt">int</span> <span class="n">m</span><span class="p">)</span><span class="o">:</span> <span class="n">mul</span><span class="p">(</span><span class="n">m</span><span class="p">)</span> <span class="p">{};</span>
  <span class="kt">void</span> <span class="nf">print</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"%d * %d = %d"</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">v</span> <span class="o">*</span> <span class="n">m</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="kt">bool</span> <span class="nf">next</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">bool</span> <span class="n">n</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
      <span class="o">++</span><span class="n">v</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="n">n</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">n</span><span class="p">;</span>
  <span class="p">}</span>
<span class="k">private</span><span class="o">:</span>
  <span class="kt">int</span> <span class="n">mul</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">v</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div><p>And now here is the code of <code class="language-plaintext highlighter-rouge">print()</code>:</p><div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">print</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">Line</span> <span class="n">a</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
  <span class="k">while</span> <span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">next</span><span class="p">())</span> <span class="p">{</span> <span class="n">a</span><span class="p">.</span><span class="n">print</span><span class="p">();</span> <span class="p">}</span>
  <span class="n">Line</span> <span class="nf">b</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
  <span class="k">while</span> <span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="n">next</span><span class="p">())</span> <span class="p">{</span> <span class="n">b</span><span class="p">.</span><span class="n">print</span><span class="p">();</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><p>As you see, <code class="language-plaintext highlighter-rouge">print()</code> doesn’t have any access to the internal data of <code class="language-plaintext highlighter-rouge">Line</code>. All <code class="language-plaintext highlighter-rouge">print()</code> can do is ask the <code class="language-plaintext highlighter-rouge">Line</code> to move forward and print itself. How exactly this logic is implemented inside the <code class="language-plaintext highlighter-rouge">Line</code>—nobody knows and nobody wants to know. Since we don’t have any <a href="/2014/09/16/getters-and-setters-are-evil.html">getters</a> in the <code class="language-plaintext highlighter-rouge">Line</code>, we can’t fetch the data out of it.</p><p>Since we can’t get the data out, we can’t build any logic in the <code class="language-plaintext highlighter-rouge">print()</code>. We simply have nothing to work with, no data, no integers, no numbers. We can only deal with objects, which don’t trust us with their internals. We can only <em>politely</em> ask them to do something for us. The scope of <code class="language-plaintext highlighter-rouge">print()</code> is pretty small now and very well <em>isolated</em> from the internals of the <code class="language-plaintext highlighter-rouge">Line</code>. Proper encapsulation helped us achieve that: by not exposing the internals of the <code class="language-plaintext highlighter-rouge">Line</code> we made it impossible for anyone to invite themselves into its own scope. The <code class="language-plaintext highlighter-rouge">print()</code> simply can’t do anything with the data encapsulated by the <code class="language-plaintext highlighter-rouge">Line</code>.</p><p>Thus, the more visible and accessible the data is, the lower the maintainability.</p><p>The very idea of object-oriented programming is based on encapsulation, which doesn’t mean just restricting the ability to modify object attributes from the outside, but also prohibiting everyone from reading those attributes.</p><blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">What is wrong with this Java object? <a href="https://twitter.com/hashtag/elegantobjects?src=hash&amp;ref_src=twsrc%5Etfw">#elegantobjects</a> <a href="https://twitter.com/hashtag/java?src=hash&amp;ref_src=twsrc%5Etfw">#java</a><br /><br />final class Time {<br /> int getHours();<br /> int getMinutes();<br /> int getSeconds();<br />}</p>&mdash; Yegor Bugayenko (@yegor256) <a href="https://twitter.com/yegor256/status/1109750701285142533?ref_src=twsrc%5Etfw">March 24, 2019</a></blockquote> <script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div></article></div><div class="disqus" role="complementary" aria-hidden="true"><p class="disqus_hint" > Please, use <a href="https://help.disqus.com/commenting/what-html-tags-are-allowed-within-comments">syntax highlighting</a> in your comments, to make them more readable.</p><div id="disqus_thread" class="disqus-thread"> <a>&nbsp;</a></div><script> var disqus_config = function () { this.page.url = document.location.href.split('?')[0].split('#')[0]; this.page.identifier = this.page.url; }; (function() { var d = document, s = d.createElement('script'); s.src = '//yegor256.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript><div><p class="red"> JavaScript is disabled in your browser, that's why you can't see comments under this post.</p></div></noscript></div><div class="wrapper"> <footer class="footer"><p> &copy; <span itemscope="" itemprop="copyrightHolder" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </span>, 2014&ndash;<span itemprop="copyrightYear">2025</span></p></footer></div></section><div class="wrapper unprintable" style="text-align:center;margin-top:2em;"> <a href="https://www.sixnines.io/h/3ba1652f"> <img src="//www.sixnines.io/b/3ba1652f?style=flat" alt="sixnines availability badge" /></a> &nbsp; <a href="https://github.com/yegor256/blog/stargazers"> <img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square" alt="GitHub stars" /></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script> <script src="/js/all.js?8aa6c60"></script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] } </script> </body> </html>
