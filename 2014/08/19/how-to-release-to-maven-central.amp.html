<!DOCTYPE html>
<html amp lang="en">
  <head>

    <meta charset="utf-8">
    <title>How to Release to Maven Central, in One Click</title>
    <link rel="canonical" href="http://www.yegor256.com/2014/08/19/how-to-release-to-maven-central.html">
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "mainEntityOfPage":{
          "@type": "WebPage",
          "@id": "http://www.yegor256.com/2014/08/19/how-to-release-to-maven-central.html"
        },
        "headline": "How to Release to Maven Central, in One Click",
        "image": {
          "@type": "ImageObject",
          "url": "http://img.teamed.io/face-1400x1400.jpg",
          "height": 1400,
          "width": 1400
        },
        "datePublished": "2014-08-19",
        "dateModified": "2014-08-19",
        "author": {
          "@type": "Person",
          "name": "Yegor Bugayenko"
        },
        "publisher": {
          "@type": "Organization",
          "name": "yegor256.com",
          "logo": {
            "@type": "ImageObject",
            "url": "http://img.teamed.io/face-512x512.jpg",
            "width": 512,
            "height": 512
          }
        },
        "description": "This tutorial explains how a Java project can be
released/deployed to Maven Central in just one click and
zero maintenance efforts, using Rultor.com, DevOps assistant
",
        "keywords": ["release to maven central", "how to release to maven central", "deploy to maven central", "how to deploy to maven central", "maven central release", "fast release to maven central", "publish from github to maven central"]
      }
    </script>
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style>
<noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <style amp-custom="amp-custom">
      body { padding: 2em; }
      article { width: 600px; max-width: 100%; margin-left: auto; margin-right: auto; }
      .intro { color: red; font-size: .75em; }
    </style>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
  </head>
  <body>
    <article>
      <p class="intro">
        This is an AMP version of the article,
        its original content can be found
        <a href="http://www.yegor256.com/2014/08/19/how-to-release-to-maven-central.html">here</a>.
      </p>
      <h1>How to Release to Maven Central, in One Click</h1>
      <p>When I release a new version of <a href="http://aspects.jcabi.com">jcabi-aspects</a>,
a Java open source library, to Maven Central, it takes 30 seconds of my time.
Maybe even less. Recently, I released version 0.17.2. You can see
how it all happened, in <a href="https://github.com/jcabi/jcabi-aspects/issues/80">GitHub issue #80</a>:</p>



<p>As you see, I gave a command to <a href="http://www.rultor.com">Rultor</a>,
and it released a new version to Maven central. I didn't do anything else.</p>

<p>Now let's see how you can do the same. How you can configure your project
so that the release of its new version to Maven Central
takes just a few seconds of your time.</p>



<p>By the way, I assume that you're hosting your project in GitHub. If not,
this entire tutorial won't work. If you are still not in GitHub, I would
strongly recommend moving there.</p>

<h2 id="prepare-your-pom">Prepare Your POM</h2>

<p>Make sure your <code>pom.xml</code> contains all elements required by Sonatype,
explained in <a href="http://central.sonatype.org/pages/requirements.html">Central Sync Requirements</a>.
We will deploy to Sonatype, and they will synchronize all JAR (and not only)
artifacts to Maven Central.</p>

<h2 id="register-a-project-with-sonatype">Register a Project With Sonatype</h2>

<p>Create an account in <a href="https://issues.sonatype.org/">Sonatype JIRA</a>
and raise a ticket, asking to approve your <code>groupId</code>. This
<a href="http://central.sonatype.org/pages/ossrh-guide.html">OSSRH Guide</a>
explains this step in more detail.</p>

<h2 id="create-and-distribute-a-gpg-key">Create and Distribute a GPG Key</h2>

<p>Create a GPG key and distribute it, as explained in this
<a href="http://central.sonatype.org/pages/working-with-pgp-signatures.html">Working with PGP Signatures</a>
article.</p>

<p>When this step is done, you should have two files:
<code>pubring.gpg</code> and <code>secring.gpg</code>.</p>

<h2 id="create-settings-xml">Create settings.xml</h2>

<p>Create <code>settings.xml</code>, next to the two <code>.gpg</code> files created in the previous step:</p>



<p>In this example, <code>9A105525</code> is the ID of your public key, and <code>my-secret</code>
is the pass phrase you have used while generating the keys.</p>

<h2 id="encrypt-security-assets">Encrypt Security Assets</h2>

<p>Now, encrypt these three files with a <a href="https://github.com/yegor256/rultor-remote">rultor remote</a>:</p>



<p>Instead of <code>me/test</code> you should use the name of your GitHub project.</p>

<p>You will get three new files: <code>pubring.gpg.asc</code>, <code>secring.gpg.asc</code>
and <code>settings.xml.asc</code>. Add them to the root directory of your project,
commit and push. The files contain your secret information,
but only the Rultor server can decrypt them.</p>

<h2 id="add-sonatype-repositories">Add Sonatype Repositories</h2>

<p>I would recommend using <a href="/2015/02/05/jcabi-parent-maven-pom.html">jcabi-parent</a>, as
a parent pom for your project. This will make many further steps
unnecessary. If you're using jcabi-parent, skip this step.</p>

<p>However, if you don't use jcabi-parent, you should add these two repositories
to your <code>pom.xml</code>:</p>



<h2 id="configure-gpg-plugin">Configure GPG Plugin</h2>

<p>Again, I'd recommend using <a href="http://parent.jcabi.com">jcabi-parent</a>,
which configures this plugin automatically. If you're using it, skip this step.</p>

<p>Otherwise, add this plugin to your <code>pom.xml</code>:</p>



<h2 id="configure-versions-plugin">Configure Versions Plugin</h2>

<p>Once again, I recommend using <a href="/2015/02/05/jcabi-parent-maven-pom.html">http://parent.jcabi.com</a>. It
configures all required plugins out-of-the-box. If you're using it, skip this step.</p>

<p>Otherwise, add this plugin to your <code>pom.xml</code>:</p>



<h2 id="configure-sonatype-plugin">Configure Sonatype Plugin</h2>

<p>Yes, you're right, <a href="/2015/02/05/jcabi-parent-maven-pom.html">http://parent.jcabi.com</a> will help
you here as well. If you're using it, skip this step too.</p>

<p>Otherwise, add these four plugins to your <code>pom.xml</code>:</p>



<h2 id="create-rultor-configuration">Create Rultor Configuration</h2>

<p>Create a <code>.rultor.yml</code> file in the root directory of your project
(<a href="http://doc.rultor.com/reference.html">reference page</a>
explains this format in details):</p>



<p>You can compare your file with live Rultor
<a href="https://github.com/jcabi/jcabi-aspects/blob/master/.rultor.yml">configuration of jcabi-aspects</a>.</p>

<h2 id="run-it">Run It!</h2>



<p>Now it's time to see how it all works. Create a new ticket in the
GitHub issue tracker, and post something like that into it
(read more about <a href="http://doc.rultor.com/basics.html">Rultor commands</a>):</p>



<p>You will get a response in a few seconds. The rest will be done by Rultor.</p>

<p>Enjoy :)</p>

<p>BTW, if something doesn't work as I've explained, don't hesitate to
submit a ticket to
<a href="https://github.com/yegor256/rultor/issues">Rultor issue tracker</a>.
I will try to help you.</p>

<p>Yeah, forgot to mention, Rultor is also doing two important things. First,
it creates a GitHub release with a proper description. Second, it
posts a tweet about the release, which you can retweet, to make
an announcement to your followers. Both features are very convenient
for me. For example:</p>

<blockquote class="twitter-tweet" lang="en">
<p>DynamoDB Local Maven Plugin, 0.7.1 released <a href="https://t.co/C3KULouuKS">https://t.co/C3KULouuKS</a></p>â€”rultor.com (@rultors) <a href="https://twitter.com/rultors/statuses/501617747269517312">August 19, 2014</a>
</blockquote>



    </article>
  </body>
</html>
