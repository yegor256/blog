<!DOCTYPE html>
<html amp lang="en">
  <head>

    <meta charset="utf-8">
    <title>Abstract Objects</title>
    <link rel="canonical" href="https://www.yegor256.com/2020/12/01/abstract-objects.html">
    <link rel="icon" type="image/png" href="/favicon.ico">
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "mainEntityOfPage":{
          "@type": "WebPage",
          "@id": "https://www.yegor256.com/2020/12/01/abstract-objects.html"
        },
        "headline": "Abstract Objects",
        "image": {
          "@type": "ImageObject",
          "url": "/images/2020/12/the-irishman.jpg",
          "height": 1333,
          "width": 2000
        },
        "datePublished": "2020-12-01",
        "dateModified": "2020-12-01",
        "author": {
          "@type": "Person",
          "name": "Yegor Bugayenko"
        },
        "publisher": {
          "@type": "Organization",
          "name": "yegor256.com",
          "logo": {
            "@type": "ImageObject",
            "url": "https://www.yegor256.com/images/face-512x512.jpg",
            "width": 512,
            "height": 512
          }
        },
        "description": "There are no classes in EO, but there are abstract
objects, which are a more flexible instrument to prototype
other objects.
",
        "keywords": ["abstraction in oop", "application in oop", "eolang objects", "eolang", "eo design"]
      }
    </script>
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style>
<noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500">
    <style amp-custom="amp-custom">
      @font-face {
        font-family: 'Cambria';
        src: url('https://www.yegor256.com/fonts/cambria/2EAA54_2_0.ttf');
      }
      body { font-family: 'Cambria', 'Times New Roman', serif; padding: .5em; font-size: 1.2em; }
      article { width: 600px; max-width: 100%; margin-left: auto; margin-right: auto; }
      pre, code { font-family: 'Source Code Pro', 'Courier New', monospace; font-size: .8em; }
      code { padding: 0 .3em; background-color: lightgray; }
      a, a:hover, a:visited { color: inherit; }
      .intro { color: red; font-size: .75em; }
      .photo { border-radius: 50%; }
      pre { overflow-x:scroll; }
    </style>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
  </head>
  <body>
    <article>
      <p class="intro">
        This is a mobile version, full one is
        <a href="https://www.yegor256.com/2020/12/01/abstract-objects.html">here</a>.
      </p>
      <p>
        <amp-img src="/images/face-256x256.jpg" width="80" height="80" alt="Yegor Bugayenko" class="photo"></amp-img>
      </p>
      <p>Yegor Bugayenko<br>1 December 2020</p>
      <h1>Abstract Objects</h1>
      <p>How do you create objects in your object-oriented language?
Let‚Äôs take something classic, like C++, Java, or C#. First you define
a class, and then you make an instance of it. The first step is known
as <a href="https://en.wikipedia.org/wiki/Abstraction_%28computer_science%29">abstraction</a>,
and the second one as
<a href="https://en.wikipedia.org/wiki/Instance_%28computer_science%29#Object_oriented_programming">instantiation</a>.
A similar pair of operations
exist in functional programming: declaring a function is
abstraction,
while calling it with specific arguments is
<a href="https://en.wikipedia.org/wiki/Apply">application</a>.
The <a href="/2016/09/20/oop-without-classes.html">question is</a>:
why does OOP need classes <em>and</em> objects,
while FP survives with just functions?</p>



<amp-img src="/images/2020/12/the-irishman.jpg" alt="The Irishman (2019) by Martin Scorsese" height="1333" width="2000" layout="responsive"></amp-img>

<p>This is an <em>abstract</em> object in <a href="https://www.eolang.org">EO</a>:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[id db] &gt; book
  db.query &gt; title
    "SELECT title FROM book WHERE id=?"
    id
</code></pre></div></div>

<p>The name of the object is <code class="highlighter-rouge">book</code>. It has three
<a href="/2020/11/24/objects-without-methods.html">attributes</a>: <code class="highlighter-rouge">id</code>, <code class="highlighter-rouge">db</code>, and <code class="highlighter-rouge">title</code>.
The first two are ‚Äúfree‚Äù: they are not bound to any objects yet. The third
one <code class="highlighter-rouge">title</code> is bound already to a copy of the object <code class="highlighter-rouge">db.query</code>. The object
<code class="highlighter-rouge">book</code> is abstract because it has some free attributes‚Äîit‚Äôs not specific
enough to refer to a specific entity in the real world.</p>

<p>The construct <code class="highlighter-rouge">db.query</code> takes an abstract object <code class="highlighter-rouge">query</code> from the object
bound to the attribute <code class="highlighter-rouge">db</code> and makes a copy of it, specifying two
arguments: the SQL string and the <code class="highlighter-rouge">id</code>. The process of copying an abstract
object is called ‚Äúapplication,‚Äù since it‚Äôs very similar to applying
arguments to a function in FP.</p>

<p>The right way to use an abstract <code class="highlighter-rouge">book</code> is to make a copy of it, specifying
the arguments:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>book 42 mysql &gt; b
</code></pre></div></div>

<p>Here, <code class="highlighter-rouge">42</code> is the <code class="highlighter-rouge">id</code>, <code class="highlighter-rouge">mysql</code> is the <code class="highlighter-rouge">db</code> and <code class="highlighter-rouge">b</code> is
a new object‚Äîa copy of the <code class="highlighter-rouge">book</code>. In ùúë-calculus, which is foundational
to the EO programming language, this would be written as the following
formula:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>b ‚Ü§ book(42, mysql)
</code></pre></div></div>

<p>In order to get the <code class="highlighter-rouge">title</code> of <code class="highlighter-rouge">b</code> and name it <code class="highlighter-rouge">t</code>, we just do:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>b.title &gt; t
</code></pre></div></div>

<p>We can also put it all together in one line:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(book 42 mysql).title &gt; t
</code></pre></div></div>

<p>It‚Äôs possible to apply some arguments to an abstract object leaving
other attributes still free. For example, this would make
another abstract object, still requiring the <code class="highlighter-rouge">id</code> to be specified
in order to become a <em>closed</em> object:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>book mysql:db &gt; x
</code></pre></div></div>

<p>The suffix <code class="highlighter-rouge">:db</code> helps the compiler understand which free
attribute should be bound to the object <code class="highlighter-rouge">mysql</code>.
Later, <code class="highlighter-rouge">x</code> can be copied again and a closed object <code class="highlighter-rouge">b</code> will be created:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>x 42 &gt; b
</code></pre></div></div>

<p>Even though the syntax of EO makes it possible to say <code class="highlighter-rouge">book.title</code>,
it will lead to a compile-time error: It‚Äôs prohibited to touch
free attributes of an abstract object or attributes that depend
on other free attributes. However, let‚Äôs say we add a new attribute <code class="highlighter-rouge">print</code> to the
<code class="highlighter-rouge">book</code>, in order to print it‚Äôs <code class="highlighter-rouge">id</code> to the console we would do the following:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[id db] &gt; book
  stdout &gt; print
    sprintf
      "The book ID is %d"
      id
  db.query &gt; title
    "SELECT title FROM book WHERE id=?"
    id
</code></pre></div></div>

<p>The attribute <code class="highlighter-rouge">print</code> doesn‚Äôt need the <code class="highlighter-rouge">db</code> attribute to be bound, since it
doesn‚Äôt use it. It‚Äôs possible to copy the <code class="highlighter-rouge">book</code> with just <code class="highlighter-rouge">id</code> and
then call <code class="highlighter-rouge">print</code> (assuming it‚Äôs happening in an EO interactive console):</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ book 42:id &gt; x
x
$ x.print
The book ID is 42
</code></pre></div></div>

<p>By the way, do you know any other languages with abstract objects or
is EO the first one to introduce this design?</p>

    </article>
  </body>
</html>
