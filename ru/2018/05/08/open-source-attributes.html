<!doctypehtml><html xmlns="http://www.w3.org/1999/xhtml"lang="en-US"xml:lang="en-US"itemscope=""itemtype="http://schema.org/WebSite"><meta charset="utf-8"><meta name="description"content="Making your code base visible to everyone doesn&apos;t make it an open source project yet; there are a number of important things you shouldn&apos;t forget to do."><meta name="keywords"content=""><meta name="viewport"content="width=device-width,minimum-scale=1,initial-scale=1"><meta name="google-site-verification"content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8"><meta name="author"content="Yegor Bugayenko"><meta name="og:site_name"content="Yegor Bugayenko"><meta name="og:type"content="article"><meta name="og:locale"content="en_US"><meta name="twitter:account_id"content="4503599630178231"><meta name="twitter:creator"content="@yegor256"><meta name="twitter:site"content="@yegor256"><meta name="twitter:title"property="og:title"content="An Open Code Base Is Not Yet an Open Source Project"><meta name="twitter:description"property="og:description"content="Making your code base visible to everyone doesn&apos;t make it an open source project yet; there are a number of important things you shouldn&apos;t forget to do."><meta name="twitter:url"property="og:url"content="https://www.yegor256.com/ru/2018/05/08/open-source-attributes.html"><meta name="telegram:channel"content="AAAAAEJFMRzsRTRxM3ec6A"><link rel="search"type="application/opensearchdescription+xml"href="/opensearch.xml"title="yegor256"><link rel="shortcut icon"href="/favicon.ico?19fbb713f25"><link rel="apple-touch-icon"href="/favicon.ico?19fbb713f25"><link rel="alternate"type="application/rss+xml"title="RSS for yegor256.com"href="https://www.yegor256.com/rss.xml"><link rel="stylesheet"href="/css/layout.css?19fbb713f25"><link rel="stylesheet"href="/css/icons.css?19fbb713f25"><link rel="canonical"href="https://www.yegor256.com/ru/2018/05/08/open-source-attributes.html"><title>An Open Code Base Is Not Yet an Open Source Project</title><div class="wrapper"><aside class="header-toggle unprintable"id="header-toggle"title="Show the menu"onclick='$("#header").show(),$("#header-toggle").hide()'>&#9776;</aside><header class="header"id="header"><div class="face"><a href="/about-me.html#form"class="sub"title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html"style="position:relative"><img src="/images/face-256x256.jpg"class="photo"alt="Yegor Bugayenko"></a></div><nav><ul class="menu social notranslate"><li><a href="https://twitter.com/intent/follow?screen_name=yegor256"rel="nofollow"title="Follow me on Twitter"><i class="icon icon-twitter notranslate"aria-hidden="true"></i></a><li><a href="/rss.xml"rel="nofollow"title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://github.com/yegor256"rel="nofollow"title="My GitHub profile"><i class="icon icon-github notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="http://stackoverflow.com/users/187141/yegor256"rel="nofollow"title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://www.facebook.com/yegor256"rel="nofollow"title="Follow me on Facebook"><i class="icon icon-facebook notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://instagram.com/yegor256"rel="nofollow"title="Follow me on Instagram"><i class="icon icon-instagram notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://www.linkedin.com/in/yegor256"rel="nofollow"title="My LinkedIn profile"><i class="icon icon-linkedin notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://www.youtube.com/c/yegor256?sub_confirmation=1"rel="nofollow"title="My Youtube video channel"><i class="icon icon-youtube notranslate"aria-hidden="true"></i></a><li><a href="https://soundcloud.com/yegor256"rel="nofollow"title="My podcast"><i class="icon icon-podcast notranslate"aria-hidden="true"></i></a><li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721"rel="nofollow"title="My iTunes podcast"><i class="icon icon-itunes notranslate"aria-hidden="true"></i></a><li><a href="https://t.me/yegor256news"rel="nofollow"title="My Telegram public channel"><i class="icon icon-telegram notranslate"aria-hidden="true"></i></a><li><a href="mailto:blog@yegor256.com"rel="nofollow"title="Email me any time"><i class="icon icon-mail notranslate"aria-hidden="true"></i></a></ul><ul class="menu"><li><a href="/"title="Home page">Home</a><li><a href="/best.html"title="Best articles to read">12&#160;Best</a><li><a href="/contents.html"title="The contents of the entire blog">All&#160;392</a><li><a href="/teaching.html"title="My courses and lectures">Teaching</a><li><a href="/talks.html"title="Future and past conference talks">Talks</a><li><a href="/books.html"title="The books I wrote">Books</a><li><a href="/research.html"title="My research directions and progress">Research</a><li><a href="/pets.html"title="My loved pet projects">Pets</a><li><a href="/testimonials.html"title="What some people say about me">Testimonials</a><li><a href="/shift-m.html"title="Audio podcast about project management">Shift-M</a><li><a href="/paintings.html"title="My paintings for sale">Art</a><li><a href="https://ru.yegor256.com/"title="Немного на русском языке о политике в России, Украине и мире">Политика</a></ul></nav><div class="search"><form action="https://www.google.com/search"itemprop="potentialAction"itemscope=""itemtype="http://schema.org/SearchAction"><meta itemprop="target"content="https://www.google.com/search?q={q}"><input name="sitesearch"value="yegor256.com"type="hidden"> <input itemprop="query-input"id="search-query"class="field field-text"required="required"onfocus='$(".google").css("visibility","visible")'name="q"placeholder="Search..."autocomplete="off"> <input type="image"src="/images/google-search-icon.svg"class="google"title="Search via Google"alt="Search via Google"></form></div><div class="hot"><ul></ul></div></header></div><section itemscope=""itemtype="http://schema.org/BlogPosting"><div class="wrapper"><header><h1 itemprop="name headline mainEntityOfPage">An Open Code Base Is Not Yet an Open Source Project</h1></header><article class="main"itemprop="articleBody"style="font-family:sans-serif;font-size:.9em;line-height:1.2em"><p style="color:#c42c00">The following text is a <em>partial</em> translation of the <a href="https://www.yegor256.com/2018/05/08/open-source-attributes.html">original English article</a>, performed by <a href="https://chat.openai.com/">ChatGPT</a> (gpt-3.5-turbo) and <a href="https://github.com/yegor256/jekyll-chatgpt-translate">this Jekyll plugin</a>:<p>Несколько недель назад кто-то <a href="https://www.yegor256.com/2018/04/10/learning-by-refactoring.html#comment-3865410512">предложил</a> мне попробовать интегрировать правила статического анализа <a href="https://www.jetbrains.com/idea/">IntelliJ IDEA</a> в Qulice, наш агрегатор <a href="http://checkstyle.sourceforge.net/">Checkstyle</a>, <a href="http://pmd.sourceforge.net/">PMD</a>, <a href="http://findbugs.sourceforge.net/">FindBugs</a> и некоторых других анализаторов. Я действительно люблю правила IDEA - некоторые из них уникальны и очень полезны. Я спросил, можно ли найти их где-то в Maven Central (они написаны на Java), и ответ был: “Тебе придется самому разобраться, как их использовать, но они открытые исходники”. Вот мое мнение об этой ситуации: я считаю, что открытый исходный код - это не только возможность прочитать его без разрешения. Это означает нечто гораздо большее.<p>Публичный доступ к коду - это не все, что требуется, чтобы назвать программное обеспечение <em>открытым исходным кодом</em>. На самом деле, это только наносит вред продукту и репутации его автора, если он открыт, но не готов к <em>повторному использованию</em> (что является главной целью открытого исходного кода). Как сказал <a href="https://en.wikipedia.org/wiki/Eric_S._Raymond">Эрик Рэймонд</a> в его знаменитой работе <a href="https://amzn.to/2FKF9tv"><em>Кафедральный и базар</em></a>: “Хорошие программисты знают, что написать. Великие знают, что переписать (и повторно использовать).”<p>Ответственность за помощь этим “хорошим” программистам в повторном использовании кода лежит на авторе программного продукта. Написание кода, тестирование, отладка и проверка на “работает на моем ноутбуке” - это одно. Сделать его читаемым и повторно используемым - совершенно другая работа, которая может занять гораздо больше времени.<p>Как сказал <a href="https://en.wikipedia.org/wiki/Karl_Fogel">Карл Фогель</a> в <a href="https://amzn.to/2jyMrrF"><em>Производство открытого программного обеспечения</em></a>: “Большинство проектов свободного программного обеспечения терпят неудачу”. Они терпят неудачу (наряду с множеством других факторов), потому что недостаточно внимания уделяется следующим основным вещам (в произвольном порядке):<p>Я уверен, что вы размещаете свой продукт на GitHub. (Если нет, что с вами не так?) В корневом каталоге должен быть файл <code class="language-plaintext highlighter-rouge">README</code>, который объясняет, о чем вообще продукт и как его использовать. Несколько хороших примеров: <a href="https://github.com/leejarvis/slop/blob/master/README.md"><code class="language-plaintext highlighter-rouge">leejarvis/slop</code></a>, <a href="https://github.com/mongobee/mongobee/blob/master/README.md"><code class="language-plaintext highlighter-rouge">mongobee/mongobee</code></a> <a href="https://github.com/ronmamo/reflections/blob/master/README.md"><code class="language-plaintext highlighter-rouge">ronmamo/reflections</code></a>, и <a href="https://github.com/yegor256/takes/blob/master/README.md"><code class="language-plaintext highlighter-rouge">yegor256/takes</code></a> (этот мой). Несколько плохих примеров: <a href="https://github.com/qos-ch/slf4j/blob/master/README.md"><code class="language-plaintext highlighter-rouge">qos-ch/slf4j</code></a>, <a href="https://github.com/rzwitserloot/lombok/blob/master/README"><code class="language-plaintext highlighter-rouge">rzwitserloot/lombok</code></a>, и <a href="https://github.com/junit-team/junit4/blob/master/README.md"><code class="language-plaintext highlighter-rouge">junit4/blob</code></a> (не будьте как эти ребята).<p>Независимо от того, насколько вы разнообразили свой сайт, Javadoc, Wiki, рассылку и Twitter, README - это место, где мы ожидаем увидеть все. Только если и когда мы заинтересуемся, мы будем исследовать дальше и глубже. Прочитайте README-файлы в других проектах и скопируйте их лучшие идеи. README - это ваша витрина, она должна сиять.<p>Большинство из нас не обращает внимания на <a href="https://en.wikipedia.org/wiki/Software_license">эту бюрократию</a>. Я тоже не обращал внимания, пока недавно. Я думал, что когда мой код открыт, я могу забыть о любых правах и роялти. Они просто будут использовать мой код, и я никогда не увижу никакой прибыли. Лицензия, которую я к нему прикрепляю, не имеет значения - все равно никто ее не читает. Это и происходит в большинстве случаев. Но только пока эти пользователи не являются важными.<p>Несколько лет назад я был архитектором на проекте по разработке программного обеспечения, и нам нужно было создать анализатор аппаратных компонентов, таких как ЦП, память, жесткий диск и т. д. Нам нужно было убедиться, что все они работают как ожидается после выполнения довольно сложных и настраиваемых тестов. Моим очевидным предложением было использование инструментов с открытым исходным кодом, которые выполняли бы сложную работу за нас. Нам бы только нужно было их интегрировать. Это была замечательная идея, пока некоторые из нас не решили проверить лицензии этих инструментов.<p>Вот тогда я понял, что был настолько неправ, игнорируя то, что говорят лицензии. <a href="https://en.wikipedia.org/wiki/GNU_General_Public_License">GPL</a>, например, которую мы обнаружили в нескольких инструментах, не позволяла нам использовать код, если наш продукт не являлся свободным. Так как мы создавали проприетарное программное обеспечение, мы поняли, что не можем использовать модули с <a href="https://en.wikipedia.org/wiki/Copyleft">копилефтным</a> лицензированием, только <a href="https://en.wikipedia.org/wiki/MIT_License">MIT</a>, <a href="https://en.wikipedia.org/wiki/BSD_licenses">BSD</a> или подобные.<p>Я предлагаю вам задуматься о лицензии перед публикацией продукта. С 2016 года я использовал <a href="https://en.wikipedia.org/wiki/MIT_License">MIT</a> во всех своих продуктах.<p>Простая коллекция файлов <code class="language-plaintext highlighter-rouge">.rb</code> не является переиспользуемым кодом на Ruby. Ну, может быть, для тех хакеров, которых я так сильно презираю, это так. Но для профессиональных разработчиков, которые слишком ленивы читать свой собственный код, не говоря уже о коде других людей, это определенно не так.<p>“Возьми это с GitHub” больше не является вежливым способом обращаться к нам - вашим коллегам-программистам. Это было так двадцать лет назад, но сейчас у нас есть хранилища. Вам нужно распространять свой продукт в виде “артефакта” через одно из этих публичных хранилищ и сделать его доступным для загрузки оттуда, пропустив тестирование и упаковку, и просто использовать его как продукт (например, Ruby-гем или Java JAR).<p>Я говорю о хранилищах вроде <a href="https://search.maven.org/">Maven Central</a>, <a href="https://www.npmjs.com/">npmjs</a> или <a href="https://rubygems.org/">RubyGems</a>. Вам нужно найти способ развернуть свой продукт там. Это не простая задача, хотя эти хранилища делают все возможное, чтобы упростить процесс. Во всех наших проектах мы используем Rultor, который помогает нам оптимизировать развертывание.<ul><li><p>“<a href="https://github.com/yegor256/xcop">yegor256/xcop</a> в RubyGems (подробности);”<li><p><a href="https://github.com/yegor256/tacit">yegor256/tacit</a> в npmjs.</ul><p><a href="https://en.wikipedia.org/wiki/Package_manager">Менеджеры пакетов</a>, такие как Maven, NPM, Rake, Grunt, Gradle и <a href="https://en.wikipedia.org/wiki/List_of_software_package_management_systems">другие</a>, являются стандартным и традиционным способом повторного использования открытого исходного кода (а также собственного). Если ваш продукт недоступен в общедоступном репозитории, это не продукт; это просто кодовая база.<p>Мы все ненавидим написание документации. И мы ненавидим библиотеки, которые не документированы. Мне обычно скучно писать блоки Javadoc для моих классов, но я понимаю, что без них код, который я пишу внутри этих классов, не заинтересует никого.<p>Лучший формат для этих блоков Javadoc - “на примере”. Вместо прозы я бы порекомендовал вам продемонстрировать, как использовать класс, особенно в сочетании с его соседями. Более того, я бы предложил вам <em>не</em> писать документацию нигде, кроме этих блоков Javadoc. (Они существуют и на других языках, но имеют другие имена.)<p>Проблема с Javadoc заключается в том, что не так легко отформатировать текст так, чтобы он выглядел визуально привлекательно. Возможно, поэтому многие программисты все еще полагаются на Вики или веб-сайты проектов. Я бы порекомендовал вам оставаться внутри блоков Javadoc и изучить их синтаксис форматирования.<p>Как <a href="https://github.com/yegor256/takes">вы можете видеть</a>, мне нравятся значки. Прежде всего, они придают репозиторию вид “активно поддерживаемого”, особенно если эти значки зеленые. На самом деле они не несут никакой ценной информации. Они в основном говорят: “У нашего автора очень хороший вкус, посмотрите, как наши цвета идеально сочетаются!”<p>Шутки в сторону, не так просто добавить все эти значки. Каждый значок потребует некоторого времени на интеграцию сторонней системы, на то, чтобы убедиться, что числа достаточно хорошие, чтобы гордиться ими, и чтобы держать все это под контролем. Если репозиторий не наблюдается, значки в конечном итоге начнут отказывать.<p>Чтобы использовать ваш код, нам нужно доверять ему, то есть быть уверенными, что он работает или по крайней мере проходит автоматические тесты. (Нужно ли говорить, что у вас должны быть тесты?) Как мы можем быть уверены, что он работает? Ответ - CI. Мы должны иметь возможность видеть журналы последней сборки CI и убедиться, что они чистые.<p>Это вопрос доверия. Вы можете никогда не использовать эти сборки Travis и просто игнорировать их красные и зеленые сигналы, но они важны для нас - ваших клиентов. Я добавляю значки Travis во все свои проекты сразу после создания нового репозитория.<p>Для обычного наркомана GitHub не составляет проблемы разобраться, как отправить вам запрос на объединение. Однако большинство из нас, по крайней мере вначале, будут активными пользователями, а не участниками проекта. Мы попытаемся использовать ваш продукт и настроить его под свои нужды. Если мы заблудимся, мы уйдем, разочарованные.<p>Чтобы этого избежать, вам необходимо объяснить, что должен делать дисциплинированный участник, чтобы внести изменения в ваш код. Вот вопросы, которые я рекомендую вам ответить в вашем <a href="https://help.github.com/articles/setting-guidelines-for-repository-contributors/"><code class="language-plaintext highlighter-rouge">CONTRIBUTING.md</code></a>:<ul><li><p>На сколько большой/маленький должен быть запрос на слияние (pull request), чтобы его можно было принять?<li><p>“Каковы ваши руководящие принципы стиля?”<li><p>Как должны быть сообщены, помечены и объяснены ошибки?<li><p>Что делает хороший отчет об ошибке?</ul><p>Вот текст, который я использую во всех своих проектах: <a href="https://github.com/yegor256/takes/blob/master/.github/ISSUE_TEMPLATE.md"><code class="language-plaintext highlighter-rouge">ISSUE_TEMPLATE.md</code></a> и <a href="https://github.com/yegor256/takes/blob/master/.github/PULL_REQUEST_TEMPLATE.md"><code class="language-plaintext highlighter-rouge">PULL_REQUEST_TEMPLATE.md</code></a>.<p>Наконец, если вам повезет, мы будем использовать ваш продукт и заинтересуемся внесением вклада. Вы начнете получать наши pull-запросы. Вопрос в том, как быстро мы сможем испортить ваш кодовую базу. Мы это сделаем, если вы не защитите себя.<p>Если вы строго проверяете каждый pull-запрос и отклоняете всё, что не выглядит как “отличный” код, вы потеряете нас, ваших вкладчиков. Мы не хотим писать отличный код, мы хотим вносить изменения в ваш продукт, чтобы он стал более подходящим для <em>наших</em> потребностей. Великолепие кода - это <em>ваша</em> забота, а не наша.<p>С другой стороны, если вы принимаете все, что поступает, архитектура потеряет свою надежность (если она вообще была) и вы снова потеряете нас, ваших вкладчиков. В этот раз вы потеряете нас, потому что продукт станет плохим и сложным в поддержке и внесении вклада.<p>Самый лучший способ сохранить баланс - это “нанять” инструмент, который поможет вам: автоматизация сборки, статический анализ, автоматическое тестирование и контроль покрытия. Вам нужно настроить продукт на отказ, когда изменения, которые кто-то вносит, нарушают его внутренние ожидания качества. Я также использую для этого Rultor.<p>Я что-то забыл?<p class="jekyll-chatgpt-translate">Translated by ChatGPT gpt-3.5-turbo/42 on 2023-11-28 at 15:05</article></div><div class="wrapper"><footer class="footer"><p>&copy; <span itemscope=""itemprop="copyrightHolder"itemtype="http://schema.org/Person"><span itemprop="name">Yegor Bugayenko</span> </span>2014&ndash;<span itemprop="copyrightYear">2023</span></footer></div></section><div class="wrapper unprintable"style="text-align:center;margin-top:2em"><a href="https://www.sixnines.io/h/3ba1652f"><img src="//www.sixnines.io/b/3ba1652f?style=flat"alt="sixnines availability badge"></a>&nbsp; <a href="https://github.com/yegor256/blog/stargazers"><img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square"alt="GitHub stars"></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script><script src="/js/all.js?19fbb713f25"></script><script>var disqus_shortname="yegor256"</script><script id="dsq-count-scr"src="//yegor256.disqus.com/count.js"async="async"></script><script>((e,a,t,g,n,c)=>{e.GoogleAnalyticsObject=g,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=+new Date,n=a.createElement(t),c=a.getElementsByTagName(t)[0],n.async=1,n.src="//www.google-analytics.com/analytics.js",c.parentNode.insertBefore(n,c)})(window,document,"script","ga"),ga("create","UA-1963507-32","auto"),ga("send","pageview")</script><script>Cd=document,Cr="&"+Math.random(),Cp="&s=1",Cd.cookie="b=b",Cd.cookie&&(Cp+="&c=1"),Cp+="&t="+(new Date).getTimezoneOffset(),self!=top&&(Cp+="&f=1")</script><script>navigator.javaEnabled()&&(Cp+="&j=1")</script><script>"undefined"!=typeof screen&&(Cp+="&w="+screen.width+"&h="+screen.height+"&d="+(screen.colorDepth||screen.pixelDepth))</script><script>Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+"&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+"' border='0' width='1' height='1'/>")</script><script type="application/ld+json">{ "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] }</script>