<!doctypehtml><html xmlns="http://www.w3.org/1999/xhtml"lang="en-US"xml:lang="en-US"itemscope=""itemtype="http://schema.org/WebSite"><meta charset="utf-8"><meta name="description"content="It is very important to conduct regular code reviews within every software team, but it is not so easy to do them right; here are a few typical pitfalls."><meta name="keywords"content=""><meta name="viewport"content="width=device-width,minimum-scale=1,initial-scale=1"><meta name="google-site-verification"content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8"><meta name="author"content="Yegor Bugayenko"><meta name="og:site_name"content="Yegor Bugayenko"><meta name="og:type"content="article"><meta name="og:locale"content="en_US"><meta name="twitter:account_id"content="4503599630178231"><meta name="twitter:creator"content="@yegor256"><meta name="twitter:site"content="@yegor256"><meta name="twitter:title"property="og:title"content="Four NOs of a Serious Code Reviewer"><meta name="twitter:description"property="og:description"content="It is very important to conduct regular code reviews within every software team, but it is not so easy to do them right; here are a few typical pitfalls."><meta name="twitter:url"property="og:url"content="https://www.yegor256.com/ru/2015/02/09/serious-code-reviewer.html"><meta name="telegram:channel"content="AAAAAEJFMRzsRTRxM3ec6A"><link rel="search"type="application/opensearchdescription+xml"href="/opensearch.xml"title="yegor256"><link rel="shortcut icon"href="/favicon.ico?b0f3971423a"><link rel="apple-touch-icon"href="/favicon.ico?b0f3971423a"><link rel="alternate"type="application/rss+xml"title="RSS for yegor256.com"href="https://www.yegor256.com/rss.xml"><link rel="stylesheet"href="/css/layout.css?b0f3971423a"><link rel="stylesheet"href="/css/icons.css?b0f3971423a"><link rel="canonical"href="https://www.yegor256.com/ru/2015/02/09/serious-code-reviewer.html"><title>Four NOs of a Serious Code Reviewer</title><div class="wrapper"><aside class="header-toggle unprintable"id="header-toggle"title="Show the menu"onclick='$("#header").show(),$("#header-toggle").hide()'>&#9776;</aside><header class="header"id="header"><div class="face"><a href="/about-me.html#form"class="sub"title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html"style="position:relative"><img src="/images/face-256x256.jpg"class="photo"alt="Yegor Bugayenko"></a></div><nav><ul class="menu social notranslate"><li><a href="https://twitter.com/intent/follow?screen_name=yegor256"rel="nofollow"title="Follow me on Twitter"><i class="icon icon-twitter notranslate"aria-hidden="true"></i></a><li><a href="/rss.xml"rel="nofollow"title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://github.com/yegor256"rel="nofollow"title="My GitHub profile"><i class="icon icon-github notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="http://stackoverflow.com/users/187141/yegor256"rel="nofollow"title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://www.facebook.com/yegor256"rel="nofollow"title="Follow me on Facebook"><i class="icon icon-facebook notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://instagram.com/yegor256"rel="nofollow"title="Follow me on Instagram"><i class="icon icon-instagram notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://www.linkedin.com/in/yegor256"rel="nofollow"title="My LinkedIn profile"><i class="icon icon-linkedin notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://www.youtube.com/c/yegor256?sub_confirmation=1"rel="nofollow"title="My Youtube video channel"><i class="icon icon-youtube notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://www.pinterest.com/yegor256/"rel="nofollow"title="My Pinterest boards"><i class="icon icon-pinterest notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://angel.co/yegor256"rel="nofollow"title="My AngelList profile"><i class="icon icon-angellist notranslate"aria-hidden="true"></i></a><li><a href="https://soundcloud.com/yegor256"rel="nofollow"title="My podcast"><i class="icon icon-podcast notranslate"aria-hidden="true"></i></a><li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721"rel="nofollow"title="My iTunes podcast"><i class="icon icon-itunes notranslate"aria-hidden="true"></i></a><li><a href="https://t.me/yegor256news"rel="nofollow"title="My Telegram public channel"><i class="icon icon-telegram notranslate"aria-hidden="true"></i></a><li><a href="mailto:blog@yegor256.com"rel="nofollow"title="Email me any time"><i class="icon icon-mail notranslate"aria-hidden="true"></i></a></ul><ul class="menu"><li><a href="/"title="Home page">Home</a><li><a href="/best.html"title="Best articles to read">12&#160;Best</a><li><a href="/contents.html"title="The contents of the entire blog">All&#160;390</a><li><a href="/teaching.html"title="My courses and lectures">Teaching</a><li><a href="/talks.html"title="Future and past conference talks">Talks</a><li><a href="/books.html"title="The books I wrote">Books</a><li><a href="/research.html"title="My research directions and progress">Research</a><li><a href="/pets.html"title="My loved pet projects">Pets</a><li><a href="/testimonials.html"title="What some people say about me">Testimonials</a><li><a href="/shift-m.html"title="Audio podcast about project management">Shift-M</a><li><a href="/paintings.html"title="My paintings for sale">Art</a><li><a href="https://ru.yegor256.com/"title="Немного на русском языке о политике в России, Украине и мире">Политика</a></ul></nav><div class="search"><form action="https://www.google.com/search"itemprop="potentialAction"itemscope=""itemtype="http://schema.org/SearchAction"><meta itemprop="target"content="https://www.google.com/search?q={q}"><input name="sitesearch"value="yegor256.com"type="hidden"> <input itemprop="query-input"id="search-query"class="field field-text"required="required"onfocus='$(".google").css("visibility","visible")'name="q"placeholder="Search..."autocomplete="off"> <input type="image"src="/images/google-search-icon.svg"class="google"title="Search via Google"alt="Search via Google"></form></div><div class="hot"><ul></ul></div></header></div><section itemscope=""itemtype="http://schema.org/BlogPosting"><div class="wrapper"><header><h1 itemprop="name headline mainEntityOfPage">Four NOs of a Serious Code Reviewer</h1></header><article class="main"itemprop="articleBody"style="font-family:sans-serif;font-size:.9em;line-height:1.2em"><p style="color:#c42c00">The following text is a <em>partial</em> translation of the <a href="https://www.yegor256.com/2015/02/09/serious-code-reviewer.html">original English article</a>, performed by <a href="https://chat.openai.com/">ChatGPT</a> (gpt-3.5-turbo) and <a href="https://github.com/yegor256/jekyll-chatgpt-translate">this Jekyll plugin</a>:<p><a href="http://en.wikipedia.org/wiki/Code_review">Обзоры кода</a> (также известные как обзоры с соавторами) должны стать обязательной практикой для каждой серьезной команды разработки программного обеспечения. Надеюсь, что в этом нет споров. Некоторые проводят обзоры кода перед слиянием, защищая свою основную/разработочную ветку от случайных ошибок. Другие проводят регулярные обзоры после слияния, чтобы обнаружить ошибки и несоответствия, которые были внесены авторами. Некоторые даже делают и то, и другое: обзоры перед слиянием и регулярные после. Обзоры кода очень похожи на технику <a href="http://en.wikipedia.org/wiki/White-box_testing">тестирования по белому ящику</a>, когда тестировщик ищет дефекты, имея полный доступ к исходным кодам программного обеспечения. В любом случае, обзор кода - отличный инструмент для повышения качества и стимулирования команды.<p>Однако, правильно их провести не так просто. Я бы даже сказал, что очень легко и удобно сделать это неправильно. В большинстве обзоров кода и среди рецензентов, которых я видел, присутствуют схожие ошибки. Вот почему я решил подвести итоги четырех основных принципов хорошего рецензента, как я их вижу. Надеюсь, что они окажутся полезными для вас.<p>У серьезного рецензента кода есть несколько страхов, от которых нужно отказаться. Первый и самый популярный - это страх обидеть автора кода. “<em>Мне лучше закрыть глаза и притвориться, что я не видел его ошибки сегодня, чтобы завтра она проигнорировала мои ошибки</em>” - Такое отношение порождает такой вид страха. Не нужно говорить, что это непродуктивно и снижает качество кода и мораль команды. Вот мой совет: будьте прямыми, честными и прямолинейными. Если вам не нравится код, вам он не нравится. Вам не следует беспокоиться о том, как ваше мнение будет воспринято автором кода.<p>Если у вас есть такие чувства к своим коллегам, то что-то не так с моделью управления. Вы боитесь быть отвергнутыми командой за “неспособность работать в команде”, что является ярлыком, присоединенным к вам самыми слабыми членами команды, а не спонсором проекта. Спонсор платит вам за создание программного обеспечения высокого качества. Спонсору не важно, насколько ваше намерение повысить качество обидно для других, кому все равно. Спонсор хочет, чтобы его деньги создавали результаты, которые можно продать клиентам и вернуть в виде прибыли. Спонсор платит вам не за то, чтобы заводить друзей в офисе.<p>Следующий вид страха звучит так: “<em>Если я отклоню этот код, я задержу выпуск</em>” Опять же, не нужно говорить, что такое отношение значительно наносит вред всему проекту. Вы примете код и закроете глаза на то, что вам в нем не нравится. Код попадет в следующий выпуск, и мы отправим его раньше. Вы не будете узким местом, и никто не скажет, что из-за этого догматического рецензента кода мы задержали выпуск и потеряли деньги. Вы будете хорошим игроком в команде, верно? Нет!<p>Как я уже упоминал ранее, профессиональный игрок в команде понимает свою личную роль в проекте и не прикрывает задницы других. Если отклонение плохого кода задерживает выпуск, это вина его автора. Ваша профессиональная ответственность состоит в том, чтобы сделать эту ошибку видимой. Так вы помогаете команде учиться и совершенствоваться.<p>Я думаю, очевидно, что образование и улучшение команды в первую очередь требует избавления от плохих программистов и продвижение хороших. Честные и бесстрашные рецензенты кода помогают команде учиться и совершенствоваться.<p>Еще один страх выражается следующим образом: “<em>Я могу ошибиться, и они будут смеяться надо мной</em>” Еще хуже, они могут заметить мою неполноценность. Они могут увидеть, что я не знаю, что делаю. Было бы лучше промолчать и притвориться, что в коде нет ошибок. По крайней мере, тогда я не унизил бы себя глупыми комментариями. Вы знаете, что намного проще казаться умным, если держите рот на замке, не так ли? Нет!<p>Проект не платит вам за то, чтобы вы выглядели хорошо. Вы получаете свои зарплаты не потому, что команда вас любит, а потому что вы создаете результаты ежедневно. Ваша профессиональная ответственность состоит в том, чтобы делать то, что лучше всего для проекта и игнорировать мнения всех, включая мнение вашего начальника. Подобно тому, как Счастливый начальник - ложная цель, я бы сказал, что уважение команды - ложная цель. Не пытайтесь заслужить уважение. Вместо этого создавайте чистый код, и уважение придет автоматически.<p>Позвольте мне повторить: не бойтесь принести вас в замешательство, сделав неправильные и глупые комментарии о чьем-то коде. Будьте верны проекту, а не ожиданиям окружающих вас людей. Они ожидают, что вы будете умными и яркими, но проект ожидает, что вы скажете, что вы думаете о коде. Так что забейте на их мнения; сделайте правильное дело и скажите, что вы действительно думаете.<p>Хорошо, вы бесстрашно выразили свои мысли о коде и просто отвергли его. Ветка, которую вы рассматривали, плохая, и вы объяснили, почему. Вы попросили автора переработать здесь и переписать там. Что дальше?<p>Он или она попытается договориться с вами. Это естественно и происходит практически в каждой ветке, которую я вижу в наших командах. Автор кода также профессиональный разработчик, и он тоже не боится. Поэтому он настаивает, что его подход к реализации правильный, а ваши идеи неправильные. Что должен сделать профессиональный рецензент кода в этом случае?<p>Самое худшее (как и в любом разрешении конфликтов) - это компромисс. Это то, что разрушает качество быстрее плохого кода. Компромисс - это техника разрешения конфликтов, при которой обе стороны соглашаются не получить то, что хотели, ради прекращения конфликта. Другими словами, “Давайте заключим мир, чтобы прекратить борьбу”. Это самый плохой подход.<p>Вместо плохого компромисса есть три профессиональных выхода из борьбы за кусок кода:<ul><li><p>“<em>Я никогда не приму это, точка!”</em> Некоторый код заслуживает такого, и нет ничего плохого в том, чтобы разрешить конфликт таким образом. Противник может принять ситуацию и переписать все. И тоже что-то из этого извлечь.<li><p>“<em>Давайте делать то, что говорит архитектор!</em>” В каждом проекте есть программный архитектор, который принимает финальные решения. Обратитесь к его мнению и получите его окончательное решение. Пригласите его принять участие в обсуждении и попросите его занять одну сторону в конфликте. Как только он скажет вам, что вы не правы, примите его решение и постарайтесь извлечь из этого урок.</ul><p>Таким образом, либо стойте крепко на своей позиции и боритесь за нее, либо признайте, что вы ошибаетесь. Так или иначе. Но не идите на компромисс!<p>Не поймите меня неправильно; дело не в том, чтобы быть упрямым и держать карты в руках, несмотря на то, насколько они плохи. Будьте гибкими и учитесь на месте. Ваша позиция может и должна измениться во время переговоров, но не принимайте ничего, что вам не нравится. Вы можете выйти из конфликта только в двух случаях: полностью убеждены, что оппонент прав, или когда архитектор так скажет. Нет ничего промежуточного.<p>Опять же, вы бесстрашно заявляете, что метод должен быть спроектирован иначе. Ваш оппонент, автор кода, отвечает, что не согласен с этим. Вы снова взглядываете и решаете придерживаться своей позиции. Вы все еще считаете, что правы, и не собираетесь идти на компромисс. Что делать теперь? Слишком рано обращаться к архитектору, поэтому попробуйте убедить своего оппонента.<p>В большинстве случаев убеждение - это обучение. Вы знаете то, чего он не знает. Вот почему он создал этот метод так, как вам не нравится. Один из вас нуждается в дополнительном образовании. Здесь у вас есть возможность стать учителем для вашего коллеги. Чтобы быть эффективным учителем, вам нужно предоставить доказательства. Вам нужно обосновать свою логику и убедиться, что он понимает и принимает ее.<p>Будьте готовы предоставить ссылки, статьи, книги, отчеты, примеры и т. д. Просто “<em>Я знаю это, потому что пишу на Java уже 15 лет</em>” недостаточно. Более того, такой тип аргументации только делает вас менее убедительным.<p>Если у вас нет достаточно убедительных доказательств, подумайте еще раз - возможно, вы ошибаетесь.<p>Также помните, что ваша задача - доказать, что код, который вы рассматриваете, плохой. Автор кода ничего не должен доказывать. Его код по умолчанию отличный. Задача рецензента - показать, почему и как это на самом деле не так. Другими словами, вы являетесь истцом, а он - защитником. А не наоборот.<p>Это последний и самый сложный принцип, который нужно соблюдать. Независимо от того, насколько плох код и насколько упрям ваш оппонент, вы должны оставаться профессионалом. Честно говоря, я иногда нахожу это очень трудным. В <a href="https://www.zerocracy.com">Zerocracy</a> мы работаем в распределенных командах и каждую неделю нанимаем несколько новых людей. Некоторые из них, несмотря на наши критерии отбора, оказываются довольно сложными в общении.<p>Год назад мне попалась забавная ситуация, когда новый парень должен был создать небольшую (20-30 строк кода) новую функцию в существующей библиотеке Java. Он прислал мне запрос на добавление (я был код-ревьюером), после того, как внес несколько сотен строк кода. Этот код был абсолютным мусором и очевидно не написан им. Я сразу понял, что он нашел его где-то и просто скопировал. Но что я мог сделать? Как отклонить его код, не сказав, что его отношение неприемлемо для профессионального разработчика? Мне пришлось потратить некоторое время на объективную критику его кода по его стилю, дизайну и т.д. Мне пришлось оставить много серьезных комментариев, чтобы показать ему, что чтобы исправить все это, он должен удалить мусор и переписать его заново. После того задания я его больше не видел.<p>Мой посыл заключается в том, что легко быть профессионалом, когда вы имеете дело с профессионалами. К сожалению, это не всегда так. Независимо от того, насколько плохой код перед вами, будьте терпеливыми и убедительными.</p><script async=""src="https://platform.twitter.com/widgets.js"charset="utf-8"></script><p class="jekyll-chatgpt-translate">Translated by ChatGPT gpt-3.5-turbo/42 on 2023-11-17 at 14:51</article></div><div class="wrapper"><footer class="footer"><p>&copy; <span itemscope=""itemprop="copyrightHolder"itemtype="http://schema.org/Person"><span itemprop="name">Yegor Bugayenko</span> </span>2014&ndash;<span itemprop="copyrightYear">2023</span></footer></div></section><div class="wrapper unprintable"style="text-align:center;margin-top:2em"><a href="https://www.sixnines.io/h/3ba1652f"><img src="//www.sixnines.io/b/3ba1652f?style=flat"alt="sixnines availability badge"></a>&nbsp; <a href="https://github.com/yegor256/blog/stargazers"><img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square"alt="GitHub stars"></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script><script src="/js/all.js?b0f3971423a"></script><script>var disqus_shortname="yegor256"</script><script id="dsq-count-scr"src="//yegor256.disqus.com/count.js"async="async"></script><script>((e,a,t,g,n,c)=>{e.GoogleAnalyticsObject=g,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=+new Date,n=a.createElement(t),c=a.getElementsByTagName(t)[0],n.async=1,n.src="//www.google-analytics.com/analytics.js",c.parentNode.insertBefore(n,c)})(window,document,"script","ga"),ga("create","UA-1963507-32","auto"),ga("send","pageview")</script><script>Cd=document,Cr="&"+Math.random(),Cp="&s=1",Cd.cookie="b=b",Cd.cookie&&(Cp+="&c=1"),Cp+="&t="+(new Date).getTimezoneOffset(),self!=top&&(Cp+="&f=1")</script><script>navigator.javaEnabled()&&(Cp+="&j=1")</script><script>"undefined"!=typeof screen&&(Cp+="&w="+screen.width+"&h="+screen.height+"&d="+(screen.colorDepth||screen.pixelDepth))</script><script>Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+"&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+"' border='0' width='1' height='1'/>")</script><script type="application/ld+json">{ "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] }</script>