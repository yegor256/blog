<!doctypehtml><html xmlns="http://www.w3.org/1999/xhtml"lang="en-US"xml:lang="en-US"itemscope=""itemtype="http://schema.org/WebSite"><meta charset="utf-8"><meta name="description"content="The Hits of Code (HoC) metric is an alternative measurement indicator that can replace Software Lines Of Code (SLoC) and help in software development progress tracking."><meta name="keywords"content=""><meta name="viewport"content="width=device-width,minimum-scale=1,initial-scale=1"><meta name="google-site-verification"content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8"><meta name="author"content="Yegor Bugayenko"><meta name="og:site_name"content="Yegor Bugayenko"><meta name="og:type"content="article"><meta name="og:locale"content="en_US"><meta name="twitter:account_id"content="4503599630178231"><meta name="twitter:creator"content="@yegor256"><meta name="twitter:site"content="@yegor256"><meta name="twitter:title"property="og:title"content="Hits-of-Code Instead of SLoC"><meta name="twitter:description"property="og:description"content="The Hits of Code (HoC) metric is an alternative measurement indicator that can replace Software Lines Of Code (SLoC) and help in software development progress tracking."><meta name="twitter:url"property="og:url"content="https://www.yegor256.com/ru/2014/11/14/hits-of-code.html"><meta name="telegram:channel"content="AAAAAEJFMRzsRTRxM3ec6A"><link rel="search"type="application/opensearchdescription+xml"href="/opensearch.xml"title="yegor256"><link rel="shortcut icon"href="/favicon.ico?19fbb713f25"><link rel="apple-touch-icon"href="/favicon.ico?19fbb713f25"><link rel="alternate"type="application/rss+xml"title="RSS for yegor256.com"href="https://www.yegor256.com/rss.xml"><link rel="stylesheet"href="/css/layout.css?19fbb713f25"><link rel="stylesheet"href="/css/icons.css?19fbb713f25"><link rel="canonical"href="https://www.yegor256.com/ru/2014/11/14/hits-of-code.html"><title>Hits-of-Code Instead of SLoC</title><div class="wrapper"><aside class="header-toggle unprintable"id="header-toggle"title="Show the menu"onclick='$("#header").show(),$("#header-toggle").hide()'>&#9776;</aside><header class="header"id="header"><div class="face"><a href="/about-me.html#form"class="sub"title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html"style="position:relative"><img src="/images/face-256x256.jpg"class="photo"alt="Yegor Bugayenko"></a></div><nav><ul class="menu social notranslate"><li><a href="https://twitter.com/intent/follow?screen_name=yegor256"rel="nofollow"title="Follow me on Twitter"><i class="icon icon-twitter notranslate"aria-hidden="true"></i></a><li><a href="/rss.xml"rel="nofollow"title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://github.com/yegor256"rel="nofollow"title="My GitHub profile"><i class="icon icon-github notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="http://stackoverflow.com/users/187141/yegor256"rel="nofollow"title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://www.facebook.com/yegor256"rel="nofollow"title="Follow me on Facebook"><i class="icon icon-facebook notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://instagram.com/yegor256"rel="nofollow"title="Follow me on Instagram"><i class="icon icon-instagram notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://www.linkedin.com/in/yegor256"rel="nofollow"title="My LinkedIn profile"><i class="icon icon-linkedin notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://www.youtube.com/c/yegor256?sub_confirmation=1"rel="nofollow"title="My Youtube video channel"><i class="icon icon-youtube notranslate"aria-hidden="true"></i></a><li><a href="https://soundcloud.com/yegor256"rel="nofollow"title="My podcast"><i class="icon icon-podcast notranslate"aria-hidden="true"></i></a><li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721"rel="nofollow"title="My iTunes podcast"><i class="icon icon-itunes notranslate"aria-hidden="true"></i></a><li><a href="https://t.me/yegor256news"rel="nofollow"title="My Telegram public channel"><i class="icon icon-telegram notranslate"aria-hidden="true"></i></a><li><a href="mailto:blog@yegor256.com"rel="nofollow"title="Email me any time"><i class="icon icon-mail notranslate"aria-hidden="true"></i></a></ul><ul class="menu"><li><a href="/"title="Home page">Home</a><li><a href="/best.html"title="Best articles to read">12&#160;Best</a><li><a href="/contents.html"title="The contents of the entire blog">All&#160;392</a><li><a href="/teaching.html"title="My courses and lectures">Teaching</a><li><a href="/talks.html"title="Future and past conference talks">Talks</a><li><a href="/books.html"title="The books I wrote">Books</a><li><a href="/research.html"title="My research directions and progress">Research</a><li><a href="/pets.html"title="My loved pet projects">Pets</a><li><a href="/testimonials.html"title="What some people say about me">Testimonials</a><li><a href="/shift-m.html"title="Audio podcast about project management">Shift-M</a><li><a href="/paintings.html"title="My paintings for sale">Art</a><li><a href="https://ru.yegor256.com/"title="Немного на русском языке о политике в России, Украине и мире">Политика</a></ul></nav><div class="search"><form action="https://www.google.com/search"itemprop="potentialAction"itemscope=""itemtype="http://schema.org/SearchAction"><meta itemprop="target"content="https://www.google.com/search?q={q}"><input name="sitesearch"value="yegor256.com"type="hidden"> <input itemprop="query-input"id="search-query"class="field field-text"required="required"onfocus='$(".google").css("visibility","visible")'name="q"placeholder="Search..."autocomplete="off"> <input type="image"src="/images/google-search-icon.svg"class="google"title="Search via Google"alt="Search via Google"></form></div><div class="hot"><ul></ul></div></header></div><section itemscope=""itemtype="http://schema.org/BlogPosting"><div class="wrapper"><header><h1 itemprop="name headline mainEntityOfPage">Hits-of-Code Instead of SLoC</h1></header><article class="main"itemprop="articleBody"style="font-family:sans-serif;font-size:.9em;line-height:1.2em"><p style="color:#c42c00">The following text is a <em>partial</em> translation of the <a href="https://www.yegor256.com/2014/11/14/hits-of-code.html">original English article</a>, performed by <a href="https://chat.openai.com/">ChatGPT</a> (gpt-3.5-turbo) and <a href="https://github.com/yegor256/jekyll-chatgpt-translate">this Jekyll plugin</a>:<p><a href="https://ru.wikipedia.org/wiki/Исходный_код">Строки-кода</a> (также известные как SLoC) являются метрикой с ужасной репутацией. Попробуйте <a href="https://www.google.com/search?q=line+of+code+metric">погуглить</a> сами и вы найдете множество статей, осуждающих ее непродуктивность и разрушительность для процесса разработки программного обеспечения. Основной аргумент заключается в том, что мы не можем измерить прогресс программирования по количеству написанных строк кода. Вероятно, самая известная цитата приписывается <a href="https://ru.wikipedia.org/wiki/Гейтс,_Билл">Биллу Гейтсу</a>:<p>В основном это означает, что определенные части воздушного судна будут требовать гораздо больше усилий, при этом они будут намного легче других (например, центральный компьютер). Вместо того, чтобы измерять вес самолета, мы должны измерять усилия, приложенные к нему… как-то так. Итак, вот идея. А что, если мы измерим количество раз, когда программисты <strong>касаются</strong> строк кода? Вместо подсчета количества строк мы будем считать, сколько раз они были фактически изменены—эту информацию мы можем получить из Git (или любой другой SCM). Чем больше вы касаетесь этой части воздушного судна—тем больше усилий вы вложили в нее, верно?<p>Я назвал это “Hits-of-Code” (HoC) и создал небольшой инструмент, который поможет нам вычислить это число всего в одной строке. Это <a href="https://rubygems.org/gems/hoc">Ruby-гем</a>, установите его и запустите:<p>Число 54687 является общим количеством кодовых операций в вашей кодовой базе. Принцип, лежащий в основе этого числа, примитивен - каждый раз, когда строка кода изменяется, создается или удаляется в коммите Git, счетчик увеличивается.<p>Основная причина, почему эта метрика лучше, чем LoC, заключается в том, что она гораздо лучше соответствует реальным затратам усилий на кодовую базу. Вот почему.<p>Метрика HoC всегда растет. Сегодня она не может быть ниже, чем вчера — так же, как и усилия, она всегда увеличивается. Кодовые строки не ведут себя так. У вас может быть огромная кодовая база сегодня, но после рефакторинга она станет намного меньше. Количество строк кода уменьшается. Это означает, что вы менее эффективны? Определенно нет, но это говорит метрика LoC для не программиста. Например, менеджер проекта может решить, что если размер кодовой базы не изменился за последний месяц, то команда не работает.<p>У метрики HoC нет этого контринтуитивного эффекта. Вместо этого, HoC растет с каждым вашим коммитом. Чем больше вы работаете над кодовой базой, тем больше HoC. Неважно, насколько большим или маленьким является абсолютный размер вашего продукта. Важно, сколько усилий вы вкладываете в него. Вот почему метрика HoC очень интуитивна и может использоваться в качестве измерения прогресса в разработке программного обеспечения.<p>Посмотрите на этот график за 18 месяцев; на нем показаны обе метрики вместе. Я использовал ту же кодовую базу на Java от <a href="https://github.com/yegor256/rultor">rultor</a>, помощника по DevOps. Кодовая база несколько месяцев назад была подвергнута значительному рефакторингу, как вы видите на графике. Я думаю, очевидно, какая метрика на этом графике говорит нам больше о вложенных усилиях в продукт.<p>Для HoC не имеет значения, насколько большой абсолютный размер кодовой базы, а только насколько большой ваш относительный вклад в нее.<p>Допустим, у вас есть 300 тысяч строк кода, и 95% из них были скопированы из сторонних библиотек (кстати, это очень распространенная и неправильная практика - хранить сторонний код внутри своего репозитория). Количество строк кода будет большим, но фактическая часть собственного кода будет относительно небольшой. Таким образом, метрика LoC будет вводить в заблуждение - она всегда будет показывать 300 тысяч с небольшими приращениями или убываниями вокруг этого значения. У каждого будет ощущение, что команда работает с кодовой базой из 300 тысяч строк.<p>С другой стороны, HoC всегда будет учитывать ту часть кода, которая фактически изменяется. Значение HoC будет объективно связано с реальными усилиями программистов, работающих с кодовой базой.<p>LoC обычно критикуют за его нейтральность по отношению к сложности кода. Автоматически сгенерированный класс ORM или сложный алгоритм сортировки могут иметь одинаковый размер по количеству строк кода, но первый требует нескольких секунд для написания, в то время как второй может занять недели или месяцы. Именно поэтому строки кода обычно считают ложной метрикой.<p>Hits-of-Code учитывает сложность, потому что чем дольше вы работаете с этим алгоритмом сортировки, тем больше изменений вы вносите в его строки. Ну, это верно, если вы регулярно используете Git и часто фиксируете свои изменения - так вы сообщаете Git о прогрессе вашей работы.<p>Наконец, взгляните на <a href="http://at.teamed.io/portfolio.html">этот список открытых проектов</a>, выполненных нашей командой за последние несколько лет. У каждого проекта есть два показателя: строки кода и количество хитов кода. Интересно увидеть, как относительно небольшие проекты имеют очень большие (свыше миллиона) значения хитов кода. Это сразу напоминает мне, сколько времени мы вложили в них и насколько они стары.<p>Я использовал показатель хитов кода в этом анализе: Сколько вы платите за строку кода?. В этом посте сравнивается традиционный проект, который платит $3.98 за хит кода, и проект с открытым исходным кодом, управляемый <a href="https://www.zerocracy.com">Zerocracy</a>, который платит ¢13.<p>Мой вывод состоит в том, что этот показатель хитов кода может быть использован как инструмент для отслеживания прогресса в проекте по разработке программного обеспечения. Более того, его можно использовать для оценки размера команды, бюджета проекта, графика разработки и так далее. Очевидно, хиты кода не могут быть единственным показателем, но в сочетании с другими он может значительно помочь при оценке, планировании и отслеживании.<p>P.S. Попробуйте <a href="https://hitsofcode.com/"><code class="language-plaintext highlighter-rouge">hitsofcode.com</code></a>.<p class="jekyll-chatgpt-translate">Translated by ChatGPT gpt-3.5-turbo/42 on 2023-11-28 at 15:43</article></div><div class="wrapper"><footer class="footer"><p>&copy; <span itemscope=""itemprop="copyrightHolder"itemtype="http://schema.org/Person"><span itemprop="name">Yegor Bugayenko</span> </span>2014&ndash;<span itemprop="copyrightYear">2023</span></footer></div></section><div class="wrapper unprintable"style="text-align:center;margin-top:2em"><a href="https://www.sixnines.io/h/3ba1652f"><img src="//www.sixnines.io/b/3ba1652f?style=flat"alt="sixnines availability badge"></a>&nbsp; <a href="https://github.com/yegor256/blog/stargazers"><img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square"alt="GitHub stars"></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script><script src="/js/all.js?19fbb713f25"></script><script>var disqus_shortname="yegor256"</script><script id="dsq-count-scr"src="//yegor256.disqus.com/count.js"async="async"></script><script>((e,a,t,g,n)=>{e.GoogleAnalyticsObject="ga",e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=+new Date,g=a.createElement(t),n=a.getElementsByTagName(t)[0],g.async=1,g.src="//www.google-analytics.com/analytics.js",n.parentNode.insertBefore(g,n)})(window,document,"script"),ga("create","UA-1963507-32","auto"),ga("send","pageview")</script><script>Cd=document,Cr="&"+Math.random(),Cp="&s=1",Cd.cookie="b=b",Cd.cookie&&(Cp+="&c=1"),Cp+="&t="+(new Date).getTimezoneOffset(),self!=top&&(Cp+="&f=1")</script><script>navigator.javaEnabled()&&(Cp+="&j=1")</script><script>"undefined"!=typeof screen&&(Cp+="&w="+screen.width+"&h="+screen.height+"&d="+(screen.colorDepth||screen.pixelDepth))</script><script>Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+"&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+"' border='0' width='1' height='1'/>")</script><script type="application/ld+json">{ "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] }</script>