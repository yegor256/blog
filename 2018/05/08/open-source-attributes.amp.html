<!DOCTYPE html>
<html amp lang="en">
  <head>

    <meta charset="utf-8">
    <title>An Open Code Base Is Not Yet an Open Source Project</title>
    <link rel="canonical" href="https://www.yegor256.com/2018/05/08/open-source-attributes.html">
    <link rel="icon" type="image/png" href="/favicon.ico">
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "mainEntityOfPage":{
          "@type": "WebPage",
          "@id": "https://www.yegor256.com/2018/05/08/open-source-attributes.html"
        },
        "headline": "An Open Code Base Is Not Yet an Open Source Project",
        "image": {
          "@type": "ImageObject",
          "url": "/images/2018/05/her.jpg",
          "height": 689,
          "width": 1280
        },
        "datePublished": "2018-05-08",
        "dateModified": "2018-05-08",
        "author": {
          "@type": "Person",
          "name": "Yegor Bugayenko"
        },
        "publisher": {
          "@type": "Organization",
          "name": "yegor256.com",
          "logo": {
            "@type": "ImageObject",
            "url": "https://www.yegor256.com/images/face-512x512.jpg",
            "width": 512,
            "height": 512
          }
        },
        "description": "Making your code base visible to everyone doesn't make
it an open source project yet; there are a number
of important things you shouldn't forget to do.
",
        "keywords": ["open source", "open source packaging", "how to package open source", "open source maven", "open source discipline"]
      }
    </script>
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style>
<noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500">
    <style amp-custom="amp-custom">
      @font-face {
        font-family: 'Cambria';
        src: url('https://www.yegor256.com/fonts/cambria/2EAA54_2_0.ttf');
      }
      body { font-family: 'Cambria', 'Times New Roman', serif; padding: .5em; font-size: 1.2em; }
      article { width: 600px; max-width: 100%; margin-left: auto; margin-right: auto; }
      pre, code { font-family: 'Source Code Pro', 'Courier New', monospace; font-size: .8em; }
      code { padding: 0 .3em; background-color: lightgray; }
      a, a:hover, a:visited { color: inherit; }
      .intro { color: red; font-size: .75em; }
      .photo { border-radius: 50%; }
      pre { overflow-x:scroll; }
    </style>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
  </head>
  <body>
    <article>
      <p class="intro">
        This is a mobile version, full one is
        <a href="https://www.yegor256.com/2018/05/08/open-source-attributes.html">here</a>.
      </p>
      <p>
        <amp-img src="/images/face-256x256.jpg" width="80" height="80" alt="Yegor Bugayenko" class="photo"></amp-img>
      </p>
      <p>Yegor Bugayenko<br>8 May 2018</p>
      <h1>An Open Code Base Is Not Yet an Open Source Project</h1>
      <p>A few weeks ago someone <a href="https://www.yegor256.com/2018/04/10/learning-by-refactoring.html#comment-3865410512">suggested</a>
I should try to integrate <a href="https://www.jetbrains.com/idea/">IntelliJ IDEA</a>’s
static analysis rules into
<a href="/2014/08/13/strict-code-quality-control.html">Qulice</a>,
our aggregator of
<a href="http://checkstyle.sourceforge.net/">Checkstyle</a>,
<a href="http://pmd.sourceforge.net/">PMD</a>,
<a href="http://findbugs.sourceforge.net/">FindBugs</a>,
and some other analyzers. I do love IDEA’s rules—some of them are
unique and very useful. I asked whether I could find them somewhere in
Maven Central (they are written in Java) and the answer was “You’ll have to figure
out yourself how to use them, but they are open source.”
Here comes my opinion about this
situation: I believe that open source doesn’t just mean the code is readable
without authorization. It means something much bigger.</p>



<amp-img src="/images/2018/05/her.jpg" alt="Her (2013) by Spike Jonze" height="689" width="1280" layout="responsive"></amp-img>

<p>Just making a piece of code publicly accessible is not what it takes to call
it <em>open source</em> software. Actually, it only harms the product, and the
reputation of its author, if it’s open but not ready for <em>reuse</em> (which
is what <a href="/2015/12/22/why-dont-you-contribute-to-open-source.html">the open source world</a>
is all about). As <a href="https://en.wikipedia.org/wiki/Eric_S._Raymond">Eric Raymond</a> said in his
famous piece <a href="https://amzn.to/2FKF9tv"><em>The Cathedral and the Bazaar</em></a>,
“Good programmers know what to write. Great ones know what to rewrite (and reuse).”</p>

<p>It’s the responsibility of the software product’s author to help
those “good” programmers to reuse the code. Coding, testing, debugging,
and making sure “it works on my laptop” is one thing. Making it readable and reusable
is a totally different piece of work, which may take
<a href="/2024/12/15/open-source-beginner-advice.html">much more</a> time.</p>

<p>As <a href="https://en.wikipedia.org/wiki/Karl_Fogel">Karl Fogel</a>
said in <a href="https://amzn.to/2jyMrrF"><em>Producing Open Source Software</em></a>:
“Most free software projects fail.” They fail (on top of many other factors) because not enough
attention is paid to the following basic things (in no particular
order):</p>

<h2 id="readme">README</h2>

<p>I’m sure you host your product on GitHub. (If not, what’s wrong with you?)
There must be a <a href="/2019/04/23/elegant-readme.html"><code class="language-plaintext highlighter-rouge">README</code></a>
file in the root directory that
explains what the product is all about and how we should use it.
A few good examples:
<a href="https://github.com/leejarvis/slop/blob/master/README.md"><code class="language-plaintext highlighter-rouge">leejarvis/slop</code></a>,
<a href="https://github.com/mongobee/mongobee/blob/master/README.md"><code class="language-plaintext highlighter-rouge">mongobee/mongobee</code></a>
<a href="https://github.com/ronmamo/reflections/blob/master/README.md"><code class="language-plaintext highlighter-rouge">ronmamo/reflections</code></a>,
and
<a href="https://github.com/yegor256/takes/blob/master/README.md"><code class="language-plaintext highlighter-rouge">yegor256/takes</code></a> (this one is mine).
A few bad examples:
<a href="https://github.com/qos-ch/slf4j/blob/master/README.md"><code class="language-plaintext highlighter-rouge">qos-ch/slf4j</code></a>,
<a href="https://github.com/rzwitserloot/lombok/blob/master/README"><code class="language-plaintext highlighter-rouge">rzwitserloot/lombok</code></a>, and
<a href="https://github.com/junit-team/junit4/blob/master/README.md"><code class="language-plaintext highlighter-rouge">junit4/blob</code></a> (don’t be like these guys).</p>



<p>No matter how rich you’ve made your website, Javadoc, Wiki, mailing
list, and Twitter, the README is the place where we expect
to see everything. Only if and when we get interested will we investigate
further and deeper. Read the README files in other projects and copy
their best ideas.
<a href="/2019/04/23/elegant-readme.html">README</a> is your showcase, it must shine.</p>

<h2 id="license">License</h2>

<p>Most of us don’t pay attention to <a href="https://en.wikipedia.org/wiki/Software_license">this bureaucracy</a>.
I didn’t either, until recently.
I thought that the moment my code is open I can forget about any
rights and royalties. They will just use my code and I won’t
see any profit, ever. The license I attach to it won’t matter—nobody
reads it anyway. This is exactly what happens in most cases.
But only while those users are small potatoes.</p>

<p>A few years ago I was an architect on a software project and we had to create
an analyzer of hardware components, like CPU, memory, hard disc, etc. We had
to make sure all of them worked as expected after running pretty complex
and customized tests. My obvious suggestion was to use open source tools,
which would do the hard work for us. We would only have to integrate them.
It was an awesome idea, until some of us decided to check the licenses of
those tools.</p>



<p>That was the moment I realized that I was so wrong for not paying attention
to what licenses say. <a href="https://en.wikipedia.org/wiki/GNU_General_Public_License">GPL</a>,
for example, which we found in a few tools,
didn’t allow us to reuse the code if our product wasn’t open source too.
Since we were creating proprietary software, we understood that we weren’t able to
use <a href="https://en.wikipedia.org/wiki/Copyleft">copyleft</a> modules,
only
<a href="https://en.wikipedia.org/wiki/MIT_License">MIT</a>,
<a href="https://en.wikipedia.org/wiki/BSD_licenses">BSD</a> or similar.</p>

<p>I’m suggesting you think about the license before publishing the
product. I’ve used <a href="https://en.wikipedia.org/wiki/MIT_License">MIT</a>
in all my products since 2016.</p>

<h2 id="distribution">Distribution</h2>

<p>A mere collection of <code class="language-plaintext highlighter-rouge">.rb</code> files is not reusable Ruby code. Well, maybe for
those <a href="/2014/10/26/hacker-vs-programmer-mentality.html">hackers</a>
I despise so much, it is. But for professional
<a href="/2018/01/23/sociotech-skills.html">developers</a>,
who are too <a href="/2018/04/17/how-to-be-lazy.html">lazy</a>
to read their own code, let alone someone else’s,
it definitely isn’t.</p>

<p>“Take it from GitHub” is not a polite way to treat us—your fellow programmers—anymore.
It was, twenty years ago, but now we have repositories.
You have to distribute your product as an “artifact” through one of those public
repositories, and make it possible for us to fetch it
from there, skipping the testing and packaging, and just using it as a product
(a Ruby gem or Java JAR, for example).</p>

<p>I’m talking about repositories like
<a href="https://search.maven.org/">Maven Central</a>,
<a href="https://www.npmjs.com/">npmjs</a>,
or <a href="https://rubygems.org/">RubyGems</a>.
You have to find a way to deploy your product there.
It’s not an easy task, even though those repositories
do their best to simplify the process. We use
<a href="/2014/09/11/deployment-script-vs-rultor.html">Rultor</a> in all our projects,
which helps us streamline the deployment:</p>

<ul>
  <li>
<a href="https://github.com/yegor256/takes">yegor256/takes</a> to Maven Central
(<a href="/2014/08/19/how-to-release-to-maven-central.html">details</a>);</li>
  <li>
<a href="https://github.com/yegor256/xcop">yegor256/xcop</a> to RubyGems
(<a href="/2014/08/26/publish-to-rubygems.html">details</a>);</li>
  <li>
<a href="https://github.com/yegor256/tacit">yegor256/tacit</a> to npmjs.</li>
</ul>

<p><a href="https://en.wikipedia.org/wiki/Package_manager">Package managers</a>
like Maven, NPM, Rake, Grunt, Gradle and
<a href="https://en.wikipedia.org/wiki/List_of_software_package_management_systems">others</a>,
are the standard and traditional way of reusing open source software (proprietary too).
If your product is not available in a public repository, it’s not a product;
it’s just a code base.</p>

<h2 id="javadoc">Javadoc</h2>

<p>We all hate writing documentation. And we hate libraries that are not
documented. I usually find it boring to write Javadoc blocks for my classes,
but I understand that without them the code I’m writing inside
those classes will not interest anyone.</p>

<p>The best format for those Javadoc blocks is “by example.” Instead of prose
I’d recommend you demonstrate how to use the class, especially in combination
with it neighbors. Moreover, I’d suggest you <em>don’t</em> write documentation
anywhere else apart from those Javadoc blocks. (They exist in other
languages too, but have different names.)</p>

<p>The problem with Javadoc is that it’s not so easy to format the text
so that it looks visually attractive. Maybe that’s why many programmers
still rely on Wikis or project websites. I’d recommend you stay inside
Javadoc blocks and learn their formatting syntax.</p>

<h2 id="badges">Badges</h2>

<p>As <a href="https://github.com/yegor256/takes">you can see</a>, I like badges. First and foremost
they make a repository look as if it’s being “actively maintained,” especially
if those badges are green. They don’t really deliver any valuable information.
They mostly say: “Our author has very good taste, see how perfectly
our colors match!”</p>



<p>Jokes aside, it’s not so easy to add all those badges. Each badge will take you
some time, to integrate a third party system, to make sure the numbers
are good enough to be proud of, and to keep it under control. If the
repository is not being watched over, the badges will eventually start failing.</p>

<h2 id="continuous-integration">Continuous Integration</h2>

<p>In order to use your code we have to trust it, meaning that we have to
be sure that it works, or at least passes automated tests. (Do I have to say that
you <a href="/2022/07/05/safety-net.html">must have tests</a>?)
How can we be sure it works? <a href="/2014/10/05/ten-hosted-continuous-integration-services.html">CI</a>
is the answer. We must be able
to see the logs of the recent CI build and make sure it is clean.</p>

<p>It’s a matter of trust. You may never use those <del>Travis</del> GitHub Actions builds and simply
ignore their red and green signals, but they are important for us—your
clients. I add <del>Travis</del> GitHub Actions badges to all projects of mine, right after I create
a new repository.</p>

<h2 id="contribution-guidelines">Contribution Guidelines</h2>

<p>For a regular GitHub addict it’s not a problem to figure out how to
send you a pull request. However, the majority of us, at least
initially, will consist of active users, not contributors. We will try
to use your product and will attempt to customize it for our needs.
If we get lost, we will leave, frustrated.</p>

<p>To prevent this, you have to explain what a disciplined contributor
has to do in order to make changes to your code base. Here are
the questions I’d recommend you answer in your
<a href="https://help.github.com/articles/setting-guidelines-for-repository-contributors/"><code class="language-plaintext highlighter-rouge">CONTRIBUTING.md</code></a>:</p>

<ul>
  <li>How do I run an automated build?</li>
  <li>How big/small does a pull request have to be in order to be accepted?</li>
  <li>What are your style guidelines?</li>
  <li>How do bugs have to be reported, tagged, explained?</li>
  <li>What makes a <a href="/2018/04/24/right-way-to-report-bugs.html">good bug report</a>?</li>
</ul>

<p>Here is the text I
<a href="https://blog.github.com/2016-02-17-issue-and-pull-request-templates/">use</a> in all my projects:
<a href="https://github.com/yegor256/takes/blob/14d1d4f6c398a5f8ff08d958fc86f4413dcc7778/.github/ISSUE_TEMPLATE.md"><code class="language-plaintext highlighter-rouge">ISSUE_TEMPLATE.md</code></a>
and
<a href="https://github.com/yegor256/takes/blob/14d1d4f6c398a5f8ff08d958fc86f4413dcc7778/.github/PULL_REQUEST_TEMPLATE.md"><code class="language-plaintext highlighter-rouge">PULL_REQUEST_TEMPLATE.md</code></a>.</p>

<h2 id="quality-wall">Quality Wall</h2>

<p>Finally, if you are lucky, we will use your product and will be interested
in contributing. You will start getting our pull requests. The question is how
fast we will ruin your code base. We will, if you don’t protect yourself.</p>

<p>If you strictly review each pull request and reject anything that doesn’t
look like “great” code, you will lose us, your contributors. We don’t want
to write great code, we want to make changes to your product so that it
becomes more suitable for <em>our</em> needs. The greatness of the code is <em>your</em>
concern, not ours.</p>

<p>On the other hand, if you accept whatever comes in, the architecture will lose its robustness
(if it ever had any) and you again will lose us, your contributors. This time
you will lose us because the product will become bad and difficult to
maintain and contribute to.</p>

<p>The best way to keep the balance is to “hire” a tool to help you:
build automation, static analysis, automated tests, and coverage control.
You have to configure the product to fail when the changes someone
introduces violate its internal quality expectations.
I <a href="/2014/07/24/rultor-automated-merging.html">use Rultor</a> for that too.</p>

<p>Did I forget anything?</p>

    </article>
  </body>
</html>
