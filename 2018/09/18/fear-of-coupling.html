<!DOCTYPE html> <html xmlns="https://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebSite"> <head> <meta charset="utf-8"/> <meta name="description" content="Most of us are afraid of decoupling objects via interfaces since it makes their aggregates less predictable and therefore less stable; it&apos;s a mistake." /> <meta name="keywords" content="coupling in object oriented programming, coupling in oop, coupling vs reliability, interfaces in oop, loose coupling" /> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/> <meta name="google-site-verification" content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8" /> <meta name="author" content="Yegor Bugayenko"> <meta name="article:published_time" content="2018-09-18 00:00:00 +0000"> <meta name="og:site_name" content="Yegor Bugayenko"/> <meta name="og:type" content="article" /> <meta name="og:locale" content="en_US" /> <meta name="twitter:account_id" content="4503599630178231" /> <meta name="twitter:creator" content="@yegor256"/> <meta name="twitter:site" content="@yegor256"/> <meta name="twitter:title" property="og:title" content="Fear of Decoupling"/> <meta name="twitter:description" property="og:description" content="Most of us are afraid of decoupling objects via interfaces since it makes their aggregates less predictable and therefore less stable; it&apos;s a mistake."/> <meta name="twitter:url" property="og:url" content="https://www.yegor256.com/2018/09/18/fear-of-coupling.html"/> <meta name="telegram:channel" content="AAAAAEJFMRzsRTRxM3ec6A"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="yegor256" /> <link rel="shortcut icon" href="/favicon.ico?2c322f50308"/> <link rel="apple-touch-icon" href="/favicon.ico?2c322f50308"/> <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="https://www.yegor256.com/rss.xml"/> <link rel="stylesheet" href="/css/layout.css?2c322f50308"/> <link rel="stylesheet" href="/css/icons.css?2c322f50308"/> <link rel="canonical" href="https://www.yegor256.com/2018/09/18/fear-of-coupling.html" /> <title>Fear of Decoupling</title> <meta name='og:image' content='https://www.yegor256.com/images/2018/09/funny-games.jpg'/><meta name='twitter:image' content='https://www.yegor256.com/images/2018/09/funny-games.jpg'/><meta name='og:image:width' content='1270'/> <meta name='twitter:image:width' content='1270'/><meta name='og:image:height' content='687'/> <meta name='twitter:image:height' content='687'/><meta name='twitter:card' content='summary_large_image'/><meta name='twitter:image:alt' content='Funny Games (2007) by Michael Haneke'/> </head> <body><div class="wrapper"> <aside class="header-toggle unprintable" id="header-toggle" title="Show the menu" onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside> <header class="header" id="header"><div class="face"> <a href="/about-me.html#form" class="sub" title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html" style="position:relative;"> <img src="/images/face-256x256.jpg" class="photo" alt="Yegor Bugayenko"/> </a></div><nav><ul class="menu social notranslate"> <li><a href="https://twitter.com/intent/follow?screen_name=yegor256" rel="nofollow" title="Follow me on Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li> <li><a href="/rss.xml" rel="nofollow" title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://github.com/yegor256" rel="nofollow" title="My GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="http://stackoverflow.com/users/187141/yegor256" rel="nofollow" title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.facebook.com/yegor256" rel="nofollow" title="Follow me on Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://instagram.com/yegor256" rel="nofollow" title="Follow me on Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.linkedin.com/in/yegor256" rel="nofollow" title="My LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.youtube.com/c/yegor256?sub_confirmation=1" rel="nofollow" title="My Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li> <li><a href="https://soundcloud.com/yegor256" rel="nofollow" title="My podcast"><i class="icon icon-podcast notranslate" aria-hidden="true"></i></a></li> <li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721" rel="nofollow" title="My iTunes podcast"><i class="icon icon-itunes notranslate" aria-hidden="true"></i></a></li> <li><a href="https://t.me/yegor256news" rel="nofollow" title="My Telegram public channel"><i class="icon icon-telegram notranslate" aria-hidden="true"></i></a></li> <li><a href="mailto:blog@yegor256.com" rel="nofollow" title="Email me any time"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"> <li><a href="/" title="Home page">Home</a></li> <li ><a href="/best.html" title="Best articles to read">12&#160;Best</a></li> <li ><a href="/contents.html" title="The contents of the entire blog">All&#160;456</a></li> <li ><a href="/teaching.html" title="My courses and lectures">Teaching</a></li> <li ><a href="/talks.html" title="Future and past conference talks">Talks</a></li> <li ><a href="/books.html" title="The books I wrote">Books</a></li> <li ><a href="/research.html" title="My research directions and progress">Research</a></li> <li ><a href="/pets.html" title="My loved pet projects">Pets</a></li> <li ><a href="https://www.iccq.ru" title="International Conference on Code Quality">ICCQ</a></li> <li ><a href="https://www.kaicode.org" title="Open Source Festival">KaiCode</a></li> <li ><a href="/testimonials.html" title="What some people say about me">Testimonials</a></li> <li ><a href="/shift-m.html" title="Audio podcast about project management">Shift-M</a></li> <li ><a href="/paintings.html" title="My paintings for sale">Art</a></li></ul></nav><div class="search"> <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction"> <meta itemprop="target" content="https://www.google.com/search?q={q}"/> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input itemprop="query-input" type="text" id="search-query" class="field field-text" required="required" onfocus="$('.google').css('visibility', 'visible');" name="q" placeholder="Search..." autocomplete="off"/> <input type="image" src="/images/google-search-icon.svg" class="google" title="Search via Google" alt="Search via Google"/> </form></div><div class="hot"><ul></ul></div></header></div><section itemscope="" itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><p class="printable"> <img src="https://api.qrserver.com/v1/create-qr-code/?data=https://www.yegor256.com/2018/09/18/fear-of-coupling.html&amp;format=svg" style="width:125px;height:125px;" alt="QR code"/></p><p class="printable"> <code itemprop="url">https://www.yegor256.com/2018/09/18/fear-of-coupling.html</code></p><h1 itemprop="name headline mainEntityOfPage">Fear of Decoupling</h1><ul class="subline"> <li> <time itemprop="datePublished" datetime="2018-09-18T00:00:00+00:00"> 18 September 2018 </time> </li> <li class="desktop-only" itemprop="locationCreated">Moscow, Russia</li> <li class="printable" itemscope="" itemprop="author" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </li> <li class="unprintable"> <i class="icon icon-comments"></i> <a href="https://www.yegor256.com/2018/09/18/fear-of-coupling.html#disqus_thread" itemprop="discussionUrl">comments</a> </li></ul><ul class="subline"> <li title="The page is translated by ChatGPT from English to a few languages"> Translated by <i class="icon icon-chatgpt notranslate" aria-hidden="true"></i> to </li> <li title="Click to see this page translated to Chinese"> <a href='https://www.yegor256.com/zh/2018/09/18/fear-of-coupling.html'>中文</a> </li> <li title="Click to see this page translated to Russian"> <a href='https://www.yegor256.com/ru/2018/09/18/fear-of-coupling.html'>русский</a> </li></ul><p class="unprintable"><a href='/tag/oop.html' class='tag notranslate'><img src='/images/icons/cactus.svg' alt='OOP'/>oop</a></p><nav class="buttons notranslate desktop-only"> <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.yegor256.com/2018/09/18/fear-of-coupling.html" title="Share on Facebook" class="button" rel="nofollow"> <span class="count count-facebook">0</span> <i class="icon icon-facebook notranslate" aria-hidden="true"></i> </a> <a href="https://twitter.com/share?url=https://www.yegor256.com/2018/09/18/fear-of-coupling.html&amp;text=Fear+of+Decoupling" title="Share on Twitter" class="button" rel="nofollow"> <span class="count count-twitter">0</span> <i class="icon icon-twitter notranslate" aria-hidden="true"></i> </a> <a href="https://www.linkedin.com/cws/share?url=https://www.yegor256.com/2018/09/18/fear-of-coupling.html" title="Share on LinkedIn" class="button" rel="nofollow"> <span class="count count-linkedin">0</span> <i class="icon icon-linkedin notranslate" aria-hidden="true"></i> </a> <a href="https://reddit.com/submit?url=https://www.yegor256.com/2018/09/18/fear-of-coupling.html%3F2018-37&amp;title=Fear+of+Decoupling" title="Share on Reddit" class="button" rel="nofollow"> <span class="count count-reddit">0</span> <i class="icon icon-reddit notranslate" aria-hidden="true"></i> </a> <a href="https://news.ycombinator.com/submitlink?u=https://www.yegor256.com/2018/09/18/fear-of-coupling.html%3F2018-37&amp;t=Fear+of+Decoupling" title="Share on Hacker News" class="button" rel="nofollow"> <span class="count count-hackernews">0</span> <i class="icon icon-hackernews notranslate" aria-hidden="true"></i> </a> <a href="#" title="Cite it via BibTeX" class="button" onclick="$('#bibtex').toggle(); return false;"> <i class="icon icon-tex notranslate" aria-hidden="true"></i> </a> </nav> </header> <article class="main" itemprop="articleBody"><div ><div id="bibtex" style="display: none"><p>Please, cite this blog post via <a href="https://www.bibtex.org/">BibTeX</a> as such:</p><pre style="color:#053c5e;">@misc&#123;bugayenko2018blog0918,
  author = &#123;Bugayenko, Yegor&#125;,
  title = &#123;&#123;Fear of Decoupling&#125;&#125;,
  howpublished = &#123;\url&#123;https://www.yegor256.com/180918.html&#125;&#125;,
  year = &#123;2018&#125;,
  month = &#123;sep&#125;,
  note = &#123;[Online; accessed 20-04-2024]&#125;
&#125;</pre></div><p>Objects talk to each other via their methods. In mainstream programming languages, like Java or C#, an object may have a unique set of methods together with some methods it is forced to have because it <em>implements</em> certain types, also known as <em>interfaces</em>. My experience of speaking with many programmers tells me that most of us are pretty scared of objects that implement too many interface methods. We don’t want to deal with them since they are <em>polymorphic</em> and, because of that, unreliable. It’s a fair fear. Let’s try to analyze where it comes from.</p><figure class="jb_picture"><img itemprop="image" alt="Funny Games (2007) by Michael Haneke" src="/images/2018/09/funny-games.jpg" longdesc="#9f6d574f" /><figcaption id="9f6d574f">Funny Games (2007) by Michael Haneke</figcaption></figure><p>As usual, let’s start with a simple Java example. Here is an amount of money I’m going to send to a user via, say, the PayPal API:</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">interface</span> <span class="nc">Money</span> <span class="o">{</span>
  <span class="kt">double</span> <span class="nf">cents</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div></div><p>Now here I am, the method that sends the money:</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">send</span><span class="o">(</span><span class="nc">Money</span> <span class="n">m</span><span class="o">)</span> <span class="o">{</span>
  <span class="kt">double</span> <span class="n">c</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="na">cents</span><span class="o">();</span>
  <span class="c1">// Send them over via the API...</span>
<span class="o">}</span>
</code></pre></div></div><p>These two pieces of code are, as we call it, loosely coupled. The method <code class="language-plaintext highlighter-rouge">send()</code> has no idea which class is provided and how exactly the method <code class="language-plaintext highlighter-rouge">cents()</code> is implemented. Maybe it’s a simple constant object of one dollar:</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">OneDollar</span> <span class="kd">implements</span> <span class="nc">Money</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kt">double</span> <span class="nf">cents</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="mf">100.0d</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div><p>Or maybe it’s a way more complex entity that makes a network connection first, in order to fetch the current USD-to-EUR exchange rate, update the database, and then return the result of some calculation:</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">EmployeeHourlyRate</span> <span class="kd">implements</span> <span class="nc">Money</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kt">double</span> <span class="nf">cents</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">// Fetch the exchange rate;</span>
    <span class="c1">// Update the database;</span>
    <span class="c1">// Calculate the hourly rate;</span>
    <span class="c1">// Return the value.</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div><p>The method <code class="language-plaintext highlighter-rouge">send()</code> doesn’t have the knowledge of what exactly is provided as its first argument. All it can do is hope that the method <code class="language-plaintext highlighter-rouge">cents()</code> will do the work right. What if it doesn’t?</p><p>If I’m a developer of the method <code class="language-plaintext highlighter-rouge">send()</code> and I’m fully prepared to take the blame for the mistakes my method causes, I do want to know what my collaborators are. And I want to be absolutely sure they work. Not just work, but work exactly how I expect them to. Preferably I would like to write them myself. Ideally I would like to ensure that nobody touches them after I implement them. You get the sarcasm, right?</p><aside class="quote">Polymorphism makes sofware more fragile … to make it more robust! </aside><p>This may sound like a joke, but I have heard this argument many times. They say that “it’s better to be completely sure two pieces work together, instead of relying on the damn polymorphism and then spending hours debugging something I didn’t write.” And they are right, you know. Polymorphism—when a seemingly primitive object of type <code class="language-plaintext highlighter-rouge">Money</code> does whatever it wants, including HTTP requests and SQL <code class="language-plaintext highlighter-rouge">UPDATE</code> queries—doesn’t add reliability to the entire application, does it?</p><p>No, it doesn’t.</p><p>Obviously, polymorphism makes the life of the developers of this type <code class="language-plaintext highlighter-rouge">Money</code> and its “ancestors” way simpler, since they don’t have to think about their users much. All they worry about is how to return the <code class="language-plaintext highlighter-rouge">double</code> when <code class="language-plaintext highlighter-rouge">cents()</code> is called. They don’t need to care about speed, potential exceptions, memory usage, and many other things, since the interface doesn’t require that. It only tells them to return the <code class="language-plaintext highlighter-rouge">double</code> and call it a day. Let somebody else worry about everything else. Easy, huh? But that’s a childish and egoistic way of thinking, you may say!</p><p>Yes, it is.</p><p>However…</p><p>You’ve most definitely heard of the <a href="/2015/08/25/fail-fast.html">Fail Fast</a> idea, which, in a nutshell, claims that in order to make an application robust and stable we have to make sure its components are as fragile as possible and as vulnerable as they can be in response to any potential exceptional situation. They have to break whenever they can and let their users deal with the failures. With such a philosophy no object will assume anything good about its counterparts and will always try to escalate problems to higher levels, which eventually will hit the end user who will report them back to the team. The team will fix them all and the entire product will stabilize.</p><p>If the philosophy is the opposite and every object is trying to deal with problems on its individual micro level, the majority of exceptional situations will never be visible to users, testers, architects and programmers, who are supposed to be dealing with them and finding solutions for them. Thanks to this “careful” mindset of individual objects, the stability and robustness of the entire application will suffer.</p><p>We can apply the same logic to the “fear of loose coupling.”</p><p>When we worry about how <code class="language-plaintext highlighter-rouge">Money.cents()</code> works and want to control its behavior, we are doing ourselves and the entire project a big disservice. In the long run we destabilize the product, instead of making it more stable. Some even want to prohibit polymorphism by declaring method <code class="language-plaintext highlighter-rouge">send()</code> this way:</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">send</span><span class="o">(</span><span class="nc">EmployeeHourlyRate</span> <span class="n">m</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// Now I know that it's not some abstract Money,</span>
  <span class="c1">// but a very specific class EmployeeHourlyRate, which</span>
  <span class="c1">// was implemented by Bobby, a good friend of mine.</span>
<span class="o">}</span>
</code></pre></div></div><p>Here we limit the amount of mistakes our code may have, since we know Bobby, we’ve seen his code, we know how it works and which exceptions to expect. We are safe. Yes, we are. For now. But strategically speaking, by not allowing our software to make all possible mistakes and throw all possible exceptions in all unusual situations, we are seriously limiting its ability to be properly tested and that’s why it’s destabilized.</p><p>As I <a href="/2017/05/23/unlimited-number-of-bugs.html">mentioned earlier</a>, the only way to increase the quality of software is to find and fix its bugs. The more bugs we fix, the fewer are the bugs that remain hidden and not-fixed-yet. A fear of bugs and our intention to prevent them is only shooting us in the foot.</p><p>Instead, we should let everybody, not only Bobby, implement <code class="language-plaintext highlighter-rouge">Money</code> and pass those implementations to <code class="language-plaintext highlighter-rouge">send()</code>. Yes, some of them will cause troubles and may even lead to UI-visible failures. But if our management understands the concept of <a href="/2017/12/26/software-quality-formula.html">software quality</a> right, they will <a href="/2014/04/13/bugs-are-welcome.html">not blame</a> us for mistakes. Instead, they will encourage us to find as many of them as possible, reproduce them with automated tests, fix, and re-deploy.</p><p>Thus, the fear of decoupling is nothing else but Fail Safe.</p><blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">How often do you create interfaces for your classes? <a href="https://twitter.com/hashtag/elegantobjects?src=hash&amp;ref_src=twsrc%5Etfw">#elegantobjects</a> <a href="https://twitter.com/hashtag/oop?src=hash&amp;ref_src=twsrc%5Etfw">#oop</a></p>&mdash; Yegor Bugayenko (@yegor256) <a href="https://twitter.com/yegor256/status/1046377815799738368?ref_src=twsrc%5Etfw">September 30, 2018</a></blockquote> <script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div></article></div><div class="wrapper" aria-hidden="true"> <related-posts /></div><div class="disqus" role="complementary" aria-hidden="true"><p class="disqus_hint" > Please, use <a href="https://help.disqus.com/commenting/what-html-tags-are-allowed-within-comments">syntax highlighting</a> in your comments, to make them more readable.</p><div id="disqus_thread" class="disqus-thread"> <a>&nbsp;</a></div><script> var disqus_config = function () { this.page.url = document.location.href.split('?')[0].split('#')[0].replace('https://', 'http://'); this.page.identifier = this.page.url; }; (function() { var d = document, s = d.createElement('script'); s.src = '//yegor256.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript><div><p class="red"> JavaScript is disabled in your browser, that's why you can't see comments under this post.</p></div></noscript></div><div class="wrapper"> <footer class="footer"><p> &copy; <span itemscope="" itemprop="copyrightHolder" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </span> 2014&ndash;<span itemprop="copyrightYear">2024</span></p></footer></div></section><div class="wrapper unprintable" style="text-align:center;margin-top:2em;"> <a href="https://www.sixnines.io/h/3ba1652f"> <img src="//www.sixnines.io/b/3ba1652f?style=flat" alt="sixnines availability badge" /></a> &nbsp; <a href="https://github.com/yegor256/blog/stargazers"> <img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square" alt="GitHub stars" /></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script> <script src="/js/all.js?2c322f50308"></script> <script>var disqus_shortname = 'yegor256';</script> <script id="dsq-count-scr" src="//yegor256.disqus.com/count.js" async="async"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-1963507-32', 'auto'); ga('send', 'pageview'); </script> <script> Cd=document;Cr="&"+Math.random();Cp="&s=1"; Cd.cookie="b=b";if(Cd.cookie)Cp+="&c=1"; Cp+="&t="+(new Date()).getTimezoneOffset(); if(self!=top)Cp+="&f=1"; </script> <script> if(navigator.javaEnabled())Cp+="&j=1"; </script> <script> if(typeof(screen)!='undefined')Cp+="&w="+screen.width+"&h="+ screen.height+"&d="+(screen.colorDepth?screen.colorDepth:screen.pixelDepth); </script> <script> Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+ "&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+ "' border='0' wi"+"dth='1' he"+"ight='1'/>"); </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] } </script> </body> </html>
