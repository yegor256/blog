<!DOCTYPE html> <html xmlns="https://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebSite"> <head> <meta charset="utf-8"/> <meta name="description" content="This is a full list of unit-testing anti-patterns that I managed to find and collect; feel free to add your items to the list, via a pull request." /> <meta name="keywords" content="anti-pattern, testing anti-pattern, testing anti-pattern java, unit testing anti-pattern, unit testing anti-pattern java" /> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/> <meta name="google-site-verification" content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8" /> <meta name="author" content="Yegor Bugayenko"> <meta name="article:published_time" content="2018-12-11 00:00:00 +0000"> <meta name="yandex-verification" content="7d2a0afee14d72bc" /> <meta name="og:site_name" content="Yegor Bugayenko"/> <meta name="og:type" content="article" /> <meta name="og:locale" content="en_US" /> <meta name="twitter:account_id" content="4503599630178231" /> <meta name="twitter:creator" content="@yegor256"/> <meta name="twitter:site" content="@yegor256"/> <meta name="twitter:title" property="og:title" content="Unit Testing Anti-Patterns, Full List"/> <meta name="twitter:description" property="og:description" content="This is a full list of unit-testing anti-patterns that I managed to find and collect; feel free to add your items to the list, via a pull request."/> <meta name="twitter:url" property="og:url" content="https://www.yegor256.com/2018/12/11/unit-testing-anti-patterns.html"/> <meta name="telegram:channel" content="AAAAAEJFMRzsRTRxM3ec6A"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="yegor256" /> <link rel="icon" href="/favicon.ico?f81ba85609b" type="image/x-icon"/> <link rel="shortcut icon" href="/favicon.ico?f81ba85609b"/> <link rel="apple-touch-icon" href="/favicon.ico?f81ba85609b"/> <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="https://www.yegor256.com/rss.xml"/> <link rel="stylesheet" href="/css/layout.css?f81ba85609b"/> <link rel="stylesheet" href="/css/icons.css?f81ba85609b"/> <link rel="canonical" href="https://www.yegor256.com/2018/12/11/unit-testing-anti-patterns.html" /> <title>Unit Testing Anti-Patterns, Full List</title> <meta name='og:image' content='https://www.yegor256.com/images/2018/12/breaking-bad.jpg'/><meta name='twitter:image' content='https://www.yegor256.com/images/2018/12/breaking-bad.jpg'/><meta name='og:image:width' content='1762'/> <meta name='twitter:image:width' content='1762'/><meta name='og:image:height' content='992'/> <meta name='twitter:image:height' content='992'/><meta name='twitter:card' content='summary_large_image'/><meta name='twitter:image:alt' content='Breaking Bad (2010) by Vince Gilligan'/> </head> <body><div class="wrapper"> <aside class="header-toggle unprintable" id="header-toggle" title="Show the menu" onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside> <header class="header" id="header"><div class="face"> <a href="/about-me.html#form" class="sub" title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html" style="position:relative;"> <img src="/images/face-256x256.jpg" class="photo" alt="Yegor Bugayenko"/> </a></div><nav><ul class="menu social notranslate"> <li><a href="https://twitter.com/intent/follow?screen_name=yegor256" rel="nofollow" title="Follow me on Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li> <li><a href="/rss.xml" rel="nofollow" title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://github.com/yegor256" rel="nofollow" title="My GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="http://stackoverflow.com/users/187141/yegor256" rel="nofollow" title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.facebook.com/yegor256" rel="nofollow" title="Follow me on Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://instagram.com/yegor256" rel="nofollow" title="Follow me on Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.linkedin.com/in/yegor256" rel="nofollow" title="My LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.youtube.com/c/yegor256?sub_confirmation=1" rel="nofollow" title="My Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li> <li><a href="https://soundcloud.com/yegor256" rel="nofollow" title="My podcast"><i class="icon icon-podcast notranslate" aria-hidden="true"></i></a></li> <li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721" rel="nofollow" title="My iTunes podcast"><i class="icon icon-itunes notranslate" aria-hidden="true"></i></a></li> <li><a href="https://t.me/yegor256news" rel="nofollow" title="My Telegram public channel"><i class="icon icon-telegram notranslate" aria-hidden="true"></i></a></li> <li><a href="mailto:blog@yegor256.com" rel="nofollow" title="Email me any time"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"> <li><a href="/" title="Home page">Home</a></li> <li ><a href="/best.html" title="Best articles to read">12&#160;Best</a></li> <li ><a href="/contents.html" title="The contents of the entire blog">All&#160;472</a></li> <li ><a href="/teaching.html" title="My courses and lectures">Teaching</a></li> <li ><a href="/talks.html" title="Future and past conference talks">Talks</a></li> <li ><a href="/books.html" title="The books I wrote">Books</a></li> <li ><a href="/research.html" title="My research directions and progress">Research</a></li> <li ><a href="/pets.html" title="My loved pet projects">Pets</a></li> <li ><a href="https://www.iccq.ru" title="International Conference on Code Quality">ICCQ</a></li> <li ><a href="https://www.kaicode.org" title="Open Source Festival">KaiCode</a></li> <li ><a href="/testimonials.html" title="What some people say about me">Testimonials</a></li> <li ><a href="/shift-m.html" title="Audio podcast about project management">Shift-M</a></li> <li ><a href="/paintings.html" title="My paintings for sale">Art</a></li></ul></nav><div class="search"> <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction"> <meta itemprop="target" content="https://www.google.com/search?q={q}"/> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input itemprop="query-input" type="text" id="search-query" class="field field-text" required="required" onfocus="$('.google').css('visibility', 'visible');" name="q" placeholder="Search..." autocomplete="off"/> <input type="image" src="/images/google-search-icon.svg" class="google" title="Search via Google" alt="Search via Google"/> </form></div><div class="hot"><ul> <li> If you have an open source repository designed right, there is a chance to win up to $4,096 at <a href="https://www.kaicode.org">KaiCode'25</a>, our 8th annual open source festival. <a href="https://docs.google.com/forms/d/1nUlL2xvL1OOy3LoVF-g7MfB-9yeG68XB2wXW4MAoWrY">Submit</a> your project now, it's free! </li> <li> Are you a Java developer? Ready to move to Moscow (Russia) and join my team for a full-time employment in Fortune-100 company? We are working with <a href="https://www.eolang.org">EO</a>, a new programming language. <a href="mailto:job@yegor256.com">Email me</a>, we'll discuss. </li></ul></div></header></div><section itemscope="" itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><p class="printable"> <img src="https://api.qrserver.com/v1/create-qr-code/?data=https://www.yegor256.com/2018/12/11/unit-testing-anti-patterns.html&amp;format=svg" style="width:125px;height:125px;" alt="QR code"/></p><p class="printable"> <code itemprop="url">https://www.yegor256.com/181211.html</code></p><h1 itemprop="name headline mainEntityOfPage">Unit Testing Anti-Patterns, Full List</h1><ul class="subline"> <li> <time itemprop="datePublished" datetime="2018-12-11T00:00:00+00:00"> 11 December 2018 </time> </li> <li class="desktop-only" itemprop="locationCreated">Moscow, Russia</li> <li class="printable" itemscope="" itemprop="author" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </li> <li class="unprintable"> <i class="icon icon-comments"></i> <a href="https://www.yegor256.com/2018/12/11/unit-testing-anti-patterns.html#disqus_thread" itemprop="discussionUrl">comments</a> </li></ul><ul class="unprintable subline"> <li title="The page is translated by ChatGPT from English to a few languages"> Translated by <i class="icon icon-chatgpt notranslate" aria-hidden="true"></i> to </li> <li title="Click to see this page translated to Chinese"> <a href='https://www.yegor256.com/zh/2018/12/11/unit-testing-anti-patterns.html'>中文</a> </li> <li title="Click to see this page translated to Russian"> <a href='https://www.yegor256.com/ru/2018/12/11/unit-testing-anti-patterns.html'>русский</a> </li></ul><p class="unprintable"><a href='/tag/testing.html' class='tag notranslate'>testing</a></p><nav class="buttons notranslate desktop-only"> <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.yegor256.com/2018/12/11/unit-testing-anti-patterns.html" title="Share on Facebook" class="button" rel="nofollow"> <span class="count count-facebook">0</span> <i class="icon icon-facebook notranslate" aria-hidden="true"></i> </a> <a href="https://twitter.com/share?url=https://www.yegor256.com/2018/12/11/unit-testing-anti-patterns.html&amp;text=Unit+Testing+Anti-Patterns%2C+Full+List" title="Share on Twitter" class="button" rel="nofollow"> <span class="count count-twitter">0</span> <i class="icon icon-twitter notranslate" aria-hidden="true"></i> </a> <a href="https://www.linkedin.com/cws/share?url=https://www.yegor256.com/2018/12/11/unit-testing-anti-patterns.html" title="Share on LinkedIn" class="button" rel="nofollow"> <span class="count count-linkedin">0</span> <i class="icon icon-linkedin notranslate" aria-hidden="true"></i> </a> <a href="https://reddit.com/submit?url=https://www.yegor256.com/2018/12/11/unit-testing-anti-patterns.html%3F2018-49&amp;title=Unit+Testing+Anti-Patterns%2C+Full+List" title="Share on Reddit" class="button" rel="nofollow"> <span class="count count-reddit">0</span> <i class="icon icon-reddit notranslate" aria-hidden="true"></i> </a> <a href="https://news.ycombinator.com/submitlink?u=https://www.yegor256.com/2018/12/11/unit-testing-anti-patterns.html%3F2018-49&amp;t=Unit+Testing+Anti-Patterns%2C+Full+List" title="Share on Hacker News" class="button" rel="nofollow"> <span class="count count-hackernews">0</span> <i class="icon icon-hackernews notranslate" aria-hidden="true"></i> </a> <a href="#" title="Cite it via BibTeX" class="button" onclick="$('#bibtex').toggle(); return false;"> <i class="icon icon-tex notranslate" aria-hidden="true"></i> </a> </nav> </header> <article class="main" itemprop="articleBody"><div ><div id="bibtex" style="display: none"><p>Please, cite this blog post via <a href="https://www.bibtex.org/">BibTeX</a> as such:</p><pre style="color:#053c5e;">@misc&#123;bugayenko2018blog1211,
  author = &#123;Bugayenko, Yegor&#125;,
  title = &#123;&#123;Unit Testing Anti-Patterns, Full List&#125;&#125;,
  howpublished = &#123;\url&#123;https://www.yegor256.com/181211.html&#125;&#125;,
  year = &#123;2018&#125;,
  month = &#123;dec&#125;,
  note = &#123;[Online; accessed 18-04-2025]&#125;
&#125;</pre></div><p>I wrote some time ago about <a href="/2014/09/10/anti-patterns-in-oop.html">anti-patterns in OOP</a>. Now it’s time to write about unit testing anti-patterns—because they also exist, and there are many. I will try to include every example I know in this list. If you know any others, please add them via a <a href="https://github.com/yegor256/blog">pull request</a> or post a comment below. For each anti-pattern I will try to mention where it was found, if it’s not mine. Keep in mind that if I found it somewhere, that doesn’t necessarily mean it was invented there. If you spot an error, please comment.</p><figure class="jb_picture"><img itemprop="image" alt="Breaking Bad (2010) by Vince Gilligan" src="/images/2018/12/breaking-bad.jpg" longdesc="#5cbba42c" /><figcaption id="5cbba42c">Breaking Bad (2010) by Vince Gilligan</figcaption></figure><p name="cuckoo"><strong>Cuckoo</strong><sup>1</sup> (aka Stranger<sup>3</sup>). This is a test method that sits in the same unit test but doesn’t really belong there.</p><p name="tpm"><strong>Test-per-Method</strong><sup>1</sup>. Although a one-to-one relationship between test and production classes is a reasonable starting point, a one-to-one relationship between test and production method is almost always a bad idea.</p><p name="anal"><strong>Anal Probe</strong><sup>2</sup>. A test that has to use unhealthy ways to perform its task, such as reading private fields using reflection.</p><p name="twins"><strong>Conjoined Twins</strong><sup>2</sup>. Tests that are called unit tests but are really integration tests since there is no isolation between the system-under-test and the tests.</p><p name="happy"><strong>Happy Path</strong>. The tests stay on happy paths (i.e. expected results, e.g. 18 years old) without testing for boundaries and exceptions (e.g. -2 years old).</p><p name="poke"><strong>Slow Poke</strong><sup>3</sup>. A unit test that runs incredibly slow. When developers kick it off, they have time to go to the bathroom, grab a smoke, or worse, kick the test off before they go home at the end of the day.</p><p name="giant"><strong>Giant</strong><sup>3</sup>. A unit test that, although it is validly testing the object under test, can span thousands of lines and contain many many test cases. This can be an indicator that the system-under-test is a God Object.</p><p name="mockery"><strong>Mockery</strong><sup>3</sup>. Sometimes mocking can be good, and handy. But sometimes developers can lose themselves in their effort to mock out what isn’t being tested. In this case, a unit test contains so many mocks, stubs, and/or fakes that the system under test isn’t even being tested at all, instead data returned from mocks is what is being tested.</p><p name="inspector"><strong>Inspector</strong><sup>3</sup>. A unit test that violates encapsulation in an effort to achieve 100% code coverage, but knows so much about what is going on in the object that any attempt to refactor will break the existing test and require any change to be reflected in the unit test.</p><p name="leftovers"><strong>Generous Leftovers</strong><sup>3</sup> (aka <a href="https://stackoverflow.com/a/333814/187141">Chain Gang</a>, <a href="https://stackoverflow.com/a/2150985/187141">Wet Floor</a>). An instance where one unit test creates data that is persisted somewhere, and another test reuses the data for its own devious purposes. If the “generator” is ran afterward, or not at all, the test using that data will outright fail.</p><p name="hero"><strong>Local Hero</strong><sup>3</sup> (aka Hidden Dependency, Operating System Evangelist, <a href="https://stackoverflow.com/a/339339/187141">Wait and See</a>, <a href="https://stackoverflow.com/a/339297/187141">Environmental Vandal</a>). A test case that is dependent on something specific to the development environment it was written on, in order to run. The result is that the test passes on development boxes, but fails when someone attempts to run it elsewhere.</p><p name="nitpicker"><strong>Nitpicker</strong><sup>3</sup>. A unit test which compares a complete output when it’s really only interested in small parts of it, so the test has to continually be kept in line with otherwise unimportant details.</p><p name="secret"><strong>Secret Catcher</strong><sup>3</sup>. A test that at first glance appears to be doing no testing due to the absence of assertions, but as they say, “the devil is in the details.” The test is really relying on an exception to be thrown when a mishap occurs, and is expecting the testing framework to capture the exception and report it to the user as a failure.</p><p name="dodger"><strong>Dodger</strong><sup>3</sup>. A unit test which has lots of tests for minor (and presumably easy to test) side effects, but never tests the core desired behavior. Sometimes you may find this in database access related tests, where a method is called, then the test selects from the database and runs assertions against the result.</p><p name="loudmouth"><strong>Loudmouth</strong><sup>3</sup>. A unit test (or test suite) that clutters up the console with diagnostic messages, logging, and other miscellaneous chatter, even when tests are passing.</p><p name="catcher"><strong>Greedy Catcher</strong><sup>3</sup>. A unit test which catches exceptions and swallows the stack trace, sometimes replacing it with a less informative failure message, but sometimes even just logging (cf. Loudmouth) and letting the test pass.</p><p name="sequencer"><strong>Sequencer</strong><sup>3</sup>. A unit test that depends on items in an unordered list appearing in the same order during assertions.</p><p name="enumerator"><strong>Enumerator</strong><sup>3</sup> (aka <a href="https://stackoverflow.com/a/336766/187141">Test With No Name</a>). Unit tests where each test case method name is only an enumeration, e.g. <code class="language-plaintext highlighter-rouge">test1</code>, <code class="language-plaintext highlighter-rouge">test2</code>, <code class="language-plaintext highlighter-rouge">test3</code>. As a result, the intention of the test case is unclear, and the only way to be sure is to read the test case code and pray for clarity.</p><p name="ride"><strong>Free Ride</strong><sup>3</sup> (aka <a href="https://stackoverflow.com/a/333883/187141">Piggyback</a>). Rather than write a new test case method to test another feature or functionality, a new assertion rides along in an existing test case.</p><p name="setup"><strong>Excessive Setup</strong><sup>3</sup> (aka <a href="https://stackoverflow.com/a/333909/187141">Mother Hen</a>). A test that requires a lot of work to set up in order to even begin testing. Sometimes several hundred lines of code are used to setup the environment for one test, with several objects involved, which can make it difficult to really ascertain what is being tested due to the “noise” of all of the setup.</p><p name="hitter"><strong>Line hitter</strong>. At first glance, the tests cover everything and code coverage tools confirm it with 100%, but in reality the tests merely hit the code, without doing any output analysis.</p><p name="pole"><strong>Forty-Foot Pole Test</strong> (<a href="https://stackoverflow.com/a/339247/187141">see</a>). Afraid of getting too close to the class they are trying to test, these tests act at a distance, separated by countless layers of abstraction and thousands of lines of code from the logic they are checking.</p><p name="liar"><strong>The Liar</strong><sup>4</sup> (aka <a href="https://youtu.be/1Z_h55jMe-M?t=1059">Evergreen Tests</a>, Success Against All Odds<sup>3</sup>). A test doesn’t validate any behaviour and passes in every scenario. Any new bug introduced in the code will never be discovered by this test. It was probably created after the implementation was finished, so the author of this test couldn’t know whether the test actually tests something.</p><p>Useful links:</p><ol> <li><a href="https://amzn.to/2BaAKRB"><em>Spock: Up and Running</em></a> by Rob Fletcher</li> <li><a href="https://amzn.to/2DpkFc6"><em>Mastering Software Testing with JUnit 5</em></a> by Boni Garcia</li> <li><a href="http://archive.is/3acB#selection-119.0-119.17"><em>TDD Anti-Patterns</em></a> by James Carr</li> <li><a href="https://www.digitaltapestry.net/testify/manual/AntiPatterns.html"><em>Anti-Patterns</em></a> by William E. Kempf</li> </ol></div></article></div><script>var disqus_shortname = 'yegor256';</script> <script id="dsq-count-scr" src="//yegor256.disqus.com/count.js" async="async"></script><div class="disqus" role="complementary" aria-hidden="true"><p class="disqus_hint" > Please, use <a href="https://help.disqus.com/commenting/what-html-tags-are-allowed-within-comments">syntax highlighting</a> in your comments, to make them more readable.</p><div id="disqus_thread" class="disqus-thread"> <a>&nbsp;</a></div><script> var disqus_config = function () { this.page.url = document.location.href.split('?')[0].split('#')[0]; this.page.identifier = this.page.url; }; (function() { var d = document, s = d.createElement('script'); s.src = '//yegor256.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript><div><p class="red"> JavaScript is disabled in your browser, that's why you can't see comments under this post.</p></div></noscript></div><div class="wrapper"> <footer class="footer"><p> &copy; <span itemscope="" itemprop="copyrightHolder" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </span>, 2014&ndash;<span itemprop="copyrightYear">2025</span></p></footer></div></section><div class="wrapper unprintable" style="text-align:center;margin-top:2em;"> <a href="https://www.sixnines.io/h/3ba1652f"> <img src="//www.sixnines.io/b/3ba1652f?style=flat" alt="sixnines availability badge" /></a> &nbsp; <a href="https://github.com/yegor256/blog/stargazers"> <img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square" alt="GitHub stars" /></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script> <script src="/js/all.js?f81ba85609b"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-1963507-32', 'auto'); ga('send', 'pageview'); </script> <script> Cd=document;Cr="&"+Math.random();Cp="&s=1"; Cd.cookie="b=b";if(Cd.cookie)Cp+="&c=1"; Cp+="&t="+(new Date()).getTimezoneOffset(); if(self!=top)Cp+="&f=1"; </script> <script> if(navigator.javaEnabled())Cp+="&j=1"; </script> <script> if(typeof(screen)!='undefined')Cp+="&w="+screen.width+"&h="+ screen.height+"&d="+(screen.colorDepth?screen.colorDepth:screen.pixelDepth); </script> <script> Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+ "&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+ "' border='0' wi"+"dth='1' he"+"ight='1'/>"); </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] } </script> </body> </html>
