<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebSite"> <head> <meta charset="utf-8"/> <meta name="description" content="It is a very popular design idea to create a client for a server and expose the entire functionality; this leads to procedural code and must be avoided." /> <meta name="keywords" content="how to name a class, naming of classes, object naming, object-oriented programming naming, oop object names" /> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/> <meta name="google-site-verification" content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8" /> <meta name="author" content="Yegor Bugayenko"> <meta name="article:published_time" content="2017-09-12 00:00:00 +0000"> <meta name="og:site_name" content="Yegor Bugayenko"/> <meta name="og:type" content="article" /> <meta name="og:locale" content="en_US" /> <meta name="twitter:account_id" content="4503599630178231" /> <meta name="twitter:creator" content="@yegor256"/> <meta name="twitter:site" content="@yegor256"/> <meta name="twitter:title" property="og:title" content="Yet Another Evil Suffix For Object Names: Client"/> <meta name="twitter:description" property="og:description" content="It is a very popular design idea to create a client for a server and expose the entire functionality; this leads to procedural code and must be avoided."/> <meta name="twitter:url" property="og:url" content="https://www.yegor256.com/2017/09/12/evil-object-name-suffix-client.html"/> <meta name="telegram:channel" content="AAAAAEJFMRzsRTRxM3ec6A"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="yegor256" /> <link rel="shortcut icon" href="/favicon.ico?3e10064d47d"/> <link rel="apple-touch-icon" href="/favicon.ico?3e10064d47d"/> <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="https://www.yegor256.com/rss.xml"/> <link rel="stylesheet" href="/css/layout.css?3e10064d47d"/> <link rel="stylesheet" href="/css/icons.css?3e10064d47d"/> <link rel="canonical" href="https://www.yegor256.com/2017/09/12/evil-object-name-suffix-client.html" /> <title>Yet Another Evil Suffix For Object Names: Client </title> <meta name='og:image' content='https://www.yegor256.com/images/2017/09/dont-tempt-me.jpg'/><meta name='twitter:image' content='https://www.yegor256.com/images/2017/09/dont-tempt-me.jpg'/><meta name='og:image:width' content='1280'/> <meta name='twitter:image:width' content='1280'/><meta name='og:image:height' content='720'/> <meta name='twitter:image:height' content='720'/><meta name='twitter:card' content='summary_large_image'/><meta name='twitter:image:alt' content='Sin noticias de Dios (2001) by Agustín Díaz Yanes'/> </head> <body><div class="wrapper"> <aside class="header-toggle unprintable" id="header-toggle" title="Show the menu" onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside> <header class="header" id="header"><div class="face"> <a href="/about-me.html#form" class="sub" title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html" style="position:relative;"> <img src="/images/face-256x256.jpg" class="photo" alt="Yegor Bugayenko"/> </a></div><nav><ul class="menu social notranslate"> <li><a href="https://twitter.com/intent/follow?screen_name=yegor256" rel="nofollow" title="Follow me on Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li> <li><a href="/rss.xml" rel="nofollow" title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://github.com/yegor256" rel="nofollow" title="My GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="http://stackoverflow.com/users/187141/yegor256" rel="nofollow" title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.facebook.com/yegor256" rel="nofollow" title="Follow me on Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://instagram.com/yegor256" rel="nofollow" title="Follow me on Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.linkedin.com/in/yegor256" rel="nofollow" title="My LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.youtube.com/c/yegor256?sub_confirmation=1" rel="nofollow" title="My Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.pinterest.com/yegor256/" rel="nofollow" title="My Pinterest boards"><i class="icon icon-pinterest notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://angel.co/yegor256" rel="nofollow" title="My AngelList profile"><i class="icon icon-angellist notranslate" aria-hidden="true"></i></a></li> <li><a href="https://soundcloud.com/yegor256" rel="nofollow" title="My podcast"><i class="icon icon-podcast notranslate" aria-hidden="true"></i></a></li> <li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721" rel="nofollow" title="My iTunes podcast"><i class="icon icon-itunes notranslate" aria-hidden="true"></i></a></li> <li><a href="https://t.me/yegor256news" rel="nofollow" title="My Telegram public channel"><i class="icon icon-telegram notranslate" aria-hidden="true"></i></a></li> <li><a href="mailto:blog@yegor256.com" rel="nofollow" title="Email me any time"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"> <li><a href="/" title="Home page">Home</a></li> <li ><a href="/best.html" title="Best articles to read">12&#160;Best</a></li> <li ><a href="/contents.html" title="The contents of the entire blog">All&#160;378</a></li> <li ><a href="/webinars.html" title="My webinars">Webinars</a></li> <li ><a href="/talks.html" title="Future and past conference talks">Talks</a></li> <li ><a href="/books.html" title="The books I wrote">Books</a></li> <li ><a href="/papers.html" title="My academic papers and patents">Papers</a></li> <li ><a href="/pets.html" title="My loved pet projects">Pets</a></li> <li ><a href="/award.html" title="Software quality award">Award</a></li> <li ><a href="/testimonials.html" title="What some people say about me">Testimonials</a></li> <li ><a href="/shift-m.html" title="Audio podcast about project management">Shift-M</a></li> <li ><a href="/paintings.html" title="My paintings for sale">Art</a></li> <li><a href="https://ru.yegor256.com/" title="Немного на русском языке о политике в России, Украине и мире">Политика</a></li></ul></nav><div class="search"> <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction"> <meta itemprop="target" content="https://www.google.com/search?q={q}"/> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input itemprop="query-input" type="text" id="search-query" class="field field-text" required="required" onfocus="$('.google').css('visibility', 'visible');" name="q" placeholder="Search..." autocomplete="off"/> <input type="image" src="/images/google-search-icon.svg" class="google" title="Search via Google" alt="Search via Google"/> </form></div><div class="hot"><ul></ul></div></header></div><section itemscope="" itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><p class="printable"> <img src="https://api.qrserver.com/v1/create-qr-code/?data=https://www.yegor256.com/2017/09/12/evil-object-name-suffix-client.html&amp;format=svg" style="width:125px;height:125px;" alt="QR code"/></p><p class="printable"> <code itemprop="url">https://www.yegor256.com/2017/09/12/evil-object-name-suffix-client.html</code></p><h1 itemprop="name headline mainEntityOfPage">Yet Another Evil Suffix For Object Names: Client</h1><ul class="subline"> <li> <time itemprop="datePublished" datetime="2017-09-12T00:00:00+00:00"> 12 September 2017 </time> </li> <li class="desktop-only" itemprop="locationCreated">Odessa, Ukraine</li> <li class="printable" itemscope="" itemprop="author" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </li> <li class="unprintable"> <i class="icon icon-comments"></i> <a href="https://www.yegor256.com/2017/09/12/evil-object-name-suffix-client.html#disqus_thread" itemprop="discussionUrl">comments</a> </li></ul><p class="unprintable"><a href='/tag/oop.html' class='tag notranslate'><img src='/images/icons/cactus.svg' alt='OOP'/>oop</a></p><nav class="buttons notranslate desktop-only"> <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.yegor256.com/2017/09/12/evil-object-name-suffix-client.html" title="Share on Facebook" class="button" rel="nofollow"> <span class="count count-facebook">0</span> <i class="icon icon-facebook notranslate" aria-hidden="true"></i> </a> <a href="https://twitter.com/share?url=https://www.yegor256.com/2017/09/12/evil-object-name-suffix-client.html&amp;text=Yet+Another+Evil+Suffix+For+Object+Names%3A+Client" title="Share on Twitter" class="button" rel="nofollow"> <span class="count count-twitter">0</span> <i class="icon icon-twitter notranslate" aria-hidden="true"></i> </a> <a href="https://www.linkedin.com/cws/share?url=https://www.yegor256.com/2017/09/12/evil-object-name-suffix-client.html" title="Share on LinkedIn" class="button" rel="nofollow"> <span class="count count-linkedin">0</span> <i class="icon icon-linkedin notranslate" aria-hidden="true"></i> </a> <a href="https://reddit.com/submit?url=https://www.yegor256.com/2017/09/12/evil-object-name-suffix-client.html%3F2017-37&amp;title=Yet+Another+Evil+Suffix+For+Object+Names%3A+Client" title="Share on Reddit" class="button" rel="nofollow"> <span class="count count-reddit">0</span> <i class="icon icon-reddit notranslate" aria-hidden="true"></i> </a> <a href="https://news.ycombinator.com/submitlink?u=https://www.yegor256.com/2017/09/12/evil-object-name-suffix-client.html%3F2017-37&amp;t=Yet+Another+Evil+Suffix+For+Object+Names%3A+Client" title="Share on Hacker News" class="button" rel="nofollow"> <span class="count count-hackernews">0</span> <i class="icon icon-hackernews notranslate" aria-hidden="true"></i> </a> </nav> </header> <article class="main" itemprop="articleBody"><div ><p>Some time ago we <a href="/2015/03/09/objects-end-with-er.html">were talking</a> about “-ER” suffixes in object and class names. We agreed that they were evil and must be avoided if we want our code to be truly object-oriented and our objects to be objects instead of collections of procedures. Now I’m ready to introduce a new evil suffix: <code class="highlighter-rouge">Client</code>.</p><figure class="jb_picture"><img itemprop="image" alt="Sin noticias de Dios (2001) by Agustín Díaz Yanes" src="/images/2017/09/dont-tempt-me.jpg" longdesc="#467f4c9d" /><figcaption id="467f4c9d">Sin noticias de Dios (2001) by Agustín Díaz Yanes</figcaption></figure><p>Let me give an example first. This is what an object with such a suffix may look like (it’s a pseudo-code version of the <a href="http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3Client.html"><code class="highlighter-rouge">AmazonS3Client</code></a> from <a href="https://aws.amazon.com/sdk-for-java/">AWS Java SDK</a>):</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">AmazonS3Client</span> <span class="o">{</span>
  <span class="n">createBucket</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">);</span>
  <span class="n">deleteBucket</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">);</span>
  <span class="n">doesBucketExist</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">);</span>
  <span class="n">getBucketAcl</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span>
  <span class="n">getBucketPolicy</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">);</span>
  <span class="n">listBuckets</span><span class="o">();</span>
  <span class="c1">// 160+ more methods here</span>
<span class="o">}</span>
</code></pre></div></div><p>All “clients” look similar: they encapsulate the destination URL with some access credentials and expose a number of methods, which transport the data to/from the “server.” Even though this design looks like a <a href="/2014/11/20/seven-virtues-of-good-object.html">proper object</a>, it doesn’t really follow the true spirit of object-orientation. That’s why it’s not as maintainable as it should be, for two reasons:</p><ul> <li><p><strong>Its scope is too broad</strong>. Since the client is an abstraction of a server, it inevitably has to represent the server’s <em>entire</em> functionality. When the functionality is rather limited there is no issue. Take <a href="https://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/client/HttpClient.html"><code class="highlighter-rouge">HttpClient</code></a> from <a href="https://hc.apache.org/">Apache HttpComponents</a> as an example. However, when the server is more complex, the size of the client also grows. There are over 160 (!) methods in <code class="highlighter-rouge">AmazonS3Client</code> at the time of writing, while it started with only a few dozen just a few <del>years</del> hundred versions ago.</p></li> <li><p><strong>It is data focused</strong>. The very idea of a client-server relationship is about transferring data. Take the HTTP RESTful API of the AWS S3 service as an example. There are entities on the AWS side: buckets, objects, versions, access control policies, etc., and the server turns them into JSON/XML data. Then the <a href="/2016/11/21/naked-data.html">data</a> comes to us and the client on our side deals with JSON or XML. It inevitably remains <em>data</em> for us and never really becomes buckets, objects, or versions.</p></li></ul><p>The consequences depend on the situation, but these are the most probable:</p><ul> <li><p><strong>Procedural code</strong>. Since the client returns the data, the code that works with that data will <a href="/2016/11/21/naked-data.html">most likely</a> be procedural. Look at the results AWS SDK methods return, they all look like <a href="/2016/07/14/who-is-object.html">objects</a>, but in reality they are just data structures: <a href="http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/S3Object.html"><code class="highlighter-rouge">S3Object</code></a>, <a href="http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/ObjectMetadata.html"><code class="highlighter-rouge">ObjectMetadata</code></a>, <a href="http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/BucketPolicy.html"><code class="highlighter-rouge">BucketPolicy</code></a>, <a href="http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/PutObjectResult.html"><code class="highlighter-rouge">PutObjectResult</code></a>, etc. They are all <a href="/2016/07/06/data-transfer-object.html">Data Transfer Objects</a> with only <a href="/2014/09/16/getters-and-setters-are-evil.html">getters and setters</a> inside.</p></li> <li><p><strong>Duplicated code</strong>. If we actually decide to stay object-oriented we will have to turn the data the client returns to us into <a href="/2016/07/14/who-is-object.html">objects</a>. Most likely this will lead to code duplication in multiple projects. I had that too, when I started to work with S3 SDK. Very soon I realized that in order to avoid duplication I’d better create a library that does the job of converting S3 SDK data into objects: <a href="https://github.com/jcabi/jcabi-s3">jcabi-s3</a>.</p></li> <li><p><strong>Difficulties with testing</strong>. Since the client is in most cases a rather big class/interface, mocking it in unit tests or creating its <a href="/2014/09/23/built-in-fake-objects.html">test doubles/fakes</a> is a rather complex task.</p></li> <li><p><strong>Static problems</strong>. Client classes, even though their methods are not static, look very similar to <a href="/2014/05/05/oop-alternative-to-utility-classes.html">utility classes</a>, which are well known for being <a href="/2014/09/10/anti-patterns-in-oop.html">anti-OOP</a>. The issues we have with utility classes are almost the same as those we have with “client” classes.</p></li> <li><p><strong>Extendability issues</strong>. Needless to say, it’s almost impossible to <a href="/2015/02/26/composable-decorators.html">decorate</a> a client object when it has 160+ methods and keeps on growing. The only possible way to add new functionality to it is by creating new methods. Eventually we get a <a href="https://en.wikipedia.org/wiki/God_object">monster class</a> that can’t be re-used anyhow without modification.</p></li></ul><p>What is the alternative?</p><p>The right design would be to replace “clients” with client-side objects that represent <em>entities</em> of the server side, not the entire server. For example, with the S3 SDK, that could be <code class="highlighter-rouge">Bucket</code>, <code class="highlighter-rouge">Object</code>, <code class="highlighter-rouge">Version</code>, <code class="highlighter-rouge">Policy</code>, etc. Each of them exposes the functionality of real <a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingBucket.html">buckets</a>, <a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingObjects.html">objects</a> and <a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/ObjectVersioning.html">versions</a>, which the AWS S3 can expose.</p><aside class="quote">The right design would be to replace clients with client-side objects that represent entities of the server side. </aside><p>Of course, we will need a high-level object that somehow represents the entire API/server, but it should be small. For example, in the S3 SDK example it could be called <code class="highlighter-rouge">Region</code>, which means the entire <a href="http://docs.aws.amazon.com/general/latest/gr/rande.html#s3_region">AWS region</a> with buckets. Then we could retrieve a bucket from it and won’t need a region anymore. Then, to list objects in the bucket we ask the bucket to do it for us. No need to communicate with the entire “server object” every time, even though technically such a communication happens, of course.</p><p>To summarize, the trouble is not exactly in the name suffix, but in the very idea of representing the entire server on the client side rather than its <em>entities</em>. Such an abstraction is 1) too big and 2) very data driven.</p><p>BTW, check out some of the <a href="http://www.jcabi.com">JCabi libraries</a> (Java) for examples of object-oriented clients without “client” objects: <a href="http://github.jcabi.com">jcabi-github</a>, <a href="http://dynamo.jcabi.com">jcabi-dynamo</a>, <a href="http://s3.jcabi.com">jcabi-s3</a>, or <a href="http://simpledb.jcabi.com">jcabi-simpledb</a>.</p></div></article></div><div class="wrapper" aria-hidden="true"> <related-posts /></div><div class="disqus" role="complementary" aria-hidden="true"><p class="disqus_hint" > Please, use <a href="https://help.disqus.com/commenting/what-html-tags-are-allowed-within-comments">syntax highlighting</a> in your comments, to make them more readable.</p><div id="disqus_thread" class="disqus-thread"> <a>&nbsp;</a></div><script> var disqus_config = function () { this.page.url = document.location.href.split('?')[0].split('#')[0].replace('https://', 'http://'); this.page.identifier = this.page.url; }; (function() { var d = document, s = d.createElement('script'); s.src = '//yegor256.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript><div><p class="red"> JavaScript is disabled in your browser, that's why you can't see comments under this post.</p></div></noscript></div><div class="wrapper"> <footer class="footer"><p> &copy; <span itemscope="" itemprop="copyrightHolder" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </span> 2014&ndash;<span itemprop="copyrightYear">2022</span></p></footer></div></section><div class="wrapper unprintable" style="text-align:center;margin-top:2em;"> <a href="https://www.sixnines.io/h/3ba1652f"> <img src="//www.sixnines.io/b/3ba1652f?style=flat" alt="sixnines availability badge" /></a> &nbsp; <a href="https://github.com/yegor256/blog/stargazers"> <img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square" alt="GitHub stars" /></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script> <script src="/js/all.js?3e10064d47d"></script> <script>var disqus_shortname = 'yegor256';</script> <script id="dsq-count-scr" src="//yegor256.disqus.com/count.js" async="async"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-1963507-32', 'auto'); ga('send', 'pageview'); </script> <script> Cd=document;Cr="&"+Math.random();Cp="&s=1"; Cd.cookie="b=b";if(Cd.cookie)Cp+="&c=1"; Cp+="&t="+(new Date()).getTimezoneOffset(); if(self!=top)Cp+="&f=1"; </script> <script> if(navigator.javaEnabled())Cp+="&j=1"; </script> <script> if(typeof(screen)!='undefined')Cp+="&w="+screen.width+"&h="+ screen.height+"&d="+(screen.colorDepth?screen.colorDepth:screen.pixelDepth); </script> <script> Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+ "&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+ "' border='0' wi"+"dth='1' he"+"ight='1'/>"); </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] } </script> </body> </html>
