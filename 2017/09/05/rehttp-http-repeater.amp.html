<!doctypehtml><html amp lang="en"><meta charset="utf-8"><title>ReHTTP.net—HTTP Repeater</title><link rel="canonical"href="https://www.yegor256.com/2017/09/05/rehttp-http-repeater.html"><link rel="icon"type="image/png"href="/favicon.ico"><meta name="viewport"content="width=device-width,minimum-scale=1,initial-scale=1"><script type="application/ld+json">{
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "mainEntityOfPage":{
          "@type": "WebPage",
          "@id": "https://www.yegor256.com/2017/09/05/rehttp-http-repeater.html"
        },
        "headline": "ReHTTP.net&mdash;HTTP Repeater",
        "image": {
          "@type": "ImageObject",
          "url": "https://www.yegor256.com/images/face-1024x1024.jpg",
          "height": 1400,
          "width": 1400
        },
        "datePublished": "2017-09-05",
        "dateModified": "2017-09-05",
        "author": {
          "@type": "Person",
          "name": "Yegor Bugayenko"
        },
        "publisher": {
          "@type": "Organization",
          "name": "yegor256.com",
          "logo": {
            "@type": "ImageObject",
            "url": "https://www.yegor256.com/images/face-512x512.jpg",
            "width": 512,
            "height": 512
          }
        },
        "description": "Some HTTP requests that arrive at my web apps
can't be processed for technical reasons and I need
them to be re-submitted; rehttp.net does exactly that.
",
        "keywords": ["http repeater", "http service mesh", "http webhook reliability", "webhook repeater", "repeat webhook"]
      }</script><style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript><link rel="stylesheet"href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500"><style amp-custom="amp-custom">@font-face{font-family:Cambria;src:url(https://www.yegor256.com/fonts/cambria/2EAA54_2_0.ttf)}body{font-family:Cambria,'Times New Roman',serif;padding:.5em;font-size:1.2em}article{width:600px;max-width:100%;margin-left:auto;margin-right:auto}code,pre{font-family:'Source Code Pro','Courier New',monospace;font-size:.8em}code{padding:0 .3em;background-color:#d3d3d3}a,a:hover,a:visited{color:inherit}.intro{color:red;font-size:.75em}.photo{border-radius:50%}pre{overflow-x:scroll}</style><script async src="https://cdn.ampproject.org/v0.js"></script><article><p class="intro">This is a mobile version, full one is <a href="https://www.yegor256.com/2017/09/05/rehttp-http-repeater.html">here</a>.<p><amp-img src="/images/face-256x256.jpg"width="80"height="80"alt="Yegor Bugayenko"class="photo"></amp-img><p>Yegor Bugayenko<br>5 September 2017<h1>ReHTTP.net—HTTP Repeater</h1><p>I faced a problem a few weeks ago with <a href="https://www.0pdd.com">0pdd.com</a>, one of my web apps that is supposed to receive HTTP requests (known as <a href="https://developer.github.com/webhooks/">webhooks</a>) from GitHub: sometimes the app is down, GitHub gets an HTTP error, and never sends the request again. The request simply gets lost. There is absolutely no way to receive it again once the app is back up. I realized that I needed a <a href="https://buoyant.io/2017/04/25/whats-a-service-mesh-and-why-do-i-need-one/">service mesh</a> between GitHub and my web app, to accept HTTP requests and repeat them later if they can’t be delivered immediately.<p>I created <a href="https://www.rehttp.net">rehttp.net</a> to do exactly that.<p>See, the URL I’ve been giving to GitHub is this one:<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://www.0pdd.com/hook/github
</code></pre></div></div><p>From now on a new URL has to be used:<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://www.rehttp.net/p/https://www.0pdd.com/hook/github
</code></pre></div></div><p>It looks very similar, but starts with <code class="language-plaintext highlighter-rouge">https://www.rehttp.net/p/</code>. GitHub sends all webhook PUT/POST requests to the ReHTTP server, which stores them in a temporary database (I’m using AWS DynamoDB).<p>ReHTTP attempts to deliver them immediately. If something goes wrong and the server HTTP response code is not in the 200-299 range, the next attempt is made in about an hour. Then it retries every hour for about a day. If all attempts fail, it abandons the request and that’s it.<p>What is interesting is that now I can see a summary of my API <a href="https://www.rehttp.net/i?u=http%3A%2F%2Fwww.0pdd.com%2Fhook%2Fgithub">here</a>. I see how many requests were processed successfully over the last 24 hours and how many of them failed. Also, I have this cute button:<p><p>And I have a URL for checking the status of the entire API:<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://www.rehttp.net/s?u=http%3A%2F%2Fwww.0pdd.com%2Fhook%2Fgithub
</code></pre></div></div><p>I gave this URL to <a href="https://www.statuscake.com/">StatusCake</a> to ping it every five minutes. If and when something goes wrong, StatusCake will email me and drop me a message on the phone.<p>ReHTTP is absolutely free. It is written in Java and the code is open. See its <a href="https://github.com/yegor256/rehttp">GitHub repository</a> and contribute if you find any bugs or just want to add a feature.</article>