<!doctypehtml><html xmlns="https://www.w3.org/1999/xhtml"lang="en-US"xml:lang="en-US"itemscope=""itemtype="http://schema.org/WebSite"><meta charset="utf-8"><meta name="description"content="Static factory methods are supposed to be a convenient replacement of object constructors; however, I disagree with this idea and explain why."><meta name="keywords"content="constructor or factory, constructors, factories vs constructiors, factory method, factory methods"><meta name="viewport"content="width=device-width,minimum-scale=1,initial-scale=1"><meta name="google-site-verification"content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8"><meta name="author"content="Yegor Bugayenko"><meta name="article:published_time"content="2017-11-14 00:00:00 +0000"><meta name="yandex-verification"content="7d2a0afee14d72bc"><meta name="og:site_name"content="Yegor Bugayenko"><meta name="og:type"content="article"><meta name="og:locale"content="en_US"><meta name="twitter:account_id"content="4503599630178231"><meta name="twitter:creator"content="@yegor256"><meta name="twitter:site"content="@yegor256"><meta name="twitter:title"property="og:title"content="Constructors or Static Factory Methods?"><meta name="twitter:description"property="og:description"content="Static factory methods are supposed to be a convenient replacement of object constructors; however, I disagree with this idea and explain why."><meta name="twitter:url"property="og:url"content="https://www.yegor256.com/2017/11/14/static-factory-methods.html"><meta name="telegram:channel"content="AAAAAEJFMRzsRTRxM3ec6A"><link rel="search"type="application/opensearchdescription+xml"href="/opensearch.xml"title="yegor256"><link rel="icon"href="/favicon.ico?3725104"type="image/x-icon"><link rel="shortcut icon"href="/favicon.ico?3725104"><link rel="apple-touch-icon"href="/favicon.ico?3725104"><link rel="alternate"type="application/rss+xml"title="RSS for yegor256.com"href="https://www.yegor256.com/rss.xml"><link rel="stylesheet"href="/css/layout.css?3725104"><link rel="stylesheet"href="/css/icons.css?3725104"><link rel="canonical"href="https://www.yegor256.com/2017/11/14/static-factory-methods.html"><title>Constructors or Static Factory Methods?</title><meta name="og:image"content="https://www.yegor256.com/images/2017/11/extract.jpg"><meta name="twitter:image"content="https://www.yegor256.com/images/2017/11/extract.jpg"><meta name="og:image:width"content="1280"><meta name="twitter:image:width"content="1280"><meta name="og:image:height"content="688"><meta name="twitter:image:height"content="688"><meta name="twitter:card"content="summary_large_image"><meta name="twitter:image:alt"content="Extract (2009) by Mike Judge"><div class="wrapper"><aside class="header-toggle unprintable"id="header-toggle"title="Show the menu"onclick='$("#header").show(),$("#header-toggle").hide()'>&#9776;</aside><header class="header"id="header"><div class="face"><a href="/about-me.html#form"class="sub"title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html"style="position:relative"><img src="/images/face-256x256.jpg"class="photo"alt="Yegor Bugayenko"></a></div><nav><ul class="menu social notranslate"><li><a href="https://twitter.com/intent/follow?screen_name=yegor256"rel="nofollow"title="Follow me on Twitter"><i class="icon icon-twitter notranslate"aria-hidden="true"></i></a><li><a href="/rss.xml"rel="nofollow"title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://github.com/yegor256"rel="nofollow"title="My GitHub profile"><i class="icon icon-github notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="http://stackoverflow.com/users/187141/yegor256"rel="nofollow"title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://www.facebook.com/yegor256"rel="nofollow"title="Follow me on Facebook"><i class="icon icon-facebook notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://instagram.com/yegor256"rel="nofollow"title="Follow me on Instagram"><i class="icon icon-instagram notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://www.linkedin.com/in/yegor256"rel="nofollow"title="My LinkedIn profile"><i class="icon icon-linkedin notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://www.youtube.com/c/yegor256?sub_confirmation=1"rel="nofollow"title="My Youtube video channel"><i class="icon icon-youtube notranslate"aria-hidden="true"></i></a><li><a href="https://soundcloud.com/yegor256"rel="nofollow"title="My podcast"><i class="icon icon-podcast notranslate"aria-hidden="true"></i></a><li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721"rel="nofollow"title="My iTunes podcast"><i class="icon icon-itunes notranslate"aria-hidden="true"></i></a><li><a href="https://t.me/yegor256news"rel="nofollow"title="My Telegram public channel"><i class="icon icon-telegram notranslate"aria-hidden="true"></i></a><li><a href="mailto:blog@yegor256.com"rel="nofollow"title="Email me any time"><i class="icon icon-mail notranslate"aria-hidden="true"></i></a></ul><ul class="menu"><li><a href="/"title="Home page">Home</a><li><a href="/best.html"title="Best articles to read">12&#160;Best</a><li><a href="/contents.html"title="The contents of the entire blog">All&#160;485</a><li><a href="/teaching.html"title="My courses and lectures">Teaching</a><li><a href="/talks.html"title="Future and past conference talks">Talks</a><li><a href="/books.html"title="The books I wrote">Books</a><li><a href="/research.html"title="My research directions and progress">Research</a><li><a href="/pets.html"title="My loved pet projects">Pets</a><li><a href="/trainings.html"title="On-site trainings">Trainings</a><li><a href="https://www.iccq.ru"title="International Conference on Code Quality">ICCQ</a><li><a href="https://www.kaicode.org"title="Open Source Festival">KaiCode</a><li><a href="/testimonials.html"title="What some people say about me">Testimonials</a><li><a href="/shift-m.html"title="Audio podcast about project management">Shift-M</a><li><a href="/paintings.html"title="My paintings for sale">Art</a></ul></nav><div class="search"><form action="https://www.google.com/search"itemprop="potentialAction"itemscope=""itemtype="http://schema.org/SearchAction"><meta itemprop="target"content="https://www.google.com/search?q={q}"><input name="sitesearch"value="yegor256.com"type="hidden"> <input itemprop="query-input"id="search-query"class="field field-text"required="required"onfocus='$(".google").css("visibility","visible")'name="q"placeholder="Type üÑµ to search"autocomplete="off"> <input type="image"src="/images/google-search-icon.svg"class="google"title="Search via Google"alt="Search via Google"></form></div><div class="hot"><ul><li>We are organizing the <strong>6th <a href="https://www.iccq.ru/2026.html">ICCQ</a> conference</strong> in collaboration with <a href="https://www.iis.nsk.su/en">IIS</a> (Novosibirsk) and, hopefully, IEEE Computer Society. We're looking for volunteers to help us. If interested, please email at <a href="mailto:orgs@iccq.ru">orgs@iccq.ru</a> (attach your LinkedIn and GitHub profiles).<li>Are you familiar with open source and have a decent GitHub portfolio of contributions? <strong>We need freelancers</strong>, working remotely and paid by result, for <a href="https://www.eolang.org">EO</a>, a new programming language. Join our Telegram group, we'll discuss: <a href="https://t.me/eolang_org">@eolang_org</a>.</ul></div></header></div><section itemscope=""itemtype="http://schema.org/BlogPosting"><div class="wrapper"><header><p class="printable"><img src="https://api.qrserver.com/v1/create-qr-code/?data=https://www.yegor256.com/2017/11/14/static-factory-methods.html&amp;format=svg"style="width:125px;height:125px"alt="QR code"><p class="printable"><code itemprop="url">https://www.yegor256.com/171114.html</code><h1 itemprop="name headline mainEntityOfPage">Constructors or Static Factory Methods?</h1><ul class="subline"><li><time itemprop="datePublished"datetime="2017-11-14T00:00:00+00:00">14 November 2017</time><li class="desktop-only"itemprop="locationCreated">Odessa, Ukraine<li class="printable"itemscope=""itemprop="author"itemtype="http://schema.org/Person"><span itemprop="name">Yegor Bugayenko</span><li class="unprintable"><i class="icon icon-comments"></i> <a href="https://www.yegor256.com/2017/11/14/static-factory-methods.html#disqus_thread"itemprop="discussionUrl">comments</a></ul><ul class="unprintable subline"><li>Translated:<li><a href="https://serge3ling.github.io/yegor256/2017-11-14-static-factory-methods/">Ukrainian</a><li><a href="mailto:translate@yegor256.com">add yours!</a></ul><ul class="unprintable subline"><li title="The page is translated by ChatGPT from English to a few languages">Translated by <i class="icon icon-chatgpt notranslate"aria-hidden="true"></i> to<li title="Click to see this page translated to Chinese"><a href="https://www.yegor256.com/zh/2017/11/14/static-factory-methods.html">‰∏≠Êñá</a><li title="Click to see this page translated to Russian"><a href="https://www.yegor256.com/ru/2017/11/14/static-factory-methods.html">—Ä—É—Å—Å–∫–∏–π</a></ul><ul class="subline"><li>Discussed at:<li><a href="https://dzone.com/articles/constructors-or-static-factory-methods">dzone</a></ul><p class="unprintable"><a href="/tag/java.html"class="tag notranslate"><img src="/images/icons/java-white.svg"alt="Java">java</a> <a href="/tag/oop.html"class="tag notranslate"><img src="/images/icons/cactus.svg"alt="OOP">oop</a><nav class="buttons notranslate desktop-only"><a href="https://www.facebook.com/sharer/sharer.php?u=https://www.yegor256.com/2017/11/14/static-factory-methods.html"title="Share on Facebook"class="button"rel="nofollow"><span class="count count-facebook">0</span> <i class="icon icon-facebook notranslate"aria-hidden="true"></i> </a><a href="https://twitter.com/share?url=https://www.yegor256.com/2017/11/14/static-factory-methods.html&amp;text=Constructors+or+Static+Factory+Methods%3F"title="Share on Twitter"class="button"rel="nofollow"><span class="count count-twitter">0</span> <i class="icon icon-twitter notranslate"aria-hidden="true"></i> </a><a href="https://www.linkedin.com/cws/share?url=https://www.yegor256.com/2017/11/14/static-factory-methods.html"title="Share on LinkedIn"class="button"rel="nofollow"><span class="count count-linkedin">0</span> <i class="icon icon-linkedin notranslate"aria-hidden="true"></i> </a><a href="https://reddit.com/submit?url=https://www.yegor256.com/2017/11/14/static-factory-methods.html%3F2017-46&amp;title=Constructors+or+Static+Factory+Methods%3F"title="Share on Reddit"class="button"rel="nofollow"><span class="count count-reddit">0</span> <i class="icon icon-reddit notranslate"aria-hidden="true"></i> </a><a href="https://news.ycombinator.com/submitlink?u=https://www.yegor256.com/2017/11/14/static-factory-methods.html%3F2017-46&amp;t=Constructors+or+Static+Factory+Methods%3F"title="Share on Hacker News"class="button"rel="nofollow"><span class="count count-hackernews">0</span> <i class="icon icon-hackernews notranslate"aria-hidden="true"></i> </a><a href="#"title="Cite it via BibTeX"class="button"onclick='return $("#bibtex").toggle(),!1'><i class="icon icon-tex notranslate"aria-hidden="true"></i></a></nav></header><article class="main"itemprop="articleBody"><div><div id="bibtex"style="display:none"><p>Please, cite this blog post via <a href="https://www.bibtex.org/">BibTeX</a> as such:<pre style="color:#053c5e">@misc&#123;bugayenko2017blog1114,
  author = &#123;Bugayenko, Yegor&#125;,
  title = &#123;&#123;Constructors or Static Factory Methods?&#125;&#125;,
  howpublished = &#123;\url&#123;https://www.yegor256.com/171114.html&#125;&#125;,
  year = &#123;2017&#125;,
  month = &#123;nov&#125;,
  note = &#123;[Online; accessed 10-12-2025]&#125;
&#125;</pre></div><p>I believe Joshua Bloch said it first in his very good book <a href="https://amzn.to/2zgpiRI"><em>Effective Java</em></a>: static factory methods are the preferred way to instantiate objects compared with constructors. I disagree. Not only because I believe that static methods are pure evil, but mostly because in this particular case they pretend to be good and make us think that we have to love them.<figure class="jb_picture"><img itemprop="image"alt="Extract (2009) by Mike Judge"src="/images/2017/11/extract.jpg"longdesc="#81adfef8"><figcaption id="81adfef8">Extract (2009) by Mike Judge</figcaption></figure><p>Let‚Äôs analyze the reasoning and see why it‚Äôs wrong, from an object-oriented point of view.<p>This is a class with one primary and two secondary constructors:<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Color</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">hex</span><span class="o">;</span>
  <span class="nc">Color</span><span class="o">(</span><span class="nc">String</span> <span class="n">rgb</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">rgb</span><span class="o">,</span> <span class="mi">16</span><span class="o">));</span>
  <span class="o">}</span>
  <span class="nc">Color</span><span class="o">(</span><span class="kt">int</span> <span class="n">red</span><span class="o">,</span> <span class="kt">int</span> <span class="n">green</span><span class="o">,</span> <span class="kt">int</span> <span class="n">blue</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">(</span><span class="n">red</span> <span class="o">&lt;&lt;</span> <span class="mi">16</span> <span class="o">+</span> <span class="n">green</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span> <span class="o">+</span> <span class="n">blue</span><span class="o">);</span>
  <span class="o">}</span>
  <span class="nc">Color</span><span class="o">(</span><span class="kt">int</span> <span class="n">h</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">hex</span> <span class="o">=</span> <span class="n">h</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div><p>This is a similar class with three static factory methods:<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Color</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">hex</span><span class="o">;</span>
  <span class="kd">static</span> <span class="nc">Color</span> <span class="nf">makeFromRGB</span><span class="o">(</span><span class="nc">String</span> <span class="n">rgb</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nf">Color</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">rgb</span><span class="o">,</span> <span class="mi">16</span><span class="o">));</span>
  <span class="o">}</span>
  <span class="kd">static</span> <span class="nc">Color</span> <span class="nf">makeFromPalette</span><span class="o">(</span><span class="kt">int</span> <span class="n">red</span><span class="o">,</span> <span class="kt">int</span> <span class="n">green</span><span class="o">,</span> <span class="kt">int</span> <span class="n">blue</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nf">Color</span><span class="o">(</span><span class="n">red</span> <span class="o">&lt;&lt;</span> <span class="mi">16</span> <span class="o">+</span> <span class="n">green</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span> <span class="o">+</span> <span class="n">blue</span><span class="o">);</span>
  <span class="o">}</span>
  <span class="kd">static</span> <span class="nc">Color</span> <span class="nf">makeFromHex</span><span class="o">(</span><span class="kt">int</span> <span class="n">h</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nf">Color</span><span class="o">(</span><span class="n">h</span><span class="o">);</span>
  <span class="o">}</span>
  <span class="kd">private</span> <span class="nf">Color</span><span class="o">(</span><span class="kt">int</span> <span class="n">h</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">hex</span> <span class="o">=</span> <span class="n">h</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div><p>Which one do you like better?<aside class="quote">Giving birth to an object through its constructor is the most ‚Äúsacred‚Äù moment in any object-oriented software, don‚Äôt miss the beauty of it!</aside><p>According to Joshua Bloch, there are three basic advantages to using static factory methods instead of constructors (there are actually four, but the fourth one is not applicable to Java <a href="https://docs.oracle.com/javase/7/docs/technotes/guides/language/type-inference-generic-instance-creation.html">anymore</a>):<ul><li>They have names.<li>They can cache.<li>They can subtype.</ul><p>I believe that all three make perfect sense ‚Ä¶ if the design is wrong. They are good excuses for workarounds. Let‚Äôs take them one by one.<h2 id="they-have-names">They Have Names</h2><p>This is how you make a <a href="https://www.rapidtables.com/web/color/red-color.htm">red tomato</a> color object with a constructor:<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Color</span> <span class="n">tomato</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Color</span><span class="o">(</span><span class="mi">255</span><span class="o">,</span> <span class="mi">99</span><span class="o">,</span> <span class="mi">71</span><span class="o">);</span>
</code></pre></div></div><p>This is how you do it with a static factory method:<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Color</span> <span class="n">tomato</span> <span class="o">=</span> <span class="nc">Color</span><span class="o">.</span><span class="na">makeFromPalette</span><span class="o">(</span><span class="mi">255</span><span class="o">,</span> <span class="mi">99</span><span class="o">,</span> <span class="mi">71</span><span class="o">);</span>
</code></pre></div></div><p>It seems that <code class="language-plaintext highlighter-rouge">makeFromPalette()</code> is semantically richer than just <code class="language-plaintext highlighter-rouge">new Color()</code>, right? Well, yes. Who knows what those three numbers mean if we just pass them to the constructor. But the word ‚Äúpalette‚Äù helps us figure everything out immediately.<p>True.<p>However, the right solution would be to use polymorphism and encapsulation, to decompose the problem into a few semantically rich classes:<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">interface</span> <span class="nc">Color</span> <span class="o">{</span>
<span class="o">}</span>
<span class="kd">class</span> <span class="nc">HexColor</span> <span class="kd">implements</span> <span class="nc">Color</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">hex</span><span class="o">;</span>
  <span class="nc">HexColor</span><span class="o">(</span><span class="kt">int</span> <span class="n">h</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">hex</span> <span class="o">=</span> <span class="n">h</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
<span class="kd">class</span> <span class="nc">RGBColor</span> <span class="kd">implements</span> <span class="nc">Color</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="nc">Color</span> <span class="n">origin</span><span class="o">;</span>
  <span class="nc">RGBColor</span><span class="o">(</span><span class="kt">int</span> <span class="n">red</span><span class="o">,</span> <span class="kt">int</span> <span class="n">green</span><span class="o">,</span> <span class="kt">int</span> <span class="n">blue</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">origin</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HexColor</span><span class="o">(</span>
      <span class="n">red</span> <span class="o">&lt;&lt;</span> <span class="mi">16</span> <span class="o">+</span> <span class="n">green</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span> <span class="o">+</span> <span class="n">blue</span>
    <span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div><p>Now, we use the right constructor of the right class:<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Color</span> <span class="n">tomato</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">RGBColor</span><span class="o">(</span><span class="mi">255</span><span class="o">,</span> <span class="mi">99</span><span class="o">,</span> <span class="mi">71</span><span class="o">);</span>
</code></pre></div></div><p>See, Joshua?<h2 id="they-can-cache">They Can Cache</h2><p>Let‚Äôs say I need a red tomato color in multiple places in the application:<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Color</span> <span class="n">tomato</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Color</span><span class="o">(</span><span class="mi">255</span><span class="o">,</span> <span class="mi">99</span><span class="o">,</span> <span class="mi">71</span><span class="o">);</span>
<span class="c1">// ... sometime later</span>
<span class="nc">Color</span> <span class="n">red</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Color</span><span class="o">(</span><span class="mi">255</span><span class="o">,</span> <span class="mi">99</span><span class="o">,</span> <span class="mi">71</span><span class="o">);</span>
</code></pre></div></div><p>Two objects will be created, which is obviously inefficient, since they are identical. It would be better to keep the first instance somewhere in memory and return it when the second call arrives. Static factory methods make it possible to solve this very problem:<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Color</span> <span class="n">tomato</span> <span class="o">=</span> <span class="nc">Color</span><span class="o">.</span><span class="na">makeFromPalette</span><span class="o">(</span><span class="mi">255</span><span class="o">,</span> <span class="mi">99</span><span class="o">,</span> <span class="mi">71</span><span class="o">);</span>
<span class="c1">// ... sometime later</span>
<span class="nc">Color</span> <span class="n">red</span> <span class="o">=</span> <span class="nc">Color</span><span class="o">.</span><span class="na">makeFromPalette</span><span class="o">(</span><span class="mi">255</span><span class="o">,</span> <span class="mi">99</span><span class="o">,</span> <span class="mi">71</span><span class="o">);</span>
</code></pre></div></div><p>Then somewhere inside the <code class="language-plaintext highlighter-rouge">Color</code> we keep a private static <code class="language-plaintext highlighter-rouge">Map</code> with all the objects already instantiated:<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Color</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Color</span><span class="o">&gt;</span> <span class="no">CACHE</span> <span class="o">=</span>
    <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">hex</span><span class="o">;</span>
  <span class="kd">static</span> <span class="nc">Color</span> <span class="nf">makeFromPalette</span><span class="o">(</span><span class="kt">int</span> <span class="n">red</span><span class="o">,</span> <span class="kt">int</span> <span class="n">green</span><span class="o">,</span> <span class="kt">int</span> <span class="n">blue</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="kt">int</span> <span class="n">hex</span> <span class="o">=</span> <span class="n">red</span> <span class="o">&lt;&lt;</span> <span class="mi">16</span> <span class="o">+</span> <span class="n">green</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span> <span class="o">+</span> <span class="n">blue</span><span class="o">;</span>
    <span class="k">return</span> <span class="nc">Color</span><span class="o">.</span><span class="na">CACHE</span><span class="o">.</span><span class="na">computeIfAbsent</span><span class="o">(</span>
      <span class="n">hex</span><span class="o">,</span> <span class="n">h</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="nc">Color</span><span class="o">(</span><span class="n">h</span><span class="o">)</span>
    <span class="o">);</span>
  <span class="o">}</span>
  <span class="kd">private</span> <span class="nf">Color</span><span class="o">(</span><span class="kt">int</span> <span class="n">h</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nf">Color</span><span class="o">(</span><span class="n">h</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div><p>It is very effective performance-wise. With a small object like our <code class="language-plaintext highlighter-rouge">Color</code> the problem may not be so obvious, but when objects are bigger, their instantiation and garbage collection may waste a lot of time.<p>True.<p>However, there is an object-oriented way to solve this problem. We just introduce a new class <code class="language-plaintext highlighter-rouge">Palette</code>, which becomes a store of colors:<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Palette</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Color</span><span class="o">&gt;</span> <span class="n">colors</span> <span class="o">=</span>
    <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
  <span class="nc">Color</span> <span class="nf">take</span><span class="o">(</span><span class="kt">int</span> <span class="n">red</span><span class="o">,</span> <span class="kt">int</span> <span class="n">green</span><span class="o">,</span> <span class="kt">int</span> <span class="n">blue</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="kt">int</span> <span class="n">hex</span> <span class="o">=</span> <span class="n">red</span> <span class="o">&lt;&lt;</span> <span class="mi">16</span> <span class="o">+</span> <span class="n">green</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span> <span class="o">+</span> <span class="n">blue</span><span class="o">;</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">computerIfAbsent</span><span class="o">(</span>
      <span class="n">hex</span><span class="o">,</span> <span class="n">h</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="nc">Color</span><span class="o">(</span><span class="n">h</span><span class="o">)</span>
    <span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div><p>Now, we make an instance of <code class="language-plaintext highlighter-rouge">Palette</code> once and ask it to return a color to us every time we need it:<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Color</span> <span class="n">tomato</span> <span class="o">=</span> <span class="n">palette</span><span class="o">.</span><span class="na">take</span><span class="o">(</span><span class="mi">255</span><span class="o">,</span> <span class="mi">99</span><span class="o">,</span> <span class="mi">71</span><span class="o">);</span>
<span class="c1">// Later we will get the same instance:</span>
<span class="nc">Color</span> <span class="n">red</span> <span class="o">=</span> <span class="n">palette</span><span class="o">.</span><span class="na">take</span><span class="o">(</span><span class="mi">255</span><span class="o">,</span> <span class="mi">99</span><span class="o">,</span> <span class="mi">71</span><span class="o">);</span>
</code></pre></div></div><p>See, Joshua, no static methods, no static attributes.<h2 id="they-can-subtype">They Can Subtype</h2><p>Let‚Äôs say our class <code class="language-plaintext highlighter-rouge">Color</code> has a method <code class="language-plaintext highlighter-rouge">lighter()</code>, which is supposed to shift the color to the next available lighter one:<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Color</span> <span class="o">{</span>
  <span class="kd">protected</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">hex</span><span class="o">;</span>
  <span class="nc">Color</span><span class="o">(</span><span class="kt">int</span> <span class="n">h</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">hex</span> <span class="o">=</span> <span class="n">h</span><span class="o">;</span>
  <span class="o">}</span>
  <span class="kd">public</span> <span class="nc">Color</span> <span class="nf">lighter</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nf">Color</span><span class="o">(</span><span class="n">hex</span> <span class="o">+</span> <span class="mh">0x111</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div><p>However, sometimes it‚Äôs more desirable to pick the next lighter color through a set of available <a href="https://en.wikipedia.org/wiki/Pantone">Pantone</a> colors:<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">PantoneColor</span> <span class="kd">extends</span> <span class="nc">Color</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="nc">PantoneName</span> <span class="n">pantone</span><span class="o">;</span>
  <span class="nc">PantoneColor</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">(</span><span class="k">new</span> <span class="nc">PantoneName</span><span class="o">(</span><span class="n">name</span><span class="o">));</span>
  <span class="o">}</span>
  <span class="nc">PantoneColor</span><span class="o">(</span><span class="nc">PantoneName</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">pantone</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
  <span class="o">}</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">Color</span> <span class="nf">lighter</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nf">PantoneColor</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">pantone</span><span class="o">.</span><span class="na">up</span><span class="o">());</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div><p>Then, we create a static factory method, which will decide which <code class="language-plaintext highlighter-rouge">Color</code> implementation is the most suitable for us:<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Color</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="nc">String</span> <span class="n">code</span><span class="o">;</span>
  <span class="kd">static</span> <span class="nc">Color</span> <span class="nf">make</span><span class="o">(</span><span class="kt">int</span> <span class="n">h</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">h</span> <span class="o">==</span> <span class="mh">0xBF1932</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="k">new</span> <span class="nf">PantoneColor</span><span class="o">(</span><span class="s">"19-1664 TPX"</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nf">RGBColor</span><span class="o">(</span><span class="n">h</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div><p>If the <a href="https://www.pantone.com/color-finder/19-1664-TPX">true red</a> color is requested, we return an instance of <code class="language-plaintext highlighter-rouge">PantoneColor</code>. In all other cases it‚Äôs just a standard <code class="language-plaintext highlighter-rouge">RGBColor</code>. The decision is made by the static factory method. This is how we will call it:<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Color</span> <span class="n">color</span> <span class="o">=</span> <span class="nc">Color</span><span class="o">.</span><span class="na">make</span><span class="o">(</span><span class="mh">0xBF1932</span><span class="o">);</span>
</code></pre></div></div><p>It would not be possible to do the same ‚Äúforking‚Äù with a constructor, since it can only return the class it is declared in. A static method has all the necessary freedom to return any subtype of <code class="language-plaintext highlighter-rouge">Color</code>.<p>True.<p>However, in an object-oriented world we can and must do it all differently. First, we would make <code class="language-plaintext highlighter-rouge">Color</code> an interface:<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">interface</span> <span class="nc">Color</span> <span class="o">{</span>
  <span class="nc">Color</span> <span class="nf">lighter</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div></div><p>Next, we would move this decision making process to its own class <code class="language-plaintext highlighter-rouge">Colors</code>, just like we did in the previous example:<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Colors</span> <span class="o">{</span>
  <span class="nc">Color</span> <span class="nf">make</span><span class="o">(</span><span class="kt">int</span> <span class="n">h</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">h</span> <span class="o">==</span> <span class="mh">0xBF1932</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="k">new</span> <span class="nf">PantoneColor</span><span class="o">(</span><span class="s">"19-1664-TPX"</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nf">RGBColor</span><span class="o">(</span><span class="n">h</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div><p>And we would use an instance of class <code class="language-plaintext highlighter-rouge">Colors</code> instead of a static fa—Åtory method inside <code class="language-plaintext highlighter-rouge">Color</code>:<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">colors</span><span class="o">.</span><span class="na">make</span><span class="o">(</span><span class="mh">0xBF1932</span><span class="o">);</span>
</code></pre></div></div><aside class="youtube"><a href="https://www.youtube.com/watch?v=9yjtsCK6Wdk"><div class="box"><img src="https://i.ytimg.com/vi/9yjtsCK6Wdk/mqdefault.jpg"alt="YouTube video #9yjtsCK6Wdk"><div class="play"><i class="icon icon-play"></i></div></div></a><div>A Few Thoughts About Constructors in OOP (webinar #7); 7 October 2015.</div></aside><p>However, this is still not really an object-oriented way of thinking, because we‚Äôre taking the decision-making away from the object it belongs to. Either through a static factory method <code class="language-plaintext highlighter-rouge">make()</code> or a new class <code class="language-plaintext highlighter-rouge">Colors</code>‚Äîit doesn‚Äôt really matter how‚Äîwe tear our objects into two pieces. The first piece is the object itself and the second one is the decision making algorithm that stays somewhere else.<p>A much more object-oriented design would be to put the logic into an object of class <code class="language-plaintext highlighter-rouge">PantoneColor</code> which would decorate the original <code class="language-plaintext highlighter-rouge">RGBColor</code>:<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">PantoneColor</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="nc">Color</span> <span class="n">origin</span><span class="o">;</span>
  <span class="nc">PantoneColor</span><span class="o">(</span><span class="nc">Color</span> <span class="n">color</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">origin</span> <span class="o">=</span> <span class="n">color</span><span class="o">;</span>
  <span class="o">}</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">Color</span> <span class="nf">lighter</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="nc">Color</span> <span class="n">next</span><span class="o">;</span>
    <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">origin</span><span class="o">.</span><span class="na">hex</span><span class="o">()</span> <span class="o">==</span> <span class="mh">0xBF1932</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">next</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">RGBColor</span><span class="o">(</span><span class="mh">0xD12631</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
      <span class="n">next</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">origin</span><span class="o">.</span><span class="na">lighter</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nf">PantoneColor</span><span class="o">(</span><span class="n">next</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">)</span>
</code></pre></div></div><p>Then, we make an instance of <code class="language-plaintext highlighter-rouge">RGBColor</code> and decorate it with <code class="language-plaintext highlighter-rouge">PantoneColor</code>:<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Color</span> <span class="n">red</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PantoneColor</span><span class="o">(</span>
  <span class="k">new</span> <span class="nf">RGBColor</span><span class="o">(</span><span class="mh">0xBF1932</span><span class="o">)</span>
<span class="o">);</span>
</code></pre></div></div><p>We ask <code class="language-plaintext highlighter-rouge">red</code> to return a lighter color and it returns the one from the Pantone palette, not the one that is merely lighter in RGB coordinates:<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Color</span> <span class="n">lighter</span> <span class="o">=</span> <span class="n">red</span><span class="o">.</span><span class="na">lighter</span><span class="o">();</span> <span class="c1">// 0xD12631</span>
</code></pre></div></div><p>Of course, this example is rather primitive and needs <a href="/2016/12/20/can-objects-be-friends.html">further improvement</a> if we really want it to be applicable to all Pantone colors, but I hope you get the idea. The logic must stay <em>inside</em> the class, not somewhere outside, not in static factory methods or even in some other supplementary class. I‚Äôm talking about the logic that belongs to this particular class, of course. If it‚Äôs something related to the management of class instances, then there can be containers and stores, just like in the previous example above.<p>To summarize, I would strongly recommend you <em>never</em> use static methods, especially when they are going to replace object constructors. Giving birth to an object through its constructor is <a href="/2014/10/03/di-containers-are-evil.html">the most</a> ‚Äúsacred‚Äù moment in any object-oriented software, don‚Äôt miss the beauty of it.<blockquote class="twitter-tweet"><p lang="en"dir="ltr">The best place to make a new object is...</p>&mdash; Yegor Bugayenko (@yegor256) <a href="https://twitter.com/yegor256/status/1234047114252034048?ref_src=twsrc%5Etfw">March 1, 2020</a></blockquote><script async=""src="https://platform.twitter.com/widgets.js"charset="utf-8"></script></div></article></div><div class="disqus"role="complementary"aria-hidden="true"><p class="disqus_hint">Please, use <a href="https://help.disqus.com/commenting/what-html-tags-are-allowed-within-comments">syntax highlighting</a> in your comments, to make them more readable.<div id="disqus_thread"class="disqus-thread"><a>&nbsp;</a></div><script>let disqus_config=function(){this.page.url=document.location.href.split("?")[0].split("#")[0],this.page.identifier=this.page.url};(()=>{var t=document,e=t.createElement("script");e.src="https://yegor256.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)})()</script><noscript><div><p class="red">JavaScript is disabled in your browser, that's why you can't see comments under this post.</div></noscript></div><script id="dsq-count-scr"src="https://yegor256.disqus.com/count.js"async="async"></script><div class="wrapper"><footer class="footer"><p>&copy; <span itemscope=""itemprop="copyrightHolder"itemtype="http://schema.org/Person"><span itemprop="name">Yegor Bugayenko</span> </span>, 2014&ndash;<span itemprop="copyrightYear">2025</span></footer></div></section><div class="wrapper unprintable"style="text-align:center;margin-top:2em"><a href="https://www.sixnines.io/h/3ba1652f"><img src="https://www.sixnines.io/b/3ba1652f?style=flat"alt="sixnines availability badge"></a>&nbsp; <a href="https://github.com/yegor256/blog/stargazers"><img src="https://img.shields.io/github/stars/yegor256/blog.svg?style=flat-square"alt="GitHub stars"></a></div><script src="https://code.jquery.com/jquery-3.7.1.min.js"integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="crossorigin="anonymous"></script><script src="/js/all.js?3725104"></script><script type="application/ld+json">{ "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/", "https://www.youtube.com/c/yegor256" ] }</script>