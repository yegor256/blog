<!doctypehtml><html xmlns="https://www.w3.org/1999/xhtml"lang="en-US"xml:lang="en-US"itemscope=""itemtype="http://schema.org/WebSite"><meta charset="utf-8"><meta name="description"content="The article explains how DynamoDB Local can be used in Rake integration testing; a practical example of SixNines.io testing is provided."><meta name="keywords"content="dynamodb, dynamodb local, rack::test dynamodb, rake dynamodb, testing dynamodb ruby"><meta name="viewport"content="width=device-width,minimum-scale=1,initial-scale=1"><meta name="google-site-verification"content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8"><meta name="author"content="Yegor Bugayenko"><meta name="article:published_time"content="2017-06-13 00:00:00 +0000"><meta name="yandex-verification"content="7d2a0afee14d72bc"><meta name="og:site_name"content="Yegor Bugayenko"><meta name="og:type"content="article"><meta name="og:locale"content="en_US"><meta name="twitter:account_id"content="4503599630178231"><meta name="twitter:creator"content="@yegor256"><meta name="twitter:site"content="@yegor256"><meta name="twitter:title"property="og:title"content="DynamoDB + Rake + Maven + Rack::Test"><meta name="twitter:description"property="og:description"content="The article explains how DynamoDB Local can be used in Rake integration testing; a practical example of SixNines.io testing is provided."><meta name="twitter:url"property="og:url"content="https://www.yegor256.com/2017/06/13/dynamodb-rack-maven.html"><meta name="telegram:channel"content="AAAAAEJFMRzsRTRxM3ec6A"><link rel="search"type="application/opensearchdescription+xml"href="/opensearch.xml"title="yegor256"><link rel="icon"href="/favicon.ico?fb01f51"type="image/x-icon"><link rel="shortcut icon"href="/favicon.ico?fb01f51"><link rel="apple-touch-icon"href="/favicon.ico?fb01f51"><link rel="alternate"type="application/rss+xml"title="RSS for yegor256.com"href="https://www.yegor256.com/rss.xml"><link rel="stylesheet"href="/css/layout.css?fb01f51"><link rel="stylesheet"href="/css/icons.css?fb01f51"><link rel="canonical"href="https://www.yegor256.com/2017/06/13/dynamodb-rack-maven.html"><title>DynamoDB + Rake + Maven + Rack::Test</title><script src="https://code.jquery.com/jquery-3.7.1.min.js"integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="crossorigin="anonymous"></script><script src="/js/all.js?fb01f51"></script><script id="dsq-count-scr"src="https://yegor256.disqus.com/count.js"async="async"></script><script>((e,a,t,n,o,c)=>{e.GoogleAnalyticsObject=n,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=+new Date,o=a.createElement(t),c=a.getElementsByTagName(t)[0],o.async=1,o.src="//www.google-analytics.com/analytics.js",c.parentNode.insertBefore(o,c)})(window,document,"script","ga"),ga("create","UA-1963507-32","auto"),ga("send","pageview"),Cd=document,Cr="&"+Math.random(),Cp="&s=1",Cd.cookie="b=b",Cd.cookie&&(Cp+="&c=1"),Cp+="&t="+(new Date).getTimezoneOffset(),self!=top&&(Cp+="&f=1"),navigator.javaEnabled()&&(Cp+="&j=1"),"undefined"!=typeof screen&&(Cp+="&w="+screen.width+"&h="+screen.height+"&d="+(screen.colorDepth||screen.pixelDepth))</script><script type="application/ld+json">{ "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/", "https://www.youtube.com/c/yegor256" ] }</script><div class="wrapper"><aside class="header-toggle unprintable"id="header-toggle"title="Show the menu"onclick='$("#header").show(),$("#header-toggle").hide()'>&#9776;</aside><header class="header"id="header"><div class="face"><a href="/about-me.html#form"class="sub"title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html"style="position:relative"><img src="/images/santa-hat.svg"alt="Santa hat"style="position:absolute;width:115px;left:-30px;top:-120px"> <img src="/images/face-256x256.jpg"class="photo"alt="Yegor Bugayenko"></a></div><nav><ul class="menu social notranslate"><li><a href="https://twitter.com/intent/follow?screen_name=yegor256"rel="nofollow"title="Follow me on Twitter"><i class="icon icon-twitter notranslate"aria-hidden="true"></i></a><li><a href="/rss.xml"rel="nofollow"title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://github.com/yegor256"rel="nofollow"title="My GitHub profile"><i class="icon icon-github notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="http://stackoverflow.com/users/187141/yegor256"rel="nofollow"title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://www.facebook.com/yegor256"rel="nofollow"title="Follow me on Facebook"><i class="icon icon-facebook notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://instagram.com/yegor256"rel="nofollow"title="Follow me on Instagram"><i class="icon icon-instagram notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://www.linkedin.com/in/yegor256"rel="nofollow"title="My LinkedIn profile"><i class="icon icon-linkedin notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://www.youtube.com/c/yegor256?sub_confirmation=1"rel="nofollow"title="My Youtube video channel"><i class="icon icon-youtube notranslate"aria-hidden="true"></i></a><li><a href="https://soundcloud.com/yegor256"rel="nofollow"title="My podcast"><i class="icon icon-podcast notranslate"aria-hidden="true"></i></a><li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721"rel="nofollow"title="My iTunes podcast"><i class="icon icon-itunes notranslate"aria-hidden="true"></i></a><li><a href="https://t.me/yegor256news"rel="nofollow"title="My Telegram public channel"><i class="icon icon-telegram notranslate"aria-hidden="true"></i></a><li><a href="mailto:blog@yegor256.com"rel="nofollow"title="Email me any time"><i class="icon icon-mail notranslate"aria-hidden="true"></i></a></ul><ul class="menu"><li><a href="/"title="Home page">Home</a><li><a href="/best.html"title="Best articles to read">12&#160;Best</a><li><a href="/contents.html"title="The contents of the entire blog">All&#160;485</a><li><a href="/teaching.html"title="My courses and lectures">Teaching</a><li><a href="/talks.html"title="Future and past conference talks">Talks</a><li><a href="/books.html"title="The books I wrote">Books</a><li><a href="/research.html"title="My research directions and progress">Research</a><li><a href="/pets.html"title="My loved pet projects">Pets</a><li><a href="/trainings.html"title="On-site trainings">Trainings</a><li><a href="https://www.iccq.ru"title="International Conference on Code Quality">ICCQ</a><li><a href="https://www.kaicode.org"title="Open Source Festival">KaiCode</a><li><a href="/testimonials.html"title="What some people say about me">Testimonials</a><li><a href="/shift-m.html"title="Audio podcast about project management">Shift-M</a><li><a href="/paintings.html"title="My paintings for sale">Art</a></ul></nav><div class="search"><form action="https://www.google.com/search"itemprop="potentialAction"itemscope=""itemtype="http://schema.org/SearchAction"><meta itemprop="target"content="https://www.google.com/search?q={q}"><input name="sitesearch"value="yegor256.com"type="hidden"> <input itemprop="query-input"id="search-query"class="field field-text"required="required"onfocus='$(".google").css("visibility","visible")'name="q"placeholder="Type üÑµ to search"autocomplete="off"> <input type="image"src="/images/google-search-icon.svg"class="google"title="Search via Google"alt="Search via Google"></form></div><div class="hot"><ul><li>We are organizing the <strong>6th <a href="https://www.iccq.ru/2026.html">ICCQ</a> conference</strong> in collaboration with <a href="https://www.iis.nsk.su/en">IIS</a> (Novosibirsk) and, hopefully, IEEE Computer Society. We're looking for volunteers to help us. If interested, please email at <a href="mailto:orgs@iccq.ru">orgs@iccq.ru</a> (attach your LinkedIn and GitHub profiles).<li>Are you familiar with open source and have a decent GitHub portfolio of contributions? <strong>We need freelancers</strong>, working remotely and paid by result, for <a href="https://www.eolang.org">EO</a>, a new programming language. Join our Telegram group, we'll discuss: <a href="https://t.me/eolang_org">@eolang_org</a>.</ul></div></header></div><section itemscope=""itemtype="http://schema.org/BlogPosting"><div class="wrapper"><header><p class="printable"><img src="https://api.qrserver.com/v1/create-qr-code/?data=https://www.yegor256.com/2017/06/13/dynamodb-rack-maven.html&amp;format=svg"style="width:125px;height:125px"alt="QR code"><p class="printable"><code itemprop="url">https://www.yegor256.com/170613.html</code><h1 itemprop="name headline mainEntityOfPage">DynamoDB + Rake + Maven + Rack::Test</h1><ul class="subline"><li><time itemprop="datePublished"datetime="2017-06-13T00:00:00+00:00">13 June 2017</time><li class="desktop-only"itemprop="locationCreated">Odessa, Ukraine<li class="printable"itemscope=""itemprop="author"itemtype="http://schema.org/Person"><span itemprop="name">Yegor Bugayenko</span><li class="unprintable"><i class="icon icon-comments"></i> <a href="https://www.yegor256.com/2017/06/13/dynamodb-rack-maven.html#disqus_thread"itemprop="discussionUrl">comments</a></ul><ul class="unprintable subline"><li title="The page is translated by ChatGPT from English to a few languages">Translated by <i class="icon icon-chatgpt notranslate"aria-hidden="true"></i> to<li title="Click to see this page translated to Chinese"><a href="https://www.yegor256.com/zh/2017/06/13/dynamodb-rack-maven.html">‰∏≠Êñá</a><li title="Click to see this page translated to Russian"><a href="https://www.yegor256.com/ru/2017/06/13/dynamodb-rack-maven.html">—Ä—É—Å—Å–∫–∏–π</a></ul><p class="unprintable"><a href="/tag/aws.html"class="tag notranslate"><img src="/images/icons/aws-white.svg"alt="Amazon Web Services">aws</a> <a href="/tag/ruby.html"class="tag notranslate"><img src="/images/icons/ruby-white.svg"alt="Ruby">ruby</a> <a href="/tag/testing.html"class="tag notranslate">testing</a><nav class="buttons notranslate desktop-only"><a href="https://www.facebook.com/sharer/sharer.php?u=https://www.yegor256.com/2017/06/13/dynamodb-rack-maven.html"title="Share on Facebook"class="button"rel="nofollow"><span class="count count-facebook">0</span> <i class="icon icon-facebook notranslate"aria-hidden="true"></i> </a><a href="https://twitter.com/share?url=https://www.yegor256.com/2017/06/13/dynamodb-rack-maven.html&amp;text=DynamoDB+%2B+Rake+%2B+Maven+%2B+Rack%3A%3ATest"title="Share on Twitter"class="button"rel="nofollow"><span class="count count-twitter">0</span> <i class="icon icon-twitter notranslate"aria-hidden="true"></i> </a><a href="https://www.linkedin.com/cws/share?url=https://www.yegor256.com/2017/06/13/dynamodb-rack-maven.html"title="Share on LinkedIn"class="button"rel="nofollow"><span class="count count-linkedin">0</span> <i class="icon icon-linkedin notranslate"aria-hidden="true"></i> </a><a href="https://reddit.com/submit?url=https://www.yegor256.com/2017/06/13/dynamodb-rack-maven.html%3F2017-24&amp;title=DynamoDB+%2B+Rake+%2B+Maven+%2B+Rack%3A%3ATest"title="Share on Reddit"class="button"rel="nofollow"><span class="count count-reddit">0</span> <i class="icon icon-reddit notranslate"aria-hidden="true"></i> </a><a href="https://news.ycombinator.com/submitlink?u=https://www.yegor256.com/2017/06/13/dynamodb-rack-maven.html%3F2017-24&amp;t=DynamoDB+%2B+Rake+%2B+Maven+%2B+Rack%3A%3ATest"title="Share on Hacker News"class="button"rel="nofollow"><span class="count count-hackernews">0</span> <i class="icon icon-hackernews notranslate"aria-hidden="true"></i> </a><a href="#"title="Cite it via BibTeX"class="button"onclick='return $("#bibtex").toggle(),!1'><i class="icon icon-tex notranslate"aria-hidden="true"></i></a></nav></header><article class="main"itemprop="articleBody"><div><div id="bibtex"style="display:none"><p>Please, cite this blog post via <a href="https://www.bibtex.org/">BibTeX</a> as such:<pre style="color:#053c5e">@misc&#123;bugayenko2017blog0613,
  author = &#123;Bugayenko, Yegor&#125;,
  title = &#123;&#123;DynamoDB + Rake + Maven + Rack::Test&#125;&#125;,
  howpublished = &#123;\url&#123;https://www.yegor256.com/170613.html&#125;&#125;,
  year = &#123;2017&#125;,
  month = &#123;jun&#125;,
  note = &#123;[Online; accessed 27-12-2025]&#125;
&#125;</pre></div><p>In <a href="/2017/04/25/sixnines.html">SixNines.io</a>, one of my Ruby pet web apps, I‚Äôm using <a href="https://aws.amazon.com/dynamodb/">DynamoDB</a>, a NoSQL cloud database by <a href="https://aws.amazon.com/">AWS</a>. It works like a charm, but the problem is that it‚Äôs not so easy to create an integration test, to make sure my code works together with the ‚Äúreal‚Äù DynamoDB server and tables. Let me show you how it was solved. The code is open source and you can see it in the <a href="https://github.com/yegor256/sixnines">yegor256/sixnines</a> GitHub repo.<h2 id="how-to-bootstrap-dynamodb-local">How to bootstrap DynamoDB Local</h2><p>First, you need to use <a href="https://aws.amazon.com/blogs/aws/dynamodb-local-for-desktop-development/">DynamoDB Local</a>, a command line tool created by AWS exactly for the purposes of testing. You need to start it before your integration tests and stop it afterwards.<p>To make things simpler I suggest you use <a href="https://dynamodb.jcabi.com/"><code class="language-plaintext highlighter-rouge">jcabi-dynamodb-maven-plugin</code></a>, a <a href="https://maven.apache.org/">Maven</a> plugin that I <a href="/2014/05/01/dynamodb-local-maven-plugin.html">made</a> a few years ago. You will need to add <a href="https://github.com/yegor256/sixnines/blob/0.17/dynamodb-local/pom.xml"><code class="language-plaintext highlighter-rouge">pom.xml</code></a> to your repository and start/stop Maven from a <a href="https://github.com/yegor256/sixnines/blob/0.17/Rakefile"><code class="language-plaintext highlighter-rouge">Rakefile</code></a>, just like I‚Äôm doing <a href="https://github.com/yegor256/sixnines/blob/0.17/Rakefile#L50-L67">here</a>:<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">task</span> <span class="ss">:dynamo</span> <span class="k">do</span>
  <span class="no">FileUtils</span><span class="p">.</span><span class="nf">rm_rf</span><span class="p">(</span><span class="s1">'dynamodb-local/target'</span><span class="p">)</span>
  <span class="n">pid</span> <span class="o">=</span> <span class="no">Process</span><span class="p">.</span><span class="nf">spawn</span><span class="p">(</span><span class="s1">'mvn'</span><span class="p">,</span> <span class="s1">'install'</span><span class="p">,</span> <span class="ss">chdir: </span><span class="s1">'dynamodb-local'</span><span class="p">)</span>
  <span class="nb">at_exit</span> <span class="k">do</span>
    <span class="sb">`kill -TERM </span><span class="si">#{</span><span class="n">pid</span><span class="si">}</span><span class="sb">`</span>
  <span class="k">end</span>
  <span class="k">begin</span>
    <span class="no">Dynamo</span><span class="p">.</span><span class="nf">new</span><span class="p">.</span><span class="nf">aws</span><span class="p">.</span><span class="nf">describe_table</span><span class="p">(</span><span class="ss">table_name: </span><span class="s1">'sn-endpoints'</span><span class="p">)</span>
  <span class="k">rescue</span> <span class="no">Exception</span> <span class="o">=&gt;</span> <span class="n">e</span>
    <span class="nb">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="k">retry</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div><p>First, I‚Äôm removing <code class="language-plaintext highlighter-rouge">dynamodb-local/target</code>, the directory where Maven keeps its temporary files, to make sure we always start from scratch.<p>Then, I‚Äôm starting <code class="language-plaintext highlighter-rouge">mvn install</code>, using <code class="language-plaintext highlighter-rouge">Process.spawn</code>, as a background process with <code class="language-plaintext highlighter-rouge">pid</code> as its process ID (this won‚Äôt work in Windows, only Linux/Mac). Then I immediately register an <a href="https://ruby-doc.org/core-2.2.3/Kernel.html#method-i-at_exit"><code class="language-plaintext highlighter-rouge">at_exit</code></a> Ruby hook, which will be executed if Ruby dies for any reason. I‚Äôm sure it‚Äôs obvious why I have to do that‚Äîin order to avoid garbage running in the background after Rake is finished or terminated.<p>Pay attention, I‚Äôm using <code class="language-plaintext highlighter-rouge">kill -TERM</code> instead of <code class="language-plaintext highlighter-rouge">kill -KILL</code>, in order to give Maven a chance to wrap everything up, terminate DynamoDB Local correctly, close its TCP port and exit.<h2 id="how-to-check-that-its-running">How to check that it‚Äôs running</h2><p>Next I‚Äôm checking the status of <code class="language-plaintext highlighter-rouge">sn-endpoints</code>, one of the tables in the DynamoDB Local. It has to be there if the server is up and running. It will be created by <code class="language-plaintext highlighter-rouge">jcabi-dynamodb-maven-plugin</code> according to <a href="https://github.com/yegor256/sixnines/blob/0.17/dynamodb-local/tables/sn-endpoints.json"><code class="language-plaintext highlighter-rouge">sn-endpoints.json</code></a>, its JSON configuration.<p>Most probably the table won‚Äôt be ready immediately though, since it takes time to bootstrap Maven, start the server, and create tables there. That‚Äôs why, if the exception is thrown, I catch it, wait for 5 seconds and try again. I keep trying many times, until the server is ready. Eventually it will be. It takes about 12-15 seconds on my MacBook, which means 2-3 attempts/exceptions.<h2 id="how-to-connect-to-dynamodb-local">How to connect to DynamoDB Local</h2><p>My classes need to know how to connect to the server during integration tests. In production they need to connect to AWS, in testing they have to know about the DynamoDB Local instance I just started. This is what I have in my class <a href="https://github.com/yegor256/sixnines/blob/0.17/objects/dynamo.rb"><code class="language-plaintext highlighter-rouge">Dynamo</code></a>, which is responsible for the very connection with DynamoDB. Its decision on where to connect is based on the environment variable <code class="language-plaintext highlighter-rouge">RACK_ENV</code>, which is set to <code class="language-plaintext highlighter-rouge">"test"</code> in <a href="https://github.com/yegor256/sixnines/blob/0.17/test/test__helper.rb#L25"><code class="language-plaintext highlighter-rouge">test__helper.rb</code></a>, which is included by <a href="https://github.com/yegor256/sixnines/blob/0.17/Rakefile#L39"><code class="language-plaintext highlighter-rouge">rake/testtask</code></a> in front of all other tests, thanks to the double underscore in its name.<p>If the environment variable is set to <code class="language-plaintext highlighter-rouge">"test"</code>, <code class="language-plaintext highlighter-rouge">Dynamo</code> takes the connectivity parameters from the YAML file <a href="https://github.com/yegor256/sixnines/blob/0.17/objects/dynamo.rb#L37"><code class="language-plaintext highlighter-rouge">dynamodb-local/target/dynamo.yml</code></a> created by <a href="https://github.com/yegor256/sixnines/blob/0.17/dynamodb-local/pom.xml#L79-L100"><code class="language-plaintext highlighter-rouge">maven-resources-plugin:copy-resources</code></a>. The TCP port of the DynamoDB Local database will be <a href="https://github.com/yegor256/sixnines/blob/0.17/dynamodb-local/config/dynamo.yml">there</a>, as well as the DynamoDB authentication key and secret.<h2 id="how-to-run-the-integration-tests">How to run the integration tests</h2><p>This is the easiest part. I just use my objects the way they are supposed to be used in production and they connect to DynamoDB Local instead of AWS.<p>I‚Äôm using Rack::Test in order to test the entire application, via a set of HTTP calls. For example, <a href="https://github.com/yegor256/sixnines/blob/0.17/test/test_sixnines.rb#L143-L147">here</a> I‚Äôm trying to render Jeff‚Äôs user account page. Its HTTP response code is supposed to be 200:<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">require</span> <span class="err">'</span><span class="n">test</span><span class="o">/</span><span class="n">unit</span><span class="err">'</span>
<span class="n">require</span> <span class="err">'</span><span class="n">rack</span><span class="o">/</span><span class="n">test</span><span class="err">'</span>
<span class="kd">class</span> <span class="nc">AppTest</span> <span class="o">&lt;</span> <span class="nl">Test:</span><span class="o">:</span><span class="nl">Unit:</span><span class="o">:</span><span class="nc">TestCase</span>
  <span class="n">include</span> <span class="nl">Rack:</span><span class="o">:</span><span class="nl">Test:</span><span class="o">:</span><span class="nc">Methods</span>
  <span class="n">def</span> <span class="n">app</span>
    <span class="nl">Sinatra:</span><span class="o">:</span><span class="nc">Application</span>
  <span class="n">end</span>
  <span class="n">def</span> <span class="n">test_user_account</span>
    <span class="nf">header</span><span class="o">(</span><span class="err">'</span><span class="nc">Cookie</span><span class="err">'</span><span class="o">,</span> <span class="err">'</span><span class="n">sixnines</span><span class="o">=</span><span class="n">jeff</span><span class="err">'</span><span class="o">)</span>
    <span class="n">get</span><span class="o">(</span><span class="err">'</span><span class="o">/</span><span class="n">a</span><span class="err">'</span><span class="o">)</span>
    <span class="n">assert_equal</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="n">last_response</span><span class="o">.</span><span class="na">status</span><span class="o">)</span>
  <span class="n">end</span>
</code></pre></div></div><p>##<p>Now you can run the entire test from the command line. You can see how <a href="/2014/09/11/deployment-script-vs-rultor.html">Rultor</a> runs it while releasing a new version: <a href="https://www.rultor.com/t/11705-302080694">full log</a>. Also, see how it works <a href="https://travis-ci.org/yegor256/sixnines">in Travis</a>. In a nutshell:<ul><li>You call <code class="language-plaintext highlighter-rouge">rake</code> in the command line and Rake starts;<li>Rake attempts to run the <a href="https://github.com/yegor256/sixnines/blob/0.17/Rakefile#L32"><code class="language-plaintext highlighter-rouge">default</code></a> task, which depends on <a href="https://github.com/yegor256/sixnines/blob/0.17/Rakefile#L36"><code class="language-plaintext highlighter-rouge">test</code></a>;<li>Rake attempts to run <code class="language-plaintext highlighter-rouge">test</code>, which depends on <a href="https://github.com/yegor256/sixnines/blob/0.17/Rakefile#L50"><code class="language-plaintext highlighter-rouge">dynamo</code></a>;<li>Rake, inside <code class="language-plaintext highlighter-rouge">test</code> task, runs <code class="language-plaintext highlighter-rouge">mvn install</code> in the background with this <a href="https://github.com/yegor256/sixnines/blob/0.17/dynamodb-local/pom.xml"><code class="language-plaintext highlighter-rouge">pom.xml</code></a>;<li>Maven <a href="https://github.com/yegor256/sixnines/blob/0.17/dynamodb-local/pom.xml#L38-L60">unpacks</a> DynamoDB Local installation package;<li>Maven <a href="https://github.com/yegor256/sixnines/blob/0.17/dynamodb-local/pom.xml#L61-L78">reserves</a> a random TCP port and stores its value into <code class="language-plaintext highlighter-rouge">${dynamo.port}</code>;<li>Maven <a href="https://github.com/yegor256/sixnines/blob/0.17/dynamodb-local/pom.xml#L79-L100">saves</a> <code class="language-plaintext highlighter-rouge">${dynamo.port}</code> and key/secret pair info;<li>Maven <a href="https://github.com/yegor256/sixnines/blob/0.17/dynamodb-local/pom.xml#L101-L128">starts</a> DynamoDB Local, binding it to the reserved TCP port;<li>Rake <a href="https://github.com/yegor256/sixnines/blob/0.17/Rakefile#L57-L65">waits</a> for DynamoDB Local availability on the reserved port;<li>Rake <a href="https://github.com/yegor256/sixnines/blob/0.17/Rakefile#L38-L39">imports</a> all <a href="https://github.com/yegor256/sixnines/tree/0.17/test">test classes</a> starting from <a href="https://github.com/yegor256/sixnines/blob/0.17/test/test__helper.rb">test__helper.rb</a>;<li>Environment variable <code class="language-plaintext highlighter-rouge">RACK_ENV</code> is <a href="https://github.com/yegor256/sixnines/blob/0.17/test/test__helper.rb#L25">set</a> to <code class="language-plaintext highlighter-rouge">"test"</code>;<li>Rack::Test <a href="https://github.com/yegor256/sixnines/blob/0.17/test/test_sixnines.rb#L145">attempts</a> to dispatch a web page;<li><a href="https://github.com/yegor256/sixnines/blob/0.17/objects/dynamo.rb"><code class="language-plaintext highlighter-rouge">Dynamo</code></a> <a href="https://github.com/yegor256/sixnines/blob/0.17/objects/dynamo.rb#L37-L39">loads</a> YAML config from <a href="https://github.com/yegor256/sixnines/blob/0.17/dynamodb-local/config/dynamo.yml"><code class="language-plaintext highlighter-rouge">dynamo.yml</code></a> and connects to DynamoDB Local;<li>Rake stops;<li>Ruby <a href="https://github.com/yegor256/sixnines/blob/0.17/Rakefile#L53-L56">terminates</a> Maven and it stops DynamoDB Local.</ul><p>That‚Äôs it.</div></article></div><script src="/js/disqus.js?fb01f51"></script><div class="disqus"role="complementary"aria-hidden="true"><p class="disqus_hint">Please, use <a href="https://help.disqus.com/commenting/what-html-tags-are-allowed-within-comments">syntax highlighting</a> in your comments, to make them more readable.<div id="disqus_thread"class="disqus-thread"><a>&nbsp;</a></div><noscript><div><p class="red">JavaScript is disabled in your browser, that's why you can't see comments under this post.</div></noscript></div><div class="wrapper"><footer class="footer"><p>&copy; <span itemscope=""itemprop="copyrightHolder"itemtype="http://schema.org/Person"><span itemprop="name">Yegor Bugayenko</span> </span>, 2014&ndash;<span itemprop="copyrightYear">2025</span></footer></div></section><div class="wrapper unprintable"style="text-align:center;margin-top:2em"><a href="https://www.sixnines.io/h/3ba1652f"><img src="https://www.sixnines.io/b/3ba1652f?style=flat"alt="sixnines availability badge"></a>&nbsp; <a href="https://github.com/yegor256/blog/stargazers"><img src="https://img.shields.io/github/stars/yegor256/blog.svg?style=flat-square"alt="GitHub stars"></a></div>