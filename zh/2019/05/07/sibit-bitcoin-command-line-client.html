<!doctypehtml><html xmlns="https://www.w3.org/1999/xhtml"lang="en-US"xml:lang="en-US"itemscope=""itemtype="http://schema.org/WebSite"><meta charset="utf-8"><meta name="description"content="Bitcoin, despite all the mystery around Blockchain, is not so technically complex; here is a quick summary of how it works and how you can use it from the command line."><meta name="keywords"content=""><meta name="viewport"content="width=device-width,minimum-scale=1,initial-scale=1"><meta name="google-site-verification"content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8"><meta name="author"content="Yegor Bugayenko"><meta name="og:site_name"content="Yegor Bugayenko"><meta name="og:type"content="article"><meta name="og:locale"content="en_US"><meta name="twitter:account_id"content="4503599630178231"><meta name="twitter:creator"content="@yegor256"><meta name="twitter:site"content="@yegor256"><meta name="twitter:title"property="og:title"content="Sibit Demonstrates How Bitcoin Works"><meta name="twitter:description"property="og:description"content="Bitcoin, despite all the mystery around Blockchain, is not so technically complex; here is a quick summary of how it works and how you can use it from the command line."><meta name="twitter:url"property="og:url"content="https://www.yegor256.com/zh/2019/05/07/sibit-bitcoin-command-line-client.html"><meta name="telegram:channel"content="AAAAAEJFMRzsRTRxM3ec6A"><link rel="search"type="application/opensearchdescription+xml"href="/opensearch.xml"title="yegor256"><link rel="shortcut icon"href="/favicon.ico?ca021e3385f"><link rel="apple-touch-icon"href="/favicon.ico?ca021e3385f"><link rel="alternate"type="application/rss+xml"title="RSS for yegor256.com"href="https://www.yegor256.com/rss.xml"><link rel="stylesheet"href="/css/layout.css?ca021e3385f"><link rel="stylesheet"href="/css/icons.css?ca021e3385f"><link rel="canonical"href="https://www.yegor256.com/zh/2019/05/07/sibit-bitcoin-command-line-client.html"><title>Sibit Demonstrates How Bitcoin Works</title><div class="wrapper"><aside class="header-toggle unprintable"id="header-toggle"title="Show the menu"onclick='$("#header").show(),$("#header-toggle").hide()'>&#9776;</aside><header class="header"id="header"><div class="face"><a href="/about-me.html#form"class="sub"title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html"style="position:relative"><img src="/images/face-256x256.jpg"class="photo"alt="Yegor Bugayenko"></a></div><nav><ul class="menu social notranslate"><li><a href="https://twitter.com/intent/follow?screen_name=yegor256"rel="nofollow"title="Follow me on Twitter"><i class="icon icon-twitter notranslate"aria-hidden="true"></i></a><li><a href="/rss.xml"rel="nofollow"title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://github.com/yegor256"rel="nofollow"title="My GitHub profile"><i class="icon icon-github notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="http://stackoverflow.com/users/187141/yegor256"rel="nofollow"title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://www.facebook.com/yegor256"rel="nofollow"title="Follow me on Facebook"><i class="icon icon-facebook notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://instagram.com/yegor256"rel="nofollow"title="Follow me on Instagram"><i class="icon icon-instagram notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://www.linkedin.com/in/yegor256"rel="nofollow"title="My LinkedIn profile"><i class="icon icon-linkedin notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://www.youtube.com/c/yegor256?sub_confirmation=1"rel="nofollow"title="My Youtube video channel"><i class="icon icon-youtube notranslate"aria-hidden="true"></i></a><li><a href="https://soundcloud.com/yegor256"rel="nofollow"title="My podcast"><i class="icon icon-podcast notranslate"aria-hidden="true"></i></a><li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721"rel="nofollow"title="My iTunes podcast"><i class="icon icon-itunes notranslate"aria-hidden="true"></i></a><li><a href="https://t.me/yegor256news"rel="nofollow"title="My Telegram public channel"><i class="icon icon-telegram notranslate"aria-hidden="true"></i></a><li><a href="mailto:blog@yegor256.com"rel="nofollow"title="Email me any time"><i class="icon icon-mail notranslate"aria-hidden="true"></i></a></ul><ul class="menu"><li><a href="/"title="Home page">Home</a><li><a href="/best.html"title="Best articles to read">12&#160;Best</a><li><a href="/contents.html"title="The contents of the entire blog">All&#160;395</a><li><a href="/teaching.html"title="My courses and lectures">Teaching</a><li><a href="/talks.html"title="Future and past conference talks">Talks</a><li><a href="/books.html"title="The books I wrote">Books</a><li><a href="/research.html"title="My research directions and progress">Research</a><li><a href="/pets.html"title="My loved pet projects">Pets</a><li><a href="/testimonials.html"title="What some people say about me">Testimonials</a><li><a href="/shift-m.html"title="Audio podcast about project management">Shift-M</a><li><a href="/paintings.html"title="My paintings for sale">Art</a><li><a href="https://ru.yegor256.com/"title="Немного на русском языке о политике в России, Украине и мире">Политика</a></ul></nav><div class="search"><form action="https://www.google.com/search"itemprop="potentialAction"itemscope=""itemtype="http://schema.org/SearchAction"><meta itemprop="target"content="https://www.google.com/search?q={q}"><input name="sitesearch"value="yegor256.com"type="hidden"> <input itemprop="query-input"id="search-query"class="field field-text"required="required"onfocus='$(".google").css("visibility","visible")'name="q"placeholder="Search..."autocomplete="off"> <input type="image"src="/images/google-search-icon.svg"class="google"title="Search via Google"alt="Search via Google"></form></div><div class="hot"><ul></ul></div></header></div><section itemscope=""itemtype="http://schema.org/BlogPosting"><div class="wrapper"><header><h1 itemprop="name headline mainEntityOfPage">Sibit Demonstrates How Bitcoin Works</h1></header><article class="main"itemprop="articleBody"style="font-family:sans-serif;font-size:.9em;line-height:1.2em"><p style="color:#c42c00">The following text is a <em>partial</em> translation of the <a href="https://www.yegor256.com/2019/05/07/sibit-bitcoin-command-line-client.html">original English article</a>, performed by <a href="https://chat.openai.com/">ChatGPT</a> (gpt-3.5-turbo) and <a href="https://github.com/yegor256/jekyll-chatgpt-translate">this Jekyll plugin</a>:<p><a href="https://www.bitcoin.org">比特币</a> 对我来说一直是一个巨大的技术谜团。我读到的所有关于它的文章都听起来非常复杂，完全难以理解。直到我被困在一个任务中：我必须将<a href="https://www.zold.io">Zold</a>，我们的实验性非区块链加密货币，与比特币进行整合。我不得不研究比特币的架构，然后我找到了这个简短而简单的<a href="https://www.youtube.com/watch?v=IV9pRBq5A4g">视频</a>（我强烈推荐你观看）。我成功实现了整合，并理解了区块链的工作原理。这是我的简短总结。希望对你有所帮助。<p>首先，有一个<a href="https://en.bitcoin.it/wiki/Private_key">私钥</a>，它是一个短小的文本片段，例如：<p>我是如何生成它的？这是随机的。你也可以生成一个。安装<a href="https://github.com/yegor256/sibit">Sibit</a>，我的Ruby gem，并运行以下命令（它是一个命令行工具）：<p>每次调用<code class="language-plaintext highlighter-rouge">sibit generate</code>，您都会获得一个新的私钥。它只是一段随机的文本（实际上是一个很大的十六进制数）。然后，您可以使用私钥创建一个<a href="https://en.bitcoin.it/wiki/Address">地址</a>。每个私钥只对应一个地址。以下是创建地址的步骤：<p>您将其交给希望向您发送付款的人。比特币交易并不是您想象中的银行交易。比特币交易包含若干个<em>输入</em>和<em>输出</em>地址。例如，三个输入地址每个有10比特币，两个输出地址分别有25比特币和5比特币。所有输入的总和必须等于所有输出的总和。<p>因此，在一次交易中，您可以在地址之间转移大量数字货币。您可以将一百个输入地址发送到另外一百个输出地址。当我发现这一点时，我感到有些惊讶。交易可能相当大。而大小很重要。它们以字节计算。一次只有一个输入和一个输出的交易将消耗<a href="https://bitcoin.stackexchange.com/questions/1195/">约</a>220个字节。请记住这个数字，我们很快会回到它。<p>正如您已经想象到的那样，为了计算您地址上有多少钱，您只需浏览整个数据库中的所有交易（已经有<a href="https://www.blockchain.com/en/charts/n-transactions-total">超过4亿</a>条交易），并查看有多少交易将您的地址作为其输出（您的输入）。然后扣除任何既是您的输出又是其他人的输入的交易。您就得到了余额。有很多公共和免费的网络服务可以为您完成此工作。您不需要自己搜索整个数据库，只需使用<a href="https://www.blockchain.com/api/blockchain_api">Blockchain API</a>（例如），他们将为您提供有关任何比特币地址的信息。您可以尝试这个地址：<p>这是以<a href="https://en.bitcoin.it/wiki/Satoshi_%28unit%29">satoshi</a>为单位的0.2 BTC。点击<a href="https://www.blockchain.com/btc/address/1MUhYhaBqzgpwL1focqJNhTymdXbyky9UY">这里</a>，你会看到这个地址的输入和输出。只有一笔交易涉及到了这个地址。那个交易有一个输入和两个输出。其中一个输出是我的。我得到了0.2个比特币，它们仍然在这里，因为没有交易将它们<em>移动</em>到其他地方。<p>因此，简单来说，区块链数据库是一个包含每个交易的输入和输出的大型列表。一旦新的交易进入这个数据库，几个地址的余额就会发生变化。数据库只会增长，之前的交易不能被删除或修改。因此，一旦你的交易进入，资金就会从一个地址转移到另一个地址。<p>要创建一笔交易，你需要知道所有的输入地址、它们的私钥以及所有的输出地址。如果你想发送的金额大于你在单个地址中拥有的金额，你就需要多个输入。比特币中有一个被称为<a href="https://www.bitcoin.com/bitcoin-wallet-directory">钱包</a>的东西，它是一种软件，比如<a href="https://electrum.org/">Electrum</a>，它可以跟踪你所有的地址，并知道如何创建一笔交易，将多个地址组合起来作为输入。就是这样。<p>所以，你知道输入，你指定输出，并且你预计会留下一小部分未使用的金额。假设你的输入有10,000 satoshi，你指定了一个输出为8,000。你留下了2,000未使用。它们被称为<a href="https://en.bitcoin.it/wiki/Miner_fees">矿工费</a>。你将你的交易发送到所有的比特币节点，它们将其放入内存池，并尝试将几千个交易合并成一个<a href="https://en.bitcoin.it/wiki/Block">区块</a>。它们一起尝试，只有其中一个成功，<a href="https://bitcoin.stackexchange.com/questions/8823">大约</a>每十分钟一次。一旦一个获胜者成功<a href="https://en.bitcoin.it/wiki/Mining">解决</a>一个区块，它就会赢得你在交易中未使用的那2,000。区块中的每一笔交易都会向这个获胜者支付一笔小费。<p>有可能不支付任何费用吗？<a href="https://bitcointalk.org/index.php?topic=245552">是的</a>。然而，你在交易中留下的费用越小，你的交易进入下一个区块的机会就越低。每个矿工都希望从每个区块中获得最大利益，并在尝试<a href="https://en.bitcoin.it/wiki/Mining">挖掘</a>时将最“慷慨”的交易放入区块中。<p>费用取决于交易的字节大小。由于任何交易都可能包含多个输入和输出，所以只有大小是重要的。例如，我在<a href="https://www.blockchain.com/btc/tx/eede4bb2ad4e3c21a09cf238a282b08daab66937c726dce8fe07ab55793c4c51">这笔交易</a>中支付的费用是8,971 satoshi，大约是每字节40 satoshi，因为我的交易包含225个字节。<p>要将你的交易发送到所有的比特币节点，你有两个选择。第一个选择是启动你自己的<a href="https://en.bitcoin.it/wiki/Full_node">完整节点</a>，它将通过比特币<a href="https://en.bitcoin.it/wiki/Protocol_documentation">协议</a>与<a href="https://en.wikipedia.org/wiki/Bitcoin_network">其他节点</a>进行通信。第二个选择是使用HTTP中继之一，你只需在POST HTTP请求中发布你的交易，中继会将其发送到所有的比特币节点；<a href="https://www.blockchain.com/btc/pushtx">这是</a>其中一个。<p><a href="https://github.com/yegor256/sibit">Sibit</a>可以自动化这个过程。你只需说：<p>这里，第一个参数是您要发送的金额。第二个参数是您想保持不变的手续费。为了帮助您避免计算，我将它简化了。只需说<code class="language-plaintext highlighter-rouge">S</code>、<code class="language-plaintext highlighter-rouge">M</code>、<code class="language-plaintext highlighter-rouge">L</code>或<code class="language-plaintext highlighter-rouge">XL</code>，手续费就会被更或多少地计算正确。第三个参数是由冒号分隔的地址及其私钥的列表。第四个参数是目标地址（<a href="https://github.com/yegor256/sibit">Sibit</a>使得只能发送到一个地址）。最后一个参数是将会发送找零<a href="https://en.bitcoin.it/wiki/Change">（change）</a>的地址。<p>如果您的输入中有50,000 satoshi，并且您想发送15,000 satoshi给一个朋友，您必须找到一个地方将其他的35,000 satoshi发送过去，当然还要减去矿工费。您只需提供自己的地址，找零将会送到那里。<p>这基本上就是您使用比特币和区块链所需了解的全部内容。我错过了什么吗？<p class="jekyll-chatgpt-translate">Translated by ChatGPT gpt-3.5-turbo/42 on 2023-12-27 at 04:47</article></div><div class="wrapper"><footer class="footer"><p>&copy; <span itemscope=""itemprop="copyrightHolder"itemtype="http://schema.org/Person"><span itemprop="name">Yegor Bugayenko</span> </span>2014&ndash;<span itemprop="copyrightYear">2023</span></footer></div></section><div class="wrapper unprintable"style="text-align:center;margin-top:2em"><a href="https://www.sixnines.io/h/3ba1652f"><img src="//www.sixnines.io/b/3ba1652f?style=flat"alt="sixnines availability badge"></a>&nbsp; <a href="https://github.com/yegor256/blog/stargazers"><img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square"alt="GitHub stars"></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script><script src="/js/all.js?ca021e3385f"></script><script>var disqus_shortname="yegor256"</script><script id="dsq-count-scr"src="//yegor256.disqus.com/count.js"async="async"></script><script>((e,a,t,g,n,c)=>{e.GoogleAnalyticsObject=g,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=+new Date,n=a.createElement(t),c=a.getElementsByTagName(t)[0],n.async=1,n.src="//www.google-analytics.com/analytics.js",c.parentNode.insertBefore(n,c)})(window,document,"script","ga"),ga("create","UA-1963507-32","auto"),ga("send","pageview")</script><script>Cd=document,Cr="&"+Math.random(),Cp="&s=1",Cd.cookie="b=b",Cd.cookie&&(Cp+="&c=1"),Cp+="&t="+(new Date).getTimezoneOffset(),self!=top&&(Cp+="&f=1")</script><script>navigator.javaEnabled()&&(Cp+="&j=1")</script><script>"undefined"!=typeof screen&&(Cp+="&w="+screen.width+"&h="+screen.height+"&d="+(screen.colorDepth||screen.pixelDepth))</script><script>Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+"&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+"' border='0' width='1' height='1'/>")</script><script type="application/ld+json">{ "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] }</script>