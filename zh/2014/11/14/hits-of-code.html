<!doctypehtml><html xmlns="http://www.w3.org/1999/xhtml"lang="en-US"xml:lang="en-US"itemscope=""itemtype="http://schema.org/WebSite"><meta charset="utf-8"><meta name="description"content="The Hits of Code (HoC) metric is an alternative measurement indicator that can replace Software Lines Of Code (SLoC) and help in software development progress tracking."><meta name="keywords"content=""><meta name="viewport"content="width=device-width,minimum-scale=1,initial-scale=1"><meta name="google-site-verification"content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8"><meta name="author"content="Yegor Bugayenko"><meta name="og:site_name"content="Yegor Bugayenko"><meta name="og:type"content="article"><meta name="og:locale"content="en_US"><meta name="twitter:account_id"content="4503599630178231"><meta name="twitter:creator"content="@yegor256"><meta name="twitter:site"content="@yegor256"><meta name="twitter:title"property="og:title"content="Hits-of-Code Instead of SLoC"><meta name="twitter:description"property="og:description"content="The Hits of Code (HoC) metric is an alternative measurement indicator that can replace Software Lines Of Code (SLoC) and help in software development progress tracking."><meta name="twitter:url"property="og:url"content="https://www.yegor256.com/zh/2014/11/14/hits-of-code.html"><meta name="telegram:channel"content="AAAAAEJFMRzsRTRxM3ec6A"><link rel="search"type="application/opensearchdescription+xml"href="/opensearch.xml"title="yegor256"><link rel="shortcut icon"href="/favicon.ico?19fbb713f25"><link rel="apple-touch-icon"href="/favicon.ico?19fbb713f25"><link rel="alternate"type="application/rss+xml"title="RSS for yegor256.com"href="https://www.yegor256.com/rss.xml"><link rel="stylesheet"href="/css/layout.css?19fbb713f25"><link rel="stylesheet"href="/css/icons.css?19fbb713f25"><link rel="canonical"href="https://www.yegor256.com/zh/2014/11/14/hits-of-code.html"><title>Hits-of-Code Instead of SLoC</title><div class="wrapper"><aside class="header-toggle unprintable"id="header-toggle"title="Show the menu"onclick='$("#header").show(),$("#header-toggle").hide()'>&#9776;</aside><header class="header"id="header"><div class="face"><a href="/about-me.html#form"class="sub"title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html"style="position:relative"><img src="/images/face-256x256.jpg"class="photo"alt="Yegor Bugayenko"></a></div><nav><ul class="menu social notranslate"><li><a href="https://twitter.com/intent/follow?screen_name=yegor256"rel="nofollow"title="Follow me on Twitter"><i class="icon icon-twitter notranslate"aria-hidden="true"></i></a><li><a href="/rss.xml"rel="nofollow"title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://github.com/yegor256"rel="nofollow"title="My GitHub profile"><i class="icon icon-github notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="http://stackoverflow.com/users/187141/yegor256"rel="nofollow"title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://www.facebook.com/yegor256"rel="nofollow"title="Follow me on Facebook"><i class="icon icon-facebook notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://instagram.com/yegor256"rel="nofollow"title="Follow me on Instagram"><i class="icon icon-instagram notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://www.linkedin.com/in/yegor256"rel="nofollow"title="My LinkedIn profile"><i class="icon icon-linkedin notranslate"aria-hidden="true"></i></a><li><a itemprop="sameAs"href="https://www.youtube.com/c/yegor256?sub_confirmation=1"rel="nofollow"title="My Youtube video channel"><i class="icon icon-youtube notranslate"aria-hidden="true"></i></a><li><a href="https://soundcloud.com/yegor256"rel="nofollow"title="My podcast"><i class="icon icon-podcast notranslate"aria-hidden="true"></i></a><li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721"rel="nofollow"title="My iTunes podcast"><i class="icon icon-itunes notranslate"aria-hidden="true"></i></a><li><a href="https://t.me/yegor256news"rel="nofollow"title="My Telegram public channel"><i class="icon icon-telegram notranslate"aria-hidden="true"></i></a><li><a href="mailto:blog@yegor256.com"rel="nofollow"title="Email me any time"><i class="icon icon-mail notranslate"aria-hidden="true"></i></a></ul><ul class="menu"><li><a href="/"title="Home page">Home</a><li><a href="/best.html"title="Best articles to read">12&#160;Best</a><li><a href="/contents.html"title="The contents of the entire blog">All&#160;392</a><li><a href="/teaching.html"title="My courses and lectures">Teaching</a><li><a href="/talks.html"title="Future and past conference talks">Talks</a><li><a href="/books.html"title="The books I wrote">Books</a><li><a href="/research.html"title="My research directions and progress">Research</a><li><a href="/pets.html"title="My loved pet projects">Pets</a><li><a href="/testimonials.html"title="What some people say about me">Testimonials</a><li><a href="/shift-m.html"title="Audio podcast about project management">Shift-M</a><li><a href="/paintings.html"title="My paintings for sale">Art</a><li><a href="https://ru.yegor256.com/"title="Немного на русском языке о политике в России, Украине и мире">Политика</a></ul></nav><div class="search"><form action="https://www.google.com/search"itemprop="potentialAction"itemscope=""itemtype="http://schema.org/SearchAction"><meta itemprop="target"content="https://www.google.com/search?q={q}"><input name="sitesearch"value="yegor256.com"type="hidden"> <input itemprop="query-input"id="search-query"class="field field-text"required="required"onfocus='$(".google").css("visibility","visible")'name="q"placeholder="Search..."autocomplete="off"> <input type="image"src="/images/google-search-icon.svg"class="google"title="Search via Google"alt="Search via Google"></form></div><div class="hot"><ul></ul></div></header></div><section itemscope=""itemtype="http://schema.org/BlogPosting"><div class="wrapper"><header><h1 itemprop="name headline mainEntityOfPage">Hits-of-Code Instead of SLoC</h1></header><article class="main"itemprop="articleBody"style="font-family:sans-serif;font-size:.9em;line-height:1.2em"><p style="color:#c42c00">The following text is a <em>partial</em> translation of the <a href="https://www.yegor256.com/2014/11/14/hits-of-code.html">original English article</a>, performed by <a href="https://chat.openai.com/">ChatGPT</a> (gpt-3.5-turbo) and <a href="https://github.com/yegor256/jekyll-chatgpt-translate">this Jekyll plugin</a>:<p><a href="https://en.wikipedia.org/wiki/Source_lines_of_code">行代码</a>（也称为 SLoC）是一个声誉糟糕的度量标准。试着<a href="https://www.google.com/search?q=line+of+code+metric">通过谷歌搜索</a>一下，你会发现有大量文章抨击它对软件开发过程的反效果和破坏性。主要的论点是我们不能通过编写的代码行数来衡量编程的进展。可能最著名的引用是归功于<a href="https://en.wikipedia.org/wiki/Bill_Gates">比尔·盖茨</a>。<p>基本上，这意味着飞机的某些部分在同样轻便的同时将需要更多的努力（例如像中央计算机这样的部件）。我们不应该测量飞机的重量，而应该测量投入其中的努力…不知怎么办。那么，这就是想法。我们可以用多少次程序员“触碰”这些代码行来衡量。我们将统计实际修改了多少次，而不是计算代码行的数量—我们可以从Git（或任何其他版本控制系统）获取这些信息。你触碰飞机的那个部分越多—你在上面花费的努力就越多，对吗？<p>我称之为代码触碰（HoC），并创建了一个小工具来帮助我们仅用一行计算这个数字。它是一个<a href="https://rubygems.org/gems/hoc">Ruby gem</a>，安装它并运行：<p>54687是您代码库中的代码行数总和。这个数字背后的原理很简单——每当在Git提交中修改、创建或删除一行代码时，计数器就会增加。<p>这个指标比代码行数（LoC）更好的主要原因是它更好地与实际投入到代码库中的工作相一致。以下是原因。<p>HoC指标总是在增长。今天它不能比昨天低—就像努力一样，它总是增加的。代码行数不是这样的。今天你可能有一个庞大的代码库，但是在重构后它会变得更小。代码行数减少了。这是否意味着你的效率降低了？绝对不是这样，但是对于非程序员来说，代码行数指标却是如此。例如，项目经理可能会认为，由于代码库的大小在过去一个月内保持不变，团队没有在工作。<p>HoC没有这种违反直觉的影响。相反，HoC随着每次提交而增长。你越多地在代码库上工作，HoC就越大。你的产品的绝对大小是多大或多小并不重要。重要的是你付出了多少努力。这就是为什么HoC非常直观，并可以用作软件开发进度的衡量标准。<p>看看这个18个月的图表；它展示了两个指标。我使用了相同的Java代码库<a href="https://github.com/yegor256/rultor">rultor</a>，一个DevOps助手。正如你在图表上看到的，代码库在几个月前经历了一次重大重构。我认为很明显，这个图表上的哪个指标更多地告诉我们关于对产品投入的努力。<p>对于HoC来说，代码库的绝对大小并不重要，而只有你对其的相对贡献有多大。<p>假设你有30万行代码，其中95％是从第三方库中复制粘贴的（顺便说一下，这是一种非常常见且糟糕的做法——将第三方代码保存在自己的存储库中）。代码行数会很多，但实际自定义代码部分将相对较小。因此，代码行数指标会产生误导性——它总是显示30万行，只是在其周围有小幅增减。每个人都会觉得团队正在处理30万行代码库。<p>另一方面，HoC始终将考虑到实际被修改的代码部分。HoC的值将与正在处理代码库的程序员的实际工作量客观相关。<p>LoC通常因其对代码复杂性的中立性而受到批评。一个自动生成的ORM类或一个复杂的排序算法在代码行数方面可能是相同的，但第一个只需要几秒钟就能编写完成，而第二个可能需要几周或几个月的时间。这就是为什么代码行数通常被认为是一个虚假的度量标准。<p>Hits-of-Code将复杂性考虑在内，因为你使用那个排序算法的时间越长，你对其代码行数进行的修改就越多。嗯，如果你经常使用Git并经常提交更改，那么这个说法是正确的—这是告诉Git你的工作进展的方式。<p>最后，看看我们团队在过去几年中完成的<a href="http://at.teamed.io/portfolio.html">这个开放项目列表</a>。每个项目都有两个指标：代码行数和代码命中数。有趣的是，相对较小的项目拥有非常大的（超过一百万）HoC数字。这立刻让我想起我们投入了多少时间以及它们的年龄。<p>在这个分析中，我使用了HoC指标：每行代码的支付费用是多少？那篇文章比较了一个传统项目，每个HoC支付3.98美元，和一个由<a href="https://www.zerocracy.com">Zerocracy</a>管理的开源项目，每个HoC支付13分。<p>我的结论是，Hits-of-Code指标可以用作软件开发项目的进度跟踪工具。此外，它还可以用于团队规模、项目预算、开发进度等的估算。显然，HoC不能是唯一的指标，但与其他指标结合使用，可以在估算、规划和跟踪方面大大帮助。<p>附注：试试<a href="https://hitsofcode.com/"><code class="language-plaintext highlighter-rouge">hitsofcode.com</code></a>。<p class="jekyll-chatgpt-translate">Translated by ChatGPT gpt-3.5-turbo/42 on 2023-11-28 at 15:42</article></div><div class="wrapper"><footer class="footer"><p>&copy; <span itemscope=""itemprop="copyrightHolder"itemtype="http://schema.org/Person"><span itemprop="name">Yegor Bugayenko</span> </span>2014&ndash;<span itemprop="copyrightYear">2023</span></footer></div></section><div class="wrapper unprintable"style="text-align:center;margin-top:2em"><a href="https://www.sixnines.io/h/3ba1652f"><img src="//www.sixnines.io/b/3ba1652f?style=flat"alt="sixnines availability badge"></a>&nbsp; <a href="https://github.com/yegor256/blog/stargazers"><img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square"alt="GitHub stars"></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script><script src="/js/all.js?19fbb713f25"></script><script>var disqus_shortname="yegor256"</script><script id="dsq-count-scr"src="//yegor256.disqus.com/count.js"async="async"></script><script>((e,a,t,g,n)=>{e.GoogleAnalyticsObject="ga",e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=+new Date,g=a.createElement(t),n=a.getElementsByTagName(t)[0],g.async=1,g.src="//www.google-analytics.com/analytics.js",n.parentNode.insertBefore(g,n)})(window,document,"script"),ga("create","UA-1963507-32","auto"),ga("send","pageview")</script><script>Cd=document,Cr="&"+Math.random(),Cp="&s=1",Cd.cookie="b=b",Cd.cookie&&(Cp+="&c=1"),Cp+="&t="+(new Date).getTimezoneOffset(),self!=top&&(Cp+="&f=1")</script><script>navigator.javaEnabled()&&(Cp+="&j=1")</script><script>"undefined"!=typeof screen&&(Cp+="&w="+screen.width+"&h="+screen.height+"&d="+(screen.colorDepth||screen.pixelDepth))</script><script>Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+"&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+"' border='0' width='1' height='1'/>")</script><script type="application/ld+json">{ "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] }</script>